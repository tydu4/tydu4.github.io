import{d as be}from"./DHr-Wc25.js";import{d as z,I as H,m as oe,z as re,x as ge,g as xe,aa as te,J as he,c as V,G as E,b as a,u as e,w as n,o as _,a as t,f,t as u,B as P,j as o,r as T,q as se,k as U,L as I,V as _e,$ as ye,Y as le,a0 as J,e as R,T as ie,F as G,E as K,_ as we,C as ke,U as $e}from"./D4tOOpea.js";import F from"./BG_yVKB1.js";import j from"./aAO3yGtp.js";import W from"./XuFcoXkY.js";import Q from"./DjphAWgs.js";import Z from"./DnsrSCZg.js";import Ce from"./C4HDHjU1.js";import Se from"./CtJ5tJ5V.js";import ue from"./DitAOtD7.js";import{P as Ne}from"./Bj71Owtf.js";import{S as de}from"./CDoVUn-y.js";import{H as Ve}from"./CepWY41C.js";import{C as ae}from"./D2IsZNJJ.js";import{M as Me}from"./DSD0DqAy.js";import{c as Ae}from"./BrE5OWI-.js";import{_ as Pe}from"./CvYBbEL2.js";import{_ as Te}from"./BDDka3Hv.js";const Le=Ae("lock-keyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]),Ue={class:"flex items-center justify-between gap-2"},Fe={class:"mt-2 text-sm text-muted-foreground"},ze={class:"mt-3 grid gap-2"},ne=z({__name:"ActionPanel",props:{event:{},floating:{type:Boolean,default:!1}},setup(p){const v=p,$=H(),m=oe(),l=re(),d=ge(),{share:k,isSupported:N}=be(),C=o(()=>v.event),x=o(()=>{const L=C.value.is_participant??C.value.has_ticket??C.value.is_going;return typeof L=="boolean"?L:!!C.value.my_ticket}),c=o(()=>{const L=(v.event.tickets??[]).map(A=>Number(A.price)).filter(A=>Number.isFinite(A)&&A>0);return L.length?Math.min(...L):null}),s=o(()=>c.value!==null),r=o(()=>{const L=v.event.stats?.going_count;return typeof L=="number"&&L>0?L:0}),i=o(()=>c.value===null?"":new Intl.NumberFormat("ru-RU",{maximumFractionDigits:0}).format(c.value)),b=o(()=>x.value?"Ğ£ Ğ²Ğ°Ñ ĞµÑÑ‚ÑŒ Ğ±Ğ¸Ğ»ĞµÑ‚":s.value?"Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ğ±Ğ¸Ğ»ĞµÑ‚":"Ğ’Ñ…Ğ¾Ğ´ Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ñ‹Ğ¹"),y=T("idle"),M=T(null),g=T(null),S=()=>{M.value&&clearTimeout(M.value),g.value&&clearTimeout(g.value),M.value=null,g.value=null},h=()=>{y.value==="idle"&&(y.value="loading",S(),M.value=setTimeout(()=>{y.value="success",$.push({level:"success",title:"ĞĞ¿Ğ»Ğ°Ñ‚Ğ°",message:"ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğº Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğµ"}),g.value=setTimeout(()=>{y.value="idle"},1400)},900))},w=o(()=>{if(!x.value){if(y.value==="loading")return"Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...";if(y.value==="success")return"Ğ£ÑĞ¿ĞµÑ…"}return x.value?"ĞœĞ¾Ğ¹ Ğ±Ğ¸Ğ»ĞµÑ‚":s.value?`ĞšÑƒĞ¿Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚ ${i.value} â‚½`:"Ğ—Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ"}),O=o(()=>x.value?"Ğ§Ğ°Ñ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ":"ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ"),B=o(()=>v.event.slug?.trim()||""),q=o(()=>B.value?`${window.location.origin}/e/${encodeURIComponent(B.value)}`:""),X=o(()=>({title:v.event.title?.trim()||"Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ",text:v.event.description?.trim()||"Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ² Smart Events",url:q.value})),Y=()=>{$.push({level:"success",title:"ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ",message:"Ğ¡ÑÑ‹Ğ»ĞºĞ° ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ°"})},ce=()=>{const L=navigator.maxTouchPoints>0,A=window.matchMedia?.("(pointer: coarse)").matches??!1,D=/Android|iPhone|iPad|iPod|Mobile|Opera Mini|IEMobile/i.test(navigator.userAgent);return L&&(A||D)},me=()=>N.value&&ce(),ve=()=>{l.openAuthPrompt({id:"event-buy-ticket",route:d.fullPath,context:{eventSlug:B.value,source:"event-action-panel"}})},fe=async()=>{if(x.value){await se("/tickets");return}if(m.isGuest){ve();return}h()},pe=async()=>{const L=B.value;if(x.value){await se(`/community?event=${encodeURIComponent(L)}`);return}const A=q.value;if(A){if(me())try{await k(X.value);return}catch(D){if(D instanceof Error&&D.name==="AbortError")return}if(navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(A),Y();return}catch{}$.push({level:"error",title:"ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ",message:"ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑÑÑ‹Ğ»ĞºÑƒ"})}},ee=L=>{const A=L.detail;if(!A||A.id!=="event-buy-ticket")return;const D=typeof A.context?.eventSlug=="string"?A.context.eventSlug:"";D&&D!==B.value||h()};return xe(()=>{window.addEventListener(te,ee)}),he(()=>{S(),window.removeEventListener(te,ee)}),(L,A)=>(_(),V("div",{class:E(p.floating?"fixed inset-x-0 bottom-0 z-50 border-t border-border bg-background/85 px-3 py-3 backdrop-blur":"")},[a(e(j),{class:"rounded-2xl border border-border p-4 shadow-soft"},{default:n(()=>[t("div",Ue,[A[0]||(A[0]=t("p",{class:"text-[11px] font-semibold uppercase tracking-[0.16em] text-muted-foreground"}," Action Panel ",-1)),a(e(F),{variant:"secondary"},{default:n(()=>[f(u(e(b)),1)]),_:1})]),t("p",Fe," Ğ’ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¸ ÑƒĞ¶Ğµ "+u(e(r))+" ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¾Ğ². ",1),t("div",ze,[a(e(P),{class:E(["w-full",e(y)==="success"?"bg-emerald-500 text-white hover:bg-emerald-500/90":""]),disabled:e(y)!=="idle"&&!e(x),onClick:fe},{default:n(()=>[f(u(e(w)),1)]),_:1},8,["class","disabled"]),a(e(P),{variant:"outline",class:"w-full",onClick:pe},{default:n(()=>[f(u(e(O)),1)]),_:1})])]),_:1})],2))}}),je={class:"space-y-4"},Be={class:"space-y-2"},Ie={class:"space-y-2"},Ee={class:"grid gap-2 sm:grid-cols-2"},Re=z({__name:"BuddyCreateForm",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(p,{emit:v}){const $=p,m=v,l=H(),d=o({get:()=>$.modelValue,set:c=>m("update:modelValue",c)}),k=T("Ğ¢Ğ°ĞºÑĞ¸"),N=T("ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒÑ Ğ²Ñ‹ĞµÑ…Ğ°Ñ‚ÑŒ Ğ² 18:00, ĞµÑÑ‚ÑŒ ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ¼ĞµÑÑ‚Ğ¾."),C=()=>{d.value=!1},x=()=>{l.push({level:"success",title:"Buddy Finder",message:"ĞĞ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ğ½Ğ¾"}),C()};return(c,s)=>(_(),U(e(Se),{modelValue:e(d),"onUpdate:modelValue":s[2]||(s[2]=r=>I(d)?d.value=r:null),class:"max-w-lg border-border bg-card text-foreground"},{default:n(()=>[t("div",je,[s[8]||(s[8]=t("div",null,[t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"ĞĞ¾Ğ²Ğ°Ñ Ğ·Ğ°ÑĞ²ĞºĞ°"),t("h3",{class:"text-lg font-semibold text-foreground"},"Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°ÑĞ²ĞºÑƒ")],-1)),t("div",Be,[s[4]||(s[4]=t("label",{class:"text-xs font-semibold uppercase tracking-[0.18em] text-muted-foreground"},"Ğ¦ĞµĞ»ÑŒ",-1)),_e(t("select",{"onUpdate:modelValue":s[0]||(s[0]=r=>I(k)?k.value=r:null),class:"h-10 w-full rounded-md border border-input bg-background px-3 text-sm text-foreground"},[...s[3]||(s[3]=[t("option",{value:"Ğ¢Ğ°ĞºÑĞ¸"},"Ğ¢Ğ°ĞºÑĞ¸",-1),t("option",{value:"Ğ‘Ğ°Ñ€"},"Ğ‘Ğ°Ñ€",-1),t("option",{value:"ĞĞµÑ‚Ğ²Ğ¾Ñ€ĞºĞ¸Ğ½Ğ³"},"ĞĞµÑ‚Ğ²Ğ¾Ñ€ĞºĞ¸Ğ½Ğ³",-1)])],512),[[ye,e(k)]])]),t("div",Ie,[s[5]||(s[5]=t("label",{class:"text-xs font-semibold uppercase tracking-[0.18em] text-muted-foreground"},"Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ",-1)),a(e(Ce),{modelValue:e(N),"onUpdate:modelValue":s[1]||(s[1]=r=>I(N)?N.value=r:null),rows:"4"},null,8,["modelValue"])]),t("div",Ee,[a(e(P),{variant:"outline",onClick:C},{default:n(()=>[...s[6]||(s[6]=[f("ĞÑ‚Ğ¼ĞµĞ½Ğ°",-1)])]),_:1}),a(e(P),{onClick:x},{default:n(()=>[...s[7]||(s[7]=[f("ĞĞ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ñ‚ÑŒ",-1)])]),_:1})])])]),_:1},8,["modelValue"]))}}),De={class:"flex items-center justify-between gap-2"},Oe={class:"mt-4"},Ge={class:"mt-4 max-h-[60vh] space-y-2 overflow-y-auto pr-1"},qe={class:"flex items-start gap-3"},He={class:"text-sm font-semibold text-foreground"},Ke={class:"text-xs text-muted-foreground"},We={class:"mt-1 text-xs text-muted-foreground"},Qe=z({__name:"BuddyListSheet",props:{modelValue:{type:Boolean},event:{}},emits:["update:modelValue"],setup(p,{emit:v}){const $=v,m=T(""),l=T(new Set),d=()=>$("update:modelValue",!1),k=o(()=>{const c=["Alex","Oleg","Mila","Roma","Nika","Pavel","Dasha","Ilya","Nastya","Artem","Lena","Igor","Sasha","Masha","Timur","Kirill","Vera","Max","Polina","Andrey"],s=["Ğ¢Ğ°ĞºÑĞ¸","Ğ‘Ğ°Ñ€","ĞĞµÑ‚Ğ²Ğ¾Ñ€ĞºĞ¸Ğ½Ğ³"];return c.map((r,i)=>({id:`${i+1}`,name:r,intent:s[i%s.length]||"ĞĞµÑ‚Ğ²Ğ¾Ñ€ĞºĞ¸Ğ½Ğ³",message:"Ğ¥Ğ¾Ñ‡Ñƒ Ğ½Ğ°Ğ¹Ñ‚Ğ¸ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ñ€Ğ¸ĞµÑ…Ğ°Ñ‚ÑŒ Ğ²Ğ¼ĞµÑÑ‚Ğµ.",avatar:""}))}),N=o(()=>{const c=m.value.trim().toLowerCase();return c?k.value.filter(s=>s.name.toLowerCase().includes(c)):k.value}),C=c=>l.value.has(c),x=c=>{const s=new Set(l.value);s.has(c)?s.delete(c):s.add(c),l.value=s};return(c,s)=>(_(),U(le,{to:"body"},[a(J,{"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:n(()=>[p.modelValue?(_(),V("div",{key:0,class:"fixed inset-0 z-[70] bg-black/60",onClick:d})):R("",!0)]),_:1}),a(J,{"enter-active-class":"transition-transform duration-250 ease-out","enter-from-class":"translate-y-8 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition-transform duration-200 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-8 opacity-0"},{default:n(()=>[p.modelValue?(_(),V("div",{key:0,class:"fixed inset-0 z-[80] flex items-end justify-center px-4 pb-4",onClick:d},[a(e(j),{class:"w-full max-w-xl rounded-3xl border border-border bg-card p-5 shadow-2xl",onClick:s[1]||(s[1]=ie(()=>{},["stop"]))},{default:n(()=>[t("div",De,[s[2]||(s[2]=t("h3",{class:"text-lg font-semibold text-foreground"},"Ğ—Ğ°ÑĞ²ĞºĞ¸ Buddy Finder",-1)),a(e(F),{variant:"secondary"},{default:n(()=>[f(u(e(N).length),1)]),_:1})]),t("div",Oe,[a(e(ue),{modelValue:e(m),"onUpdate:modelValue":s[0]||(s[0]=r=>I(m)?m.value=r:null),placeholder:"ĞŸĞ¾Ğ¸ÑĞº"},null,8,["modelValue"])]),t("div",Ge,[(_(!0),V(G,null,K(e(N),r=>(_(),V("div",{key:r.id,class:"flex items-start justify-between gap-3 rounded-2xl border border-border p-3"},[t("div",qe,[a(e(W),{class:"mt-1 h-10 w-10 border border-border"},{default:n(()=>[a(e(Q),{src:r.avatar,alt:r.name},null,8,["src","alt"]),a(e(Z),{class:"bg-primary/10 text-xs font-semibold text-primary"},{default:n(()=>[f(u(r.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1024),t("div",null,[t("p",He,u(r.name),1),t("p",Ke,"Ğ¦ĞµĞ»ÑŒ: "+u(r.intent),1),t("p",We,u(r.message),1)])]),a(e(P),{variant:"outline",size:"sm",onClick:i=>x(r.id)},{default:n(()=>[f(u(C(r.id)?"ğŸ‘‹":"ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒÑÑ"),1)]),_:2},1032,["onClick"])]))),128))]),a(e(P),{variant:"ghost",class:"mt-4 w-full",onClick:d},{default:n(()=>[...s[3]||(s[3]=[f("Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ",-1)])]),_:1})]),_:1})])):R("",!0)]),_:1})]))}}),Ze={class:"mb-3 flex items-center justify-between gap-2"},Je={class:"flex gap-3 overflow-x-auto pb-2"},Ye={class:"min-w-[230px] flex-shrink-0 rounded-2xl border border-border bg-card p-4 border-dashed bg-gradient-to-br from-primary/5 to-foreground/5"},Xe={class:"flex h-full flex-col justify-between"},et={class:"space-y-2"},tt={class:"inline-flex h-11 w-11 items-center justify-center rounded-full bg-primary/10 text-primary"},st={class:"flex h-full flex-col justify-between"},at={class:"flex items-start justify-between gap-3"},nt={class:"flex items-center gap-3"},ot={class:"text-sm font-semibold text-foreground"},rt={class:"text-xs text-muted-foreground"},lt={key:0,class:"min-w-[230px] flex-shrink-0 rounded-2xl border border-border bg-card/60 p-4"},it={class:"flex h-full flex-col justify-between"},ut={class:"text-xs text-muted-foreground"},dt=3,ct=z({__name:"BuddyFinder",props:{event:{}},setup(p){const v=p,$=H(),m=["Ğ˜Ñ‰Ñƒ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ","Ğ˜Ñ‰Ñƒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ","Ğ˜Ğ´Ñƒ Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ Ñ€Ğ°Ğ·","ĞÑ‚ĞºÑ€Ñ‹Ñ‚ Ğº Ğ·Ğ½Ğ°ĞºĞ¾Ğ¼ÑÑ‚Ğ²Ğ°Ğ¼"],l=o(()=>v.event),d=o(()=>{const M=Array.isArray(l.value.participants_preview)?l.value.participants_preview:[];return M.length?M.slice(0,12).map((g,S)=>({id:String(g.id??S),name:g.username?.trim()||`Guest ${S+1}`,avatar:g.avatar_url||"",intent:m[S%m.length]||m[0],match:72+S%4*6})):[{id:"1",name:"Alex",avatar:"",intent:m[0],match:89},{id:"2",name:"Nika",avatar:"",intent:m[1],match:84},{id:"3",name:"Max",avatar:"",intent:m[2],match:77},{id:"4",name:"Mila",avatar:"",intent:m[3],match:81},{id:"5",name:"Roma",avatar:"",intent:m[0],match:86}]}),k=o(()=>d.value.slice(0,dt)),N=o(()=>Math.max(d.value.length-k.value.length,0)),C=T(new Set),x=T(!1),c=T(!1),s=M=>C.value.has(M),r=M=>{const g=new Set(C.value);g.add(M),C.value=g},i=M=>{s(M)||(r(M),$.push({level:"success",title:"Buddy Finder",message:"Ğ—Ğ°ÑĞ²ĞºĞ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ°! (Mock)"}))},b=()=>{x.value=!0},y=()=>{c.value=!0};return(M,g)=>(_(),U(e(j),{class:"rounded-3xl border border-border p-5"},{default:n(()=>[t("div",Ze,[g[2]||(g[2]=t("h3",{class:"text-lg font-semibold text-foreground"},"Buddy Finder",-1)),a(e(F),{variant:"secondary"},{default:n(()=>[f(u(e(d).length)+" Ñ€ÑĞ´Ğ¾Ğ¼",1)]),_:1})]),t("div",Je,[t("article",Ye,[t("div",Xe,[t("div",et,[t("div",tt,[a(e(Ne),{class:"h-5 w-5"})]),g[3]||(g[3]=t("div",null,[t("p",{class:"text-sm font-semibold text-foreground"},"Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑĞ²Ğ¾Ñ Ğ·Ğ°ÑĞ²ĞºÑƒ"),t("p",{class:"text-xs text-muted-foreground"},"ĞĞ°Ğ¹Ğ´Ğ¸ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ Ğ·Ğ°Ñ€Ğ°Ğ½ĞµĞµ")],-1))]),a(e(P),{variant:"secondary",size:"sm",class:"mt-4 w-full",onClick:b},{default:n(()=>[...g[4]||(g[4]=[f(" Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ",-1)])]),_:1})])]),(_(!0),V(G,null,K(e(k),S=>(_(),V("article",{key:S.id,class:"min-w-[230px] flex-shrink-0 rounded-2xl border border-border bg-card p-4"},[t("div",st,[t("div",at,[t("div",nt,[a(e(W),{class:"h-10 w-10 border border-border"},{default:n(()=>[a(e(Q),{src:S.avatar,alt:S.name},null,8,["src","alt"]),a(e(Z),{class:"bg-primary/10 text-xs font-semibold text-primary"},{default:n(()=>[f(u(S.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1024),t("div",null,[t("p",ot,u(S.name),1),t("p",rt,u(S.intent),1)])]),a(e(F),{variant:"outline"},{default:n(()=>[f(u(S.match)+"%",1)]),_:2},1024)]),a(e(P),{variant:"outline",size:"sm",class:"mt-3 w-full",disabled:s(S.id),onClick:h=>i(S.id)},{default:n(()=>[f(u(s(S.id)?"ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾":"ĞŸĞ¾Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ"),1)]),_:2},1032,["disabled","onClick"])])]))),128)),e(N)>0?(_(),V("article",lt,[t("div",it,[t("div",null,[g[5]||(g[5]=t("p",{class:"text-sm font-semibold text-foreground"},"ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ²ÑĞµ",-1)),t("p",ut,"+"+u(e(N))+" Ğ·Ğ°ÑĞ²Ğ¾Ğº",1)]),a(e(P),{variant:"outline",size:"sm",class:"mt-4 w-full",onClick:y},{default:n(()=>[...g[6]||(g[6]=[f(" Ğ¡Ğ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ ",-1)])]),_:1})])])):R("",!0)]),a(Re,{modelValue:e(x),"onUpdate:modelValue":g[0]||(g[0]=S=>I(x)?x.value=S:null)},null,8,["modelValue"]),a(Qe,{modelValue:e(c),"onUpdate:modelValue":g[1]||(g[1]=S=>I(c)?c.value=S:null),event:p.event},null,8,["modelValue","event"])]),_:1}))}}),mt={class:"relative h-[320px] w-full sm:h-[380px]"},vt=["src","alt"],ft={key:1,class:"h-full w-full bg-gradient-to-br from-slate-900 via-slate-700 to-slate-800"},pt={class:"absolute left-4 top-4 z-10 inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs font-semibold text-white backdrop-blur-md"},bt=["aria-pressed"],gt={class:"absolute inset-x-0 bottom-0 space-y-4 p-5 text-white sm:p-7"},xt={class:"rounded-2xl bg-black/35 p-4 backdrop-blur-sm sm:p-5"},ht={class:"flex flex-wrap items-center gap-2"},_t={class:"mt-3 max-w-3xl break-words text-2xl font-bold tracking-tight sm:text-4xl"},yt={class:"mt-3 space-y-1 text-sm text-white/90"},wt={class:"flex items-start gap-2"},kt={class:"min-w-0 break-words"},$t={class:"flex items-start gap-2"},Ct={class:"min-w-0 break-words"},St=z({__name:"HeroBlock",props:{event:{}},setup(p){const v=p,$=oe(),m=re(),l=o(()=>v.event),d=o(()=>v.event.title?.trim()||"Event Hub"),k=o(()=>{const h=l.value.images?.[0]?.url?.trim()||"",w=l.value.main_image?.trim()||"";return h||w}),N=o(()=>{const h=l.value.occurrences?.[0]?.start_time;if(!h)return"Ğ”Ğ°Ñ‚Ğ° ÑƒÑ‚Ğ¾Ñ‡Ğ½ÑĞµÑ‚ÑÑ";const w=new Date(h);return Number.isNaN(w.getTime())?"Ğ”Ğ°Ñ‚Ğ° ÑƒÑ‚Ğ¾Ñ‡Ğ½ÑĞµÑ‚ÑÑ":new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"}).format(w)}),C=o(()=>{const h=l.value.default_venue?.name?.trim(),w=l.value.default_venue?.address?.trim();return h&&w?`${h} â€¢ ${w}`:h||w||"Ğ›Ğ¾ĞºĞ°Ñ†Ğ¸Ñ ÑƒÑ‚Ğ¾Ñ‡Ğ½ÑĞµÑ‚ÑÑ"}),x=o(()=>{const h=l.value.tags?.find(O=>O?.name?.trim())?.name?.trim(),w=l.value.category?.trim();return h||w||"Smart Event"}),c=o(()=>{const h=l.value.age_restriction??l.value.age_limit;return typeof h=="number"&&Number.isFinite(h)?`${Math.round(h)}+`:"18+"}),s=o(()=>{const h=l.value.match_score??l.value.compatibility_percent;return typeof h=="number"&&Number.isFinite(h)?`${Math.max(0,Math.min(100,Math.round(h)))}%`:"88%"}),r=o(()=>`Ğ¡Ğ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ ${s.value}`),i=o(()=>{const h=(v.event.tickets??[]).map(w=>Number(w.price)).filter(w=>Number.isFinite(w)&&w>0);return h.length?Math.min(...h):null}),b=o(()=>i.value===null?"Free":`ĞÑ‚ ${new Intl.NumberFormat("ru-RU",{maximumFractionDigits:0}).format(i.value)} â‚½`),y=o(()=>{const h=l.value.occurrences?.[0]?.start_time;if(!h)return"";const w=new Date(h);if(Number.isNaN(w.getTime()))return"";const O=l.value.occurrences?.[0]?.end_time,B=O?new Date(O):new Date(w.getTime()+7200*1e3);if(Number.isNaN(B.getTime()))return"";const q=Y=>Y.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}Z$/,"Z");return`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:d.value,dates:`${q(w)}/${q(B)}`,details:v.event.description?.trim()||"Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ² Smart Events",location:C.value}).toString()}`}),M=()=>{y.value&&window.open(y.value,"_blank","noopener,noreferrer")},g=T(!1),S=()=>{g.value=!g.value,$.isGuest&&m.setFavorite(v.event.id,g.value)};return(h,w)=>(_(),U(e(j),{class:"relative overflow-hidden rounded-3xl border-0 p-0 shadow-elevated"},{default:n(()=>[t("div",mt,[e(k)?(_(),V("img",{key:0,src:e(k),alt:e(d),class:"h-full w-full object-cover object-center"},null,8,vt)):(_(),V("div",ft)),w[1]||(w[1]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent"},null,-1)),t("div",pt,[a(e(de),{class:"h-4 w-4 text-amber-200"}),t("span",null,u(e(r)),1)]),t("button",{type:"button",class:"absolute right-4 top-4 z-10 inline-flex h-10 w-10 items-center justify-center rounded-full border border-white/40 bg-black/40 text-white backdrop-blur transition hover:bg-black/60","aria-pressed":e(g),onClick:S},[a(e(Ve),{class:E(["h-4 w-4",e(g)?"fill-rose-500 text-rose-500":"text-white"])},null,8,["class"])],8,bt),t("div",gt,[t("div",xt,[t("div",ht,[a(e(F),{class:"border-white/25 bg-white/15 text-white"},{default:n(()=>[f(u(e(x)),1)]),_:1}),a(e(F),{class:"border-white/30 bg-black/40 text-white"},{default:n(()=>[f(u(e(c)),1)]),_:1}),a(e(F),{class:"border-white/25 bg-black/40 text-white"},{default:n(()=>[f(u(e(b)),1)]),_:1})]),t("h1",_t,u(e(d)),1),t("div",yt,[t("p",wt,[a(e(ae),{class:"mt-0.5 h-4 w-4 shrink-0"}),t("span",kt,u(e(N)),1)]),t("p",$t,[a(e(Me),{class:"mt-0.5 h-4 w-4 shrink-0"}),t("span",Ct,u(e(C)),1)])]),a(e(P),{variant:"outline",size:"sm",class:"mt-4 h-10 gap-2 border-white/30 bg-white/10 px-4 text-white backdrop-blur hover:bg-white/20",disabled:!e(y),onClick:M},{default:n(()=>[a(e(ae),{class:"h-4 w-4"}),w[0]||(w[0]=f(" Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ ",-1))]),_:1},8,["disabled"])])])])]),_:1}))}}),Nt={class:"space-y-4"},Vt={class:"mt-6"},Mt={class:"flex items-center justify-between"},At={class:"text-xs text-muted-foreground"},Pt={class:"mt-3 grid grid-cols-2 gap-3 sm:grid-cols-3"},Tt=`Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vitae erat ac nunc sodales dignissim. Cras non lacus sed nisl dignissim tristique.

Suspendisse potenti. Integer id nisi a velit ultricies varius. Donec at dolor nec mauris feugiat interdum. Curabitur ultrices, sapien eu dignissim consequat, tellus lacus aliquam massa, nec pellentesque ipsum purus sed justo.

Praesent id magna ut libero volutpat sagittis. Ut accumsan odio vel mi tincidunt, at aliquam urna ultrices. Integer imperdiet leo sit amet lectus vestibulum, nec luctus arcu bibendum.`,Lt=z({__name:"InfoBlock",props:{event:{}},setup(p){const v=T(!1),$=o(()=>[{id:"1",name:"Nova Labs"},{id:"2",name:"Pulse"},{id:"3",name:"Aurora"},{id:"4",name:"Orbit"},{id:"5",name:"MetaWave"},{id:"6",name:"Spark"}]);return(m,l)=>(_(),U(e(j),{class:"rounded-3xl border border-border p-5"},{default:n(()=>[t("div",Nt,[l[1]||(l[1]=t("div",null,[t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"Ğ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¸"),t("h3",{class:"text-lg font-semibold text-foreground"},"Ğ’Ğ´Ğ¾Ñ…Ğ½Ğ¾Ğ²Ğ»ÑÑÑ‰Ğ°Ñ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ")],-1)),t("div",{class:E(["overflow-hidden transition-all duration-300 ease-in-out",e(v)?"max-h-[520px]":"max-h-24"])},[t("p",{class:"whitespace-pre-line text-sm leading-relaxed text-muted-foreground"},u(Tt))],2),a(e(P),{variant:"outline",size:"sm",class:"w-fit",onClick:l[0]||(l[0]=d=>v.value=!e(v))},{default:n(()=>[f(u(e(v)?"Ğ¡Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ":"Ğ§Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ´Ğ°Ğ»ĞµĞµ"),1)]),_:1})]),t("div",Vt,[t("div",Mt,[l[2]||(l[2]=t("h4",{class:"text-sm font-semibold text-foreground"},"ĞŸĞ°Ñ€Ñ‚Ğ½ĞµÑ€Ñ‹",-1)),t("span",At,u(e($).length)+" Ğ±Ñ€ĞµĞ½Ğ´Ğ¾Ğ²",1)]),t("div",Pt,[(_(!0),V(G,null,K(e($),d=>(_(),V("div",{key:d.id,class:"flex h-14 items-center justify-center rounded-2xl border border-border bg-muted/30 text-xs font-semibold text-muted-foreground"},u(d.name),1))),128))])])]),_:1}))}}),Ut={class:"flex items-center justify-between gap-2"},Ft={class:"mt-3 flex items-center gap-3"},zt={class:"min-w-0"},jt={class:"mt-4 grid gap-2 sm:grid-cols-2"},Bt=z({__name:"OrganizerBlock",props:{event:{}},setup(p){const v=p,$=H(),m=o(()=>v.event.organizer),l=o(()=>m.value?.name||"ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€"),d=o(()=>{if(!m.value)return null;const s=m.value.slug||m.value.id;return s?`/organizer/${s}`:null}),k=o(()=>m.value?.avatar_url||m.value?.logo_url||""),N=o(()=>{const s=m.value?.rating;return typeof s=="number"?s.toFixed(1):"5.0"}),C=o(()=>l.value.charAt(0).toUpperCase()),x=T(!1),c=()=>{x.value=!0,$.push({level:"success",title:"Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾",message:"Ğ’Ñ‹ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ½Ñ‹"})};return(s,r)=>{const i=we;return e(m)?(_(),U(e(j),{key:0,class:"rounded-3xl border border-border p-5"},{default:n(()=>[t("div",Ut,[r[0]||(r[0]=t("h3",{class:"text-base font-semibold text-foreground"},"ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€",-1)),a(e(F),{variant:"secondary"},{default:n(()=>[f("Rating "+u(e(N)),1)]),_:1})]),t("div",Ft,[a(i,{to:e(d)||"#",class:E({"pointer-events-none":!e(d)})},{default:n(()=>[a(e(W),{class:"h-12 w-12 border border-border transition-opacity hover:opacity-80"},{default:n(()=>[a(e(Q),{src:e(k),alt:e(l)},null,8,["src","alt"]),a(e(Z),{class:"bg-primary/10 text-sm font-semibold text-primary"},{default:n(()=>[f(u(e(C)),1)]),_:1})]),_:1})]),_:1},8,["to","class"]),t("div",zt,[a(i,{to:e(d)||"#",class:E(["truncate text-sm font-semibold text-foreground hover:underline",{"pointer-events-none hover:no-underline":!e(d)}])},{default:n(()=>[f(u(e(l)),1)]),_:1},8,["to","class"]),r[1]||(r[1]=t("p",{class:"text-xs text-muted-foreground"},"ĞĞ²Ñ‚Ğ¾Ñ€ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ",-1))])]),t("div",jt,[e(d)?(_(),U(i,{key:0,to:e(d),class:"w-full"},{default:n(()=>[a(e(P),{variant:"outline",class:"w-full"},{default:n(()=>[...r[2]||(r[2]=[f("ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ",-1)])]),_:1})]),_:1},8,["to"])):(_(),U(e(P),{key:1,variant:"outline",disabled:"",class:"w-full"},{default:n(()=>[...r[3]||(r[3]=[f(" ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ ÑĞºÑ€Ñ‹Ñ‚ ",-1)])]),_:1})),a(e(P),{variant:e(x)?"default":"outline",class:"w-full",disabled:e(x),onClick:c},{default:n(()=>[f(u(e(x)?"Ğ’Ñ‹ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ½Ñ‹":"ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒÑÑ"),1)]),_:1},8,["variant","disabled"])])]),_:1})):R("",!0)}}}),It={class:"flex items-center justify-between gap-2"},Et={class:"mt-4"},Rt={class:"mt-4 max-h-[60vh] space-y-2 overflow-y-auto pr-1"},Dt={class:"flex items-center gap-3"},Ot={class:"text-sm font-semibold text-foreground"},Gt={class:"text-xs text-muted-foreground"},qt=z({__name:"ParticipantsList",props:{modelValue:{type:Boolean},event:{}},emits:["update:modelValue"],setup(p,{emit:v}){const $=v,m=T(""),l=T(new Set),d=()=>$("update:modelValue",!1),k=o(()=>{const c=["Alex","Oleg","Mila","Roma","Nika","Pavel","Dasha","Ilya","Nastya","Artem","Lena","Igor","Sasha","Masha","Timur","Kirill","Vera","Max","Polina","Andrey"],s=["Ğ’ ÑĞµÑ‚Ğ¸","ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿Ğ¾Ğ¹Ñ‚Ğ¸","Ğ˜Ñ‰ĞµÑ‚ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ","Ğ£Ğ¶Ğµ ĞºÑƒĞ¿Ğ¸Ğ» Ğ±Ğ¸Ğ»ĞµÑ‚"];return c.map((r,i)=>({id:`${i+1}`,name:r,status:s[i%s.length]||"Ğ’ ÑĞµÑ‚Ğ¸",avatar:""}))}),N=o(()=>{const c=m.value.trim().toLowerCase();return c?k.value.filter(s=>s.name.toLowerCase().includes(c)):k.value}),C=c=>l.value.has(c),x=c=>{const s=new Set(l.value);s.has(c)?s.delete(c):s.add(c),l.value=s};return(c,s)=>(_(),U(le,{to:"body"},[a(J,{"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:n(()=>[p.modelValue?(_(),V("div",{key:0,class:"fixed inset-0 z-[70] bg-black/60",onClick:d})):R("",!0)]),_:1}),a(J,{"enter-active-class":"transition-transform duration-250 ease-out","enter-from-class":"translate-y-8 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition-transform duration-200 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-8 opacity-0"},{default:n(()=>[p.modelValue?(_(),V("div",{key:0,class:"fixed inset-0 z-[80] flex items-end justify-center px-4 pb-4",onClick:d},[a(e(j),{class:"w-full max-w-xl rounded-3xl border border-border bg-card p-5 shadow-2xl",onClick:s[1]||(s[1]=ie(()=>{},["stop"]))},{default:n(()=>[t("div",It,[s[2]||(s[2]=t("h3",{class:"text-lg font-semibold text-foreground"},"Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¸",-1)),a(e(F),{variant:"secondary"},{default:n(()=>[f(u(e(N).length),1)]),_:1})]),t("div",Et,[a(e(ue),{modelValue:e(m),"onUpdate:modelValue":s[0]||(s[0]=r=>I(m)?m.value=r:null),placeholder:"ĞŸĞ¾Ğ¸ÑĞº"},null,8,["modelValue"])]),t("div",Rt,[(_(!0),V(G,null,K(e(N),r=>(_(),V("div",{key:r.id,class:"flex items-center justify-between gap-3 rounded-2xl border border-border p-3"},[t("div",Dt,[a(e(W),{class:"h-10 w-10 border border-border"},{default:n(()=>[a(e(Q),{src:r.avatar,alt:r.name},null,8,["src","alt"]),a(e(Z),{class:"bg-primary/10 text-xs font-semibold text-primary"},{default:n(()=>[f(u(r.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1024),t("div",null,[t("p",Ot,u(r.name),1),t("p",Gt,u(r.status),1)])]),a(e(P),{variant:"outline",size:"sm",onClick:i=>x(r.id)},{default:n(()=>[f(u(C(r.id)?"ğŸ‘‹":"ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒÑÑ"),1)]),_:2},1032,["onClick"])]))),128))]),a(e(P),{variant:"ghost",class:"mt-4 w-full",onClick:d},{default:n(()=>[...s[3]||(s[3]=[f("Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ",-1)])]),_:1})]),_:1})])):R("",!0)]),_:1})]))}}),Ht={class:"flex items-center justify-between gap-2"},Kt={class:"mt-4 flex flex-col items-start gap-3 sm:flex-row sm:items-center sm:gap-4"},Wt={class:"flex -space-x-3"},Qt={class:"text-sm leading-relaxed text-muted-foreground"},Zt={class:"font-semibold text-foreground"},Jt={class:"font-semibold text-foreground"},Yt={class:"font-semibold text-foreground"},Xt=z({__name:"ParticipantsStrip",props:{event:{}},setup(p){const v=p,$=o(()=>v.event),m=o(()=>{const i=$.value.participants_preview;return Array.isArray(i)?i:[]}),l=["Alex","Oleg","Mila","Roma","Nika"],d=o(()=>(m.value.length?m.value:l.map((b,y)=>({id:y+1,username:b}))).slice(0,5).map((b,y)=>({id:String(b.id??y),name:b.username?.trim()||l[y]||`Guest ${y+1}`,avatar:b.avatar_url||""}))),k=o(()=>{const i=d.value.map(b=>b.name).filter(b=>b.trim());return{first:i[0]||"Alex",second:i[1]||"Oleg"}}),N=o(()=>{const i=v.event.stats?.going_count;return typeof i=="number"&&i>0?i:134}),C=o(()=>Math.max(N.value-2,0)),x=["bg-gradient-to-br from-amber-200 to-rose-200 text-slate-900","bg-gradient-to-br from-sky-200 to-indigo-200 text-slate-900","bg-gradient-to-br from-emerald-200 to-teal-200 text-slate-900","bg-gradient-to-br from-fuchsia-200 to-violet-200 text-slate-900","bg-gradient-to-br from-orange-200 to-yellow-200 text-slate-900"],c=i=>x[i%x.length],s=T(!1),r=()=>{s.value=!0};return(i,b)=>(_(),V(G,null,[a(e(j),{class:"rounded-2xl border border-border p-4 transition hover:border-primary/30 hover:bg-primary/5",role:"button",tabindex:"0",onClick:r},{default:n(()=>[t("div",Ht,[b[1]||(b[1]=t("h3",{class:"text-sm font-semibold text-foreground"},"Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¸",-1)),a(e(F),{variant:"secondary"},{default:n(()=>[f(u(e(N)),1)]),_:1})]),t("div",Kt,[t("div",Wt,[(_(!0),V(G,null,K(e(d),(y,M)=>(_(),U(e(W),{key:y.id,class:"h-10 w-10 border-2 border-white shadow-sm"},{default:n(()=>[a(e(Q),{src:y.avatar,alt:y.name},null,8,["src","alt"]),a(e(Z),{class:E(["text-xs font-semibold",c(M)])},{default:n(()=>[f(u(y.name.charAt(0).toUpperCase()),1)]),_:2},1032,["class"])]),_:2},1024))),128))]),t("p",Qt,[b[2]||(b[2]=f(" Ğ˜Ğ´ÑƒÑ‚: ",-1)),t("span",Zt,u(e(k).first),1),b[3]||(b[3]=f(", ",-1)),t("span",Jt,u(e(k).second),1),b[4]||(b[4]=f(" Ğ¸ ĞµÑ‰Ğµ ",-1)),t("span",Yt,u(e(C)),1)])])]),_:1}),a(qt,{modelValue:e(s),"onUpdate:modelValue":b[0]||(b[0]=y=>I(s)?s.value=y:null),event:p.event},null,8,["modelValue","event"])],64))}}),es={class:"mb-3 flex items-center justify-between gap-2"},ts={class:"flex items-center gap-2"},ss={class:"relative"},as={class:"text-sm leading-relaxed text-foreground"},ns={key:0,class:"absolute inset-0 flex items-center justify-center rounded-2xl backdrop-blur-md"},os={class:"mx-auto max-w-xs space-y-3 text-center"},rs={class:"mx-auto inline-flex h-11 w-11 items-center justify-center rounded-full bg-card/80"},ls={class:"text-sm font-medium text-foreground"},is={class:"mt-4"},us={class:"h-2 w-full overflow-hidden rounded-full bg-muted"},ds={class:"mt-2 text-xs text-muted-foreground"},cs=z({__name:"SecretContent",props:{event:{}},setup(p){const v=p,$=H(),m=o(()=>v.event),l=o(()=>{const i=Number(m.value.secret_unlock_count??3);return!Number.isFinite(i)||i<1?3:Math.round(i)}),d=T(0);ke(()=>v.event.id,()=>{const i=Number(m.value.referral_count??0);d.value=Number.isFinite(i)&&i>0?Math.round(i):0},{immediate:!0});const k=o(()=>d.value<l.value),N=o(()=>{const i=d.value/l.value;return Math.max(0,Math.min(100,Math.round(i*100)))}),C=o(()=>m.value.secret_content?.trim()||"Ğ¡ĞµĞºÑ€ĞµÑ‚ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€Ğ°: Ğ¿Ğ¾ÑĞ»Ğµ Ñ€Ğ°Ğ·Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸ Ğ¿Ğ¾ÑĞ²Ğ¸Ñ‚ÑÑ Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚Ñ‹Ğ¹ Ñ‡Ğ°Ñ‚ Ğ¸ early-access ĞºĞ¾Ğ´ Ğ½Ğ° afterparty."),x=o(()=>{const i=encodeURIComponent(v.event.slug?.trim()||"");return`${window.location.origin}/e/${i}?ref=buddies`}),c=()=>{const i=navigator.maxTouchPoints>0,b=window.matchMedia?.("(pointer: coarse)").matches??!1,y=/Android|iPhone|iPad|iPod|Mobile|Opera Mini|IEMobile/i.test(navigator.userAgent);return i&&(b||y)},s=()=>typeof navigator.share=="function"&&c(),r=async()=>{try{s()?await navigator.share({title:v.event.title||"SmartEvents",text:"ĞŸĞ¾Ğ¹Ğ´ĞµÑˆÑŒ ÑĞ¾ Ğ¼Ğ½Ğ¾Ğ¹ Ğ½Ğ° Ğ¸Ğ²ĞµĞ½Ñ‚?",url:x.value}):navigator.clipboard?.writeText?(await navigator.clipboard.writeText(x.value),$.push({level:"success",title:"ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ",message:"Ğ¡ÑÑ‹Ğ»ĞºĞ° ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ°"})):$.push({level:"error",title:"ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ",message:"ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑÑÑ‹Ğ»ĞºÑƒ"})}catch(i){i instanceof Error&&i.name==="AbortError"||$.push({level:"error",title:"ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ",message:"ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¿Ğ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ ÑÑÑ‹Ğ»ĞºĞ¾Ğ¹"})}k.value&&(d.value=Math.min(l.value,d.value+1))};return(i,b)=>(_(),U(e(j),{class:"relative overflow-hidden rounded-3xl border border-border p-5"},{default:n(()=>[t("div",es,[t("div",ts,[a(e(de),{class:"h-4 w-4 text-amber-500"}),b[0]||(b[0]=t("h3",{class:"text-base font-semibold text-foreground"},"Secret Content",-1))]),a(e(F),{variant:"secondary"},{default:n(()=>[f(u(e(d))+" / "+u(e(l)),1)]),_:1})]),t("div",ss,[t("div",{class:E(["rounded-2xl border border-border/80 bg-muted/20 p-4 transition duration-300",e(k)?"blur-[2px] saturate-50":""])},[t("p",as,u(e(C)),1)],2),e(k)?(_(),V("div",ns,[t("div",os,[t("div",rs,[a(e(Le),{class:"h-5 w-5 text-foreground"})]),t("p",ls," ĞŸÑ€Ğ¸Ğ²ĞµĞ´Ğ¸ "+u(e(l))+" Ğ´Ñ€ÑƒĞ·ĞµĞ¹, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ÑŒ ÑĞµĞºÑ€ĞµÑ‚ Ğ¾Ñ‚ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€Ğ°. ",1),a(e(P),{size:"sm",onClick:r},{default:n(()=>[...b[1]||(b[1]=[f("ĞŸÑ€Ğ¸Ğ²ĞµĞ´Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ°",-1)])]),_:1})])])):R("",!0)]),t("div",is,[t("div",us,[t("div",{class:"h-full rounded-full bg-primary transition-all",style:$e({width:`${e(N)}%`})},null,4)]),t("p",ds,u(e(k)?`ĞÑÑ‚Ğ°Ğ»Ğ¾ÑÑŒ Ğ´Ñ€ÑƒĞ·ĞµĞ¹: ${Math.max(e(l)-e(d),0)}`:"Ğ¡ĞµĞºÑ€ĞµÑ‚ Ñ€Ğ°Ğ·Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½"),1)])]),_:1}))}}),ms={key:0,class:"space-y-6 px-4 pb-24 pt-4 md:px-0"},vs={class:"grid gap-6 lg:grid-cols-[minmax(0,1fr)_320px] lg:items-start"},fs={class:"w-full min-w-0 space-y-6"},ps={class:"hidden lg:sticky lg:top-6 lg:block"},Us=z({__name:"PreEventView",props:{event:{}},setup(p){const v=p,$=o(()=>v.event?.default_venue??v.event?.occurrences?.[0]?.venue??null);return(m,l)=>p.event?(_(),V("div",ms,[a(St,{event:p.event},null,8,["event"]),a(Lt,{event:p.event},null,8,["event"]),a(ne,{class:"lg:hidden",event:p.event,floating:""},null,8,["event"]),a(Xt,{event:p.event},null,8,["event"]),t("div",vs,[t("div",fs,[a(cs,{event:p.event},null,8,["event"]),a(ct,{event:p.event},null,8,["event"]),a(Bt,{event:p.event},null,8,["event"]),a(Te,{event:p.event,venue:$.value},null,8,["event","venue"]),a(Pe,{event:p.event,mode:"venue"},null,8,["event"])]),t("div",ps,[a(ne,{event:p.event},null,8,["event"])])])])):R("",!0)}});export{Us as _};
