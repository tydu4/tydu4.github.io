import{d as q,o as n,c as l,W as _,u as t,h as o,t as u,f as k,F as oe,A as se,D as E,O as $e,g as I,q as De,x as ee,z as V,G as Le,e as i,B as b,s as Fe,w as c,j as v,H as Ae,Z as Me,R as Oe,r as h}from"./BO0_OeXi.js";import Ue from"./C94ZD2ww.js";import{u as te}from"./Bsr6Qi3e.js";import je from"./DPasnuvX.js";import{u as Re,S as Be}from"./B4EFBzzi.js";import"./ChLhOB94.js";import"./kDTr-kfK.js";import"./COC0__mb.js";import"./BaFub9o4.js";import"./DLAxxCvb.js";const Ne={key:0,class:"absolute left-6 top-6"},Ve={class:"rounded-full border border-white/30 px-3 py-1 text-[10px] uppercase tracking-[0.3em] text-white/80"},Ee={class:"absolute bottom-0 left-0 right-0 space-y-4 p-6 text-white"},qe={class:"text-3xl font-semibold leading-tight"},Ge={class:"mt-1 text-sm text-white/70"},Ze={class:"flex flex-wrap gap-2"},He=q({__name:"PersonCard",props:{person:{},matchLabel:{}},setup(m){const a=m,T=I(()=>a.person.photo?{backgroundImage:`url(${a.person.photo})`}:{backgroundImage:"linear-gradient(160deg, rgba(99,102,241,0.6), rgba(15,23,42,0.9))"}),M=C=>a.person.sharedTags.includes(C);return(C,$)=>(n(),l("div",{class:"relative h-full w-full overflow-hidden rounded-[2.5rem] bg-cover bg-center",style:_(t(T))},[$[0]||($[0]=o("div",{class:"absolute inset-0 bg-gradient-to-t from-black/85 via-black/35 to-transparent"},null,-1)),m.matchLabel?(n(),l("div",Ne,[o("span",Ve,u(m.matchLabel),1)])):k("",!0),o("div",Ee,[o("div",null,[o("h2",qe,u(m.person.name)+", "+u(m.person.age),1),o("p",Ge,u(m.person.intent),1)]),o("div",Ze,[(n(!0),l(oe,null,se(m.person.tags,P=>(n(),l("span",{key:P,class:E(["rounded-full border px-3 py-1 text-xs",M(P)?"border-emerald-300/70 text-emerald-200":"border-white/20 text-white/70"])},u(P),3))),128))]),$e(C.$slots,"actions")])],4))}}),Ke=Object.assign(He,{__name:"NetworkingPersonCard"}),We={class:"fixed inset-0 overflow-hidden bg-background text-foreground"},Xe={class:"flex h-full w-full min-h-0 flex-col px-2 pb-2"},Ye={key:0,class:"rounded-3xl border border-border bg-card p-6 text-center shadow-soft"},Je={key:1,class:"relative z-10 flex h-full w-full min-h-0 flex-col"},Qe={key:0,class:"relative z-10 flex h-full items-center justify-center rounded-3xl border border-border bg-white text-muted-foreground shadow-soft dark:bg-neutral-900"},et={key:1,class:"relative z-10 flex h-full items-center justify-center rounded-3xl border border-border bg-white text-foreground shadow-soft dark:bg-neutral-900"},tt={class:"space-y-4 text-center"},ot={class:"flex flex-wrap justify-center gap-2"},st={key:2,class:"relative z-10 flex h-full min-h-0 flex-col items-center"},rt={class:"relative flex min-h-0 flex-1 w-full items-center justify-center"},nt={class:"relative w-full max-w-[90vw] sm:max-w-[26rem] max-h-[85vh] [aspect-ratio:2/3]"},lt={class:"absolute left-6 top-6"},at={class:"absolute right-6 top-6"},it={class:"absolute left-1/2 top-6 -translate-x-1/2"},dt={key:0,class:"absolute left-1/2 top-10 -translate-x-1/2 rounded-full bg-white/15 px-4 py-2 text-sm font-semibold text-white"},ut={class:"w-full max-w-[90vw] sm:max-w-[26rem] px-2 pt-3",style:{"padding-bottom":"calc(env(safe-area-inset-bottom) + 0.35rem)"}},ct={key:0,class:"space-y-4"},ft={class:"flex items-start justify-between gap-4"},mt={class:"text-xl font-semibold"},pt={class:"text-sm text-muted-foreground"},bt={class:"flex flex-wrap gap-2"},vt={class:"flex items-center gap-2"},gt={class:"w-full rounded-3xl border border-border bg-card p-6 text-foreground shadow-2xl"},xt={class:"flex items-start justify-between gap-4"},ht={class:"mt-4 grid gap-2"},kt={key:0,class:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-gradient-to-b from-indigo-600 via-purple-700 to-black px-6 text-center text-white"},wt={class:"mt-2 text-sm text-white/80"},yt={class:"mt-8 flex w-full max-w-xs flex-col gap-3"},_t=["href"],Ct={key:1,class:"fixed bottom-6 left-1/2 z-50 -translate-x-1/2 rounded-full border border-border bg-card px-4 py-2 text-sm text-foreground shadow-lg"},Pt=q({__name:"NetworkingDeck",setup(m){const a=De(),{data:T}=ee("me-profile-networking",()=>!a.isAuthInitialized||!a.token?null:a.apiFetch("/api/v1/me/profile",{baseURL:V("/api/v1/me/profile")}),{server:!1,watch:[()=>a.token,()=>a.isAuthInitialized]}),M=I(()=>T.value?.settings?.privacy_level==="nobody"),{data:C,pending:$,refresh:P}=ee("discovery-feed-people",()=>a.isAuthInitialized?a.apiFetch("/api/v1/discovery/feed",{baseURL:V("/api/v1/discovery/feed"),query:{limit:20}}):[],{server:!1,default:()=>[],watch:[()=>a.token,()=>a.isAuthInitialized]}),G=te("networking_intent",""),O=te("networking_onboarding_seen",!1),re=I(()=>!G.value&&!O.value),U=s=>{G.value=s,O.value=!0},j=()=>{O.value=!0},Z=["Ð¡Ð°ÑˆÐ°","Ð˜Ñ€Ð¸Ð½Ð°","ÐžÐ»ÐµÐ³","ÐœÐ°Ñ€Ð¸Ð½Ð°","Ð›ÐµÑ€Ð°","ÐœÐ¸ÑˆÐ°","ÐšÐ°Ñ‚Ñ","Ð”ÐµÐ½Ð¸Ñ","ÐÐ¸ÐºÐ°","ÐÑ€Ñ‚ÐµÐ¼"],H=["Ð˜Ñ‰Ñƒ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸ÑŽ Ð½Ð° ÐºÐ¾Ð½Ñ†ÐµÑ€Ñ‚ ÐšÐ¸Ð¨","Ð¥Ð¾Ñ‡Ñƒ Ð²Ð¼ÐµÑÑ‚Ðµ Ð¿Ð¾Ð¹Ñ‚Ð¸ Ð½Ð° ÑÑ‚ÐµÐ½Ð´Ð°Ð¿","Ð˜Ñ‰Ñƒ +1 Ð½Ð° Ð²ÐµÑ‡ÐµÑ€Ð¸Ð½ÐºÐ¸ Ð² Ñ†ÐµÐ½Ñ‚Ñ€Ðµ","ÐÑƒÐ¶ÐµÐ½ Ð½Ð°Ð¿Ð°Ñ€Ð½Ð¸Ðº Ð½Ð° Ñ„ÐµÑÑ‚Ð¸Ð²Ð°Ð»ÑŒ","Ð˜Ñ‰Ñƒ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸ÑŽ Ð½Ð° Ñ€ÐµÐ¹Ð²"],ne=["ÐœÑƒÐ·Ñ‹ÐºÐ°","ÐÐ¾Ñ‡Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð³ÑƒÐ»ÐºÐ¸","Ð”Ð¸Ð´Ð¶ÐµÐ¸","ÐšÐ¸Ð½Ð¾","Ð‘Ð°Ñ€"],le=s=>s.map((e,p)=>{const r=Z[p%Z.length],y=19+(e.id+p)%10,A=e.tags?.length?e.tags:ne,Ie=A.slice(0,2),Te=e.slug?.replace(/[^a-zA-Z0-9_]/g,"")||`user${e.id}`;return{id:e.id,name:r,age:y,intent:e.description||H[p%H.length],photo:e.main_image,tags:A,sharedTags:Ie,username:Te,sourceEventId:e.id}}),ae=I(()=>le(C.value||[])),g=h([]),S=h(!1),d=h(null),D=h(""),z=h(null),K=s=>{D.value=s,setTimeout(()=>{D.value=""},2200)},W=async(s,e)=>{const p=e?"like":"dislike",r={event_id:s.sourceEventId,type:p,weight:1,device_type:"mobile",payload:{target_user_id:s.id}};try{await a.apiFetch("/api/v1/me/interactions",{method:"POST",baseURL:V("/api/v1/me/interactions"),body:r})}catch{}},ie=s=>s.id%4===0,de=async({isLike:s,item:e})=>{s&&!g.value.includes(e.id)&&(g.value=[...g.value,e.id]),s&&ie(e)&&(z.value=e),await W(e,s)},R=h(!1),B=h("");let w=null;const ue=s=>{B.value=s==="like"?"bg-green-500/10":s==="dislike"?"bg-red-500/10":"bg-blue-500/10",w&&clearTimeout(w),w=setTimeout(()=>{B.value="",w=null},300)},ce=()=>{R.value=!0,setTimeout(()=>{R.value=!1},600)},fe=()=>{Ue({particleCount:100,spread:70,origin:{y:.6},colors:["#22c55e","#3b82f6","#eab308"]})};Le(()=>{w&&clearTimeout(w)});const{activeItem:x,nextItem:me,cardStyle:pe,nextCardStyle:be,indicators:N,handlers:f,actions:L,isAnimating:F,isDragging:X,didDrag:Y,offsetX:ve,offsetY:ge,cardMotionClass:xe}=Re(ae,{enableSwipeUp:!0,onSwipe:({direction:s,item:e,meta:p})=>{const y=(s==="left"?"left":"right")==="right",A=p?.feedback||(s==="up"?"super":y?"like":"dislike");ue(A),y&&ce(),de({isLike:y,item:e})}}),he=()=>{L.swipeLeft({feedback:"dislike"})},ke=()=>{L.superLike({feedback:"super"}),fe()},we=()=>{L.swipeRight({feedback:"like"})},ye=()=>{L.rewind()},_e=()=>{!x.value||F.value||J(x.value)},Ce=I(()=>F.value||X.value||!x.value),Pe=()=>{if(!(!x.value||F.value)){if(Y.value){Y.value=!1;return}X.value||Math.abs(ve.value)>10||Math.abs(ge.value)>10||J(x.value)}},J=s=>{d.value=s,S.value=!0},Q=()=>{S.value=!1},Se=async()=>{!d.value||g.value.includes(d.value.id)||(g.value=[...g.value,d.value.id],await W(d.value,!0),K("Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½"))},ze=()=>{z.value=null};return(s,e)=>{const p=Me;return n(),l("div",We,[o("div",{class:E(["pointer-events-none fixed inset-0 z-0 transition-colors duration-300",t(B)])},null,2),o("div",Xe,[t(M)?(n(),l("div",Ye,[e[12]||(e[12]=o("h2",{class:"text-lg font-semibold"},"ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ ÑÐºÑ€Ñ‹Ñ‚",-1)),e[13]||(e[13]=o("p",{class:"mt-2 text-sm text-muted-foreground"}," ÐžÑ‚ÐºÑ€Ð¾Ð¹ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð² Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ñ… Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ñ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¸ÑÐºÐ°Ñ‚ÑŒ Ð»ÑŽÐ´ÐµÐ¹. ",-1)),i(t(b),{class:"mt-4 w-full",onClick:e[0]||(e[0]=r=>("navigateTo"in s?s.navigateTo:t(Fe))("/profile/settings"))},{default:c(()=>[...e[11]||(e[11]=[v(" ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ",-1)])]),_:1})])):(n(),l("div",Je,[t($)?(n(),l("div",Qe," Loading people... ")):t(x)?(n(),l("div",st,[o("div",rt,[o("div",nt,[t(me)?(n(),l("div",{key:0,class:"absolute inset-0 translate-y-4 scale-[0.96] rounded-[2.5rem] border border-border/60 bg-card/70 dark:bg-card/40",style:_(t(be))},null,4)):k("",!0),o("div",{class:E(["absolute inset-0 touch-none overflow-hidden rounded-[2.5rem] border border-border/40 shadow-2xl dark:border-white/10",[t(xe),t(F)?"pointer-events-none":""]]),style:_(t(pe)),onPointerdown:e[2]||(e[2]=(...r)=>t(f).onPointerDown&&t(f).onPointerDown(...r)),onPointermove:e[3]||(e[3]=(...r)=>t(f).onPointerMove&&t(f).onPointerMove(...r)),onPointerup:e[4]||(e[4]=(...r)=>t(f).onPointerUp&&t(f).onPointerUp(...r)),onPointercancel:e[5]||(e[5]=(...r)=>t(f).onPointerUp&&t(f).onPointerUp(...r)),onPointerleave:e[6]||(e[6]=(...r)=>t(f).onPointerLeave&&t(f).onPointerLeave(...r)),onClick:Pe},[i(Ke,{person:t(x),"match-label":"Match 95%"},null,8,["person"]),o("div",lt,[o("div",{class:"rounded-full border border-emerald-400/60 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-emerald-200",style:_({opacity:t(N).likeOpacity})}," LIKE ",4)]),o("div",at,[o("div",{class:"rounded-full border border-rose-400/60 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-rose-200",style:_({opacity:t(N).nopeOpacity})}," PASS ",4)]),o("div",it,[o("div",{class:"rounded-full border border-blue-400/60 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-blue-200",style:_({opacity:t(N).superLikeOpacity})}," SUPER ",4)]),t(R)?(n(),l("div",dt," Saved! ")):k("",!0)],38)])]),o("div",ut,[i(Be,{type:"person",disabled:t(Ce),onRewind:ye,onDislike:he,onSuper:ke,onLike:we,onAction:_e},null,8,["disabled"])])])):(n(),l("div",et,[o("div",tt,[e[16]||(e[16]=o("h3",{class:"text-lg font-semibold"},"No more people",-1)),e[17]||(e[17]=o("p",{class:"text-sm text-muted-foreground"},"Try again later or refresh.",-1)),o("div",ot,[i(t(b),{variant:"outline",size:"sm",onClick:t(P)},{default:c(()=>[...e[14]||(e[14]=[v(" Refresh ",-1)])]),_:1},8,["onClick"]),i(t(b),{variant:"outline",size:"sm",onClick:e[1]||(e[1]=r=>K("Filters are coming soon"))},{default:c(()=>[...e[15]||(e[15]=[v(" Filters ",-1)])]),_:1})])])]))]))]),i(t(je),{modelValue:t(S),"onUpdate:modelValue":e[7]||(e[7]=r=>Ae(S)?S.value=r:null),class:"max-h-[90vh] overflow-y-auto border-border bg-card text-foreground"},{default:c(()=>[t(d)?(n(),l("div",ct,[o("div",ft,[o("div",null,[e[18]||(e[18]=o("p",{class:"text-xs uppercase tracking-[0.3em] text-muted-foreground"},"Ð”ÐµÑ‚Ð°Ð»Ð¸",-1)),o("h3",mt,u(t(d).name)+", "+u(t(d).age),1),o("p",pt,u(t(d).intent),1)]),i(t(b),{variant:"ghost",size:"sm",onClick:Q},{default:c(()=>[...e[19]||(e[19]=[v("Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",-1)])]),_:1})]),o("div",bt,[(n(!0),l(oe,null,se(t(d).tags,r=>(n(),l("span",{key:r,class:"rounded-full border border-border px-3 py-1 text-xs text-muted-foreground"},u(r),1))),128))]),o("div",vt,[i(t(b),{class:"flex-1",variant:t(g).includes(t(d).id)?"secondary":"default",onClick:Se},{default:c(()=>[v(u(t(g).includes(t(d).id)?"Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½":"Ð¥Ð¾Ñ‡Ñƒ Ð¿Ð¾Ð·Ð½Ð°ÐºÐ¾Ð¼Ð¸Ñ‚ÑŒÑÑ"),1)]),_:1},8,["variant"]),i(t(b),{variant:"outline",class:"flex-1",onClick:Q},{default:c(()=>[...e[20]||(e[20]=[v(" ÐÐ°Ð·Ð°Ð´ ",-1)])]),_:1})])])):k("",!0)]),_:1},8,["modelValue"]),i(p,null,{default:c(()=>[t(re)?(n(),l("div",{key:0,class:"fixed inset-0 z-40 flex items-end bg-black/60 px-4 pb-6",onClick:Oe(j,["self"])},[o("div",gt,[o("div",xt,[e[22]||(e[22]=o("div",null,[o("h3",{class:"text-lg font-semibold"},"ÐšÐ¾Ð³Ð¾ Ð¸Ñ‰ÐµÐ¼?"),o("p",{class:"mt-1 text-sm text-muted-foreground"},"Ð’Ñ‹Ð±ÐµÑ€Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÑƒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð»ÐµÐ½Ñ‚Ñƒ."),o("p",{class:"mt-2 text-xs text-muted-foreground"}," ÐÐ»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼ ÑƒÑ‡Ð¸Ñ‚ÑÑ Ð¿Ð¾ Ð»Ð°Ð¹ÐºÐ°Ð¼ Ð¸ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ°Ð¼ â€” Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÑƒ Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ ÑÐµÐ¹Ñ‡Ð°Ñ Ð¸Ð»Ð¸ Ð¿Ð¾Ð·Ð¶Ðµ. ")],-1)),i(t(b),{variant:"ghost",size:"sm",class:"-mr-2 -mt-2",onClick:j},{default:c(()=>[...e[21]||(e[21]=[v("Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",-1)])]),_:1})]),o("div",ht,[o("button",{class:"rounded-2xl border border-border bg-muted px-4 py-3 text-left text-sm font-semibold text-foreground transition hover:bg-muted/80 dark:bg-muted/20 dark:hover:bg-muted/30",onClick:e[8]||(e[8]=r=>U("party"))}," Ð¢ÑƒÑÐ¾Ð²ÐºÐ° ðŸŽ‰ "),o("button",{class:"rounded-2xl border border-border bg-muted px-4 py-3 text-left text-sm font-semibold text-foreground transition hover:bg-muted/80 dark:bg-muted/20 dark:hover:bg-muted/30",onClick:e[9]||(e[9]=r=>U("networking"))}," ÐÐµÑ‚Ð²Ð¾Ñ€ÐºÐ¸Ð½Ð³ ðŸ’¼ "),o("button",{class:"rounded-2xl border border-border bg-muted px-4 py-3 text-left text-sm font-semibold text-foreground transition hover:bg-muted/80 dark:bg-muted/20 dark:hover:bg-muted/30",onClick:e[10]||(e[10]=r=>U("dating"))}," Ð¡Ð²Ð¸Ð´Ð°Ð½Ð¸Ðµ â¤ï¸ ")]),i(t(b),{variant:"outline",class:"mt-4 w-full",onClick:j},{default:c(()=>[...e[23]||(e[23]=[v("ÐŸÐ¾ÐºÐ° Ð½Ðµ Ð²Ñ‹Ð±Ð¸Ñ€Ð°Ñ‚ÑŒ",-1)])]),_:1})])])):k("",!0)]),_:1}),t(z)?(n(),l("div",kt,[e[25]||(e[25]=o("h2",{class:"text-3xl font-bold"},"It's a Match!",-1)),o("p",wt," Ð’Ñ‹ ÑÐ¾Ð²Ð¿Ð°Ð»Ð¸ Ñ "+u(t(z).name)+". Ð¡Ð°Ð¼Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ. ",1),o("div",yt,[o("a",{class:"flex h-12 items-center justify-center rounded-full bg-white text-sm font-bold text-indigo-600 shadow-glow transition-all hover:scale-105 active:scale-95",href:`https://t.me/${t(z).username}`,target:"_blank",rel:"noreferrer"}," ÐÐ°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð² TG ",8,_t),i(t(b),{variant:"ghost",class:"h-12 rounded-full border border-white/20 text-white/70 hover:bg-white/10 hover:text-white",onClick:ze},{default:c(()=>[...e[24]||(e[24]=[v(" ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð¸ÑÐº ",-1)])]),_:1})])])):k("",!0),t(D)?(n(),l("div",Ct,u(t(D)),1)):k("",!0)])}}}),St={class:"page-wrapper h-full w-full overflow-hidden"},Ut=q({__name:"index",setup(m){return(a,T)=>(n(),l("div",St,[i(Pt,{class:"h-full"})]))}});export{Ut as default};
