import{H as Y,c as Z}from"./DgUxy0CX.js";import{c as P}from"./5xDXAavj.js";import{T as q}from"./qgx4e3lk.js";import{M as K}from"./D2L4dJqR.js";import{d as N,o,c as i,G as w,u as t,a as e,k as _,e as U,t as c,f as X,j as u,F as j,E as R,b as A,r as Q}from"./BvmsJYLR.js";import"./DlAUqK2U.js";import"./CrRG91Pn.js";import"./B7XCgDfu.js";import"./D6b4k1-A.js";import"./CV6lUnfE.js";import"./99XizrHh.js";import"./BcOzH3FQ.js";import"./Dgjf9vxP.js";const ee=P("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const te=P("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),re={class:"flex items-center gap-1"},se={class:"text-sm font-semibold text-foreground"},oe={class:"min-w-0"},ne={class:"flex items-center gap-3"},ae={class:"h-10 w-10 overflow-hidden rounded-full border border-border bg-muted"},le=["src","alt"],de={key:1,class:"flex h-full w-full items-center justify-center bg-primary/10 text-xs font-semibold text-primary"},ie={class:"min-w-0"},ce={class:"truncate text-sm font-semibold text-foreground"},me={class:"mt-1 flex items-center gap-1.5"},ue={class:"rounded-full border border-border bg-muted px-2 py-0.5 text-[10px] font-semibold uppercase tracking-[0.08em] text-muted-foreground"},fe={key:0,class:"rounded-full border border-primary/30 bg-primary/10 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-[0.08em] text-primary"},pe={class:"text-right text-sm font-bold text-foreground"},xe={class:"flex justify-end"},be=N({__name:"LeaderboardRow",props:{user:{},isMe:{type:Boolean,default:!1},isTopThree:{type:Boolean,default:!1}},setup(n){const a=n,p=f=>new Intl.NumberFormat("en-US").format(Math.max(0,Math.floor(f))),k=u(()=>{const[f="",r=""]=a.user.name.split(" ");return`${f.slice(0,1)}${r.slice(0,1)}`.toUpperCase()||"U"}),m=u(()=>a.user.trend==="+2"?{label:"+2",className:"border-emerald-500/30 bg-emerald-500/10 text-emerald-600 dark:text-emerald-400",icon:"up"}:a.user.trend==="-1"?{label:"-1",className:"border-rose-500/30 bg-rose-500/10 text-rose-600 dark:text-rose-400",icon:"down"}:{label:"same",className:"border-border bg-muted text-muted-foreground",icon:"same"}),g=u(()=>a.isMe?"bg-primary/10":a.user.rank===1?"bg-yellow-500/10":a.user.rank===2?"bg-slate-500/10":a.user.rank===3?"bg-amber-600/10":"bg-card"),v=u(()=>a.user.rank===1?"text-yellow-600 dark:text-yellow-400":a.user.rank===2?"text-slate-500 dark:text-slate-300":a.user.rank===3?"text-amber-700 dark:text-amber-400":"text-muted-foreground");return(f,r)=>(o(),i("article",{class:w(["grid grid-cols-[54px,minmax(0,1fr),auto,72px] items-center gap-2 px-3 py-3 transition sm:grid-cols-[64px,minmax(0,1fr),auto,88px] sm:gap-3 sm:px-4",t(g)])},[e("div",re,[n.isTopThree?(o(),_(t(ee),{key:0,class:w(["h-4 w-4 shrink-0",t(v)])},null,8,["class"])):U("",!0),e("p",se," #"+c(n.user.rank),1)]),e("div",oe,[e("div",ne,[e("div",ae,[n.user.avatar?(o(),i("img",{key:0,src:n.user.avatar,alt:n.user.name,class:"h-full w-full object-cover",loading:"lazy"},null,8,le)):(o(),i("div",de,c(t(k)),1))]),e("div",ie,[e("p",ce,c(n.user.name),1),e("div",me,[e("span",ue," Lvl "+c(n.user.level),1),n.isMe?(o(),i("span",fe," You ")):U("",!0)])])])]),e("p",pe,c(p(n.user.xp))+" XP ",1),e("div",xe,[e("span",{class:w(["inline-flex min-w-[58px] items-center justify-center gap-1 rounded-full border px-2 py-1 text-xs font-semibold sm:min-w-[66px]",t(m).className])},[t(m).icon==="up"?(o(),_(t(q),{key:0,class:"h-3 w-3"})):t(m).icon==="down"?(o(),_(t(te),{key:1,class:"h-3 w-3"})):(o(),_(t(K),{key:2,class:"h-3 w-3"})),X(" "+c(t(m).label),1)],2)])],2))}}),ge={class:"space-y-4 pb-24"},he={class:"flex flex-wrap items-start justify-between gap-3"},ye={class:"grid w-full grid-cols-3 rounded-xl border border-border bg-card p-1 sm:inline-flex sm:w-auto"},ke=["onClick"],ve={class:"block truncate"},_e={class:"overflow-hidden rounded-2xl border border-border bg-card"},we={class:"divide-y divide-border"},Ue={class:"fixed bottom-0 left-0 right-0 z-40 border-t border-border bg-card px-4 pb-[calc(env(safe-area-inset-bottom)+0.75rem)] pt-3"},$e={class:"mx-auto flex w-full max-w-5xl items-center justify-between gap-3 rounded-xl border border-border bg-background px-3 py-3 sm:px-4"},Me={class:"flex min-w-0 items-center gap-2.5 sm:gap-3"},Te=["src","alt"],Ce={class:"min-w-0"},Ne={class:"truncate text-sm font-semibold text-foreground"},Be={class:"text-xs text-muted-foreground"},Ie={key:0,class:"ml-2"},Le={class:"text-right"},je={class:"text-sm font-bold text-foreground"},Re=N({__name:"TopUsers",props:{users:{},currentUser:{},currentUserId:{},selectedTimeframe:{},timeframeOptions:{}},emits:["update:selectedTimeframe"],setup(n,{emit:a}){const p=n,k=a,m=u(()=>[...p.users].sort((s,l)=>s.rank-l.rank)),g=u(()=>m.value),v=s=>new Intl.NumberFormat("en-US").format(Math.max(0,Math.floor(s))),f=s=>{s!==p.selectedTimeframe&&k("update:selectedTimeframe",s)},r=u(()=>p.currentUser||m.value.find(s=>s.id===p.currentUserId)||null),x=u(()=>r.value?r.value.trend==="+2"?"border-emerald-500/30 bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":r.value.trend==="-1"?"border-rose-500/30 bg-rose-500/10 text-rose-600 dark:text-rose-400":"border-border bg-muted text-muted-foreground":"border-border bg-muted text-muted-foreground");return(s,l)=>(o(),i("section",ge,[e("header",he,[l[0]||(l[0]=e("div",null,[e("h1",{class:"text-2xl font-bold tracking-tight text-foreground sm:text-3xl"},"Top Users")],-1)),e("div",ye,[(o(!0),i(j,null,R(n.timeframeOptions,d=>(o(),i("button",{key:d.value,type:"button",class:w(["min-w-0 rounded-lg px-2 py-1.5 text-xs font-semibold transition sm:px-4 sm:text-sm",d.value===n.selectedTimeframe?"bg-background text-foreground border border-border":"text-muted-foreground hover:text-foreground"]),onClick:M=>f(d.value)},[e("span",ve,c(d.label),1)],10,ke))),128))])]),e("section",_e,[l[1]||(l[1]=e("header",{class:"grid grid-cols-[54px,minmax(0,1fr),auto,72px] gap-2 border-b border-border px-3 py-3 text-[11px] font-semibold uppercase tracking-[0.16em] text-muted-foreground sm:grid-cols-[64px,minmax(0,1fr),auto,88px] sm:gap-3 sm:px-4"},[e("span",null,"Rank"),e("span",null,"Member"),e("span",null,"XP"),e("span",{class:"text-right"},"Trend")],-1)),e("div",we,[(o(!0),i(j,null,R(t(g),d=>(o(),_(be,{key:d.id,user:d,"is-me":d.id===n.currentUserId,"is-top-three":d.rank<=3},null,8,["user","is-me","is-top-three"]))),128))])]),e("div",Ue,[e("div",$e,[e("div",Me,[l[2]||(l[2]=e("span",{class:"rounded-full border border-border bg-muted px-2.5 py-1 text-[10px] font-semibold uppercase tracking-[0.16em] text-muted-foreground"}," My Rank ",-1)),t(r)?(o(),i("img",{key:0,src:t(r).avatar,alt:t(r).name,class:"h-9 w-9 rounded-full border border-border object-cover sm:h-10 sm:w-10",loading:"lazy"},null,8,Te)):U("",!0),e("div",Ce,[e("p",Ne,c(t(r)?t(r).name:"Current User"),1),e("p",Be,[X(c(t(r)?`#${t(r).rank}`:"#--")+" ",1),t(r)?(o(),i("span",Ie,"Lvl "+c(t(r).level),1)):U("",!0)])])]),e("div",Le,[e("p",je,c(t(r)?`${v(t(r).xp)} XP`:"-- XP"),1),t(r)?(o(),i("span",{key:0,class:w(["mt-1 inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] font-semibold",t(x)])},c(t(r).trend),3)):U("",!0)])])])]))}}),Ae={class:"page-wrapper pb-28"},Pe={class:"flex min-h-[calc(100dvh-9rem)] flex-col gap-4 lg:flex-row lg:items-start lg:gap-6"},Xe={class:"min-w-0 flex-1 space-y-4"},qe=N({__name:"index",setup(n){const a=x=>{let s=x%2147483647;return s<=0&&(s+=2147483646),()=>(s=s*16807%2147483647,(s-1)/2147483646)},p=()=>{const l="current-user",d=["+2","-1","same"],M=["Liam","Mason","Evelyn","Ava","Elijah","Noah","Sophia","Harper","Aria","Lucas","Mia","James","Zoey","Layla","Ethan","Leo","Ella","Aiden","Chloe","Jack"],B=["Morgan","Walker","Hayes","Bennett","Diaz","Cooper","Reed","Parker","Cole","Gray","Bailey","Ward","Perry","Jenkins","Cruz"],z=(h,$)=>{const b=M[h%M.length],I=B[Math.floor($()*B.length)];return`${b} ${I}`},E=h=>`https://api.dicebear.com/8.x/adventurer/svg?seed=${encodeURIComponent(h)}`,T=(h,$)=>{const b=a(h);return Array.from({length:50},(I,S)=>{const y=S+1,C=y===24,L=C?l:`user-${h}-${y}`,F=C?"Current User":z(y+Math.floor(b()*10),b),V=(50-y+1)*$*120,D=Math.floor(b()*$*60),J=Math.max(900,Math.floor(V+D)),O=5+Math.floor((50-y)/2.5),W=Math.max(2,O+Math.floor(b()*4)),G=C?"+2":d[Math.floor(b()*d.length)];return{id:L,rank:y,name:F,avatar:E(L),level:W,xp:J,trend:G}})},H={weekly:T(17,34),monthly:T(53,118),"all-time":T(101,470)};return{currentUserId:l,usersByTimeframe:H}},k=[{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"},{label:"All-Time",value:"all-time"}],m=Q("weekly"),{currentUserId:g,usersByTimeframe:v}=p(),f=u(()=>v[m.value]||[]),r=u(()=>f.value.find(x=>x.id===g)||null);return(x,s)=>(o(),i("div",Ae,[e("div",Pe,[A(Y,{items:t(Z),class:"shrink-0"},null,8,["items"]),e("section",Xe,[A(Re,{users:t(f),"current-user":t(r),"current-user-id":t(g),"selected-timeframe":t(m),"timeframe-options":k,"onUpdate:selectedTimeframe":s[0]||(s[0]=l=>m.value=l)},null,8,["users","current-user","current-user-id","selected-timeframe"])])])]))}});export{qe as default};
