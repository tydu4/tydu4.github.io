import{d as _,c as a,a as t,t as s,u as l,F as k,D as $,o as n,E as M,j as m,e as v,M as w,Y as P}from"./DXztqjCQ.js";const A={class:"w-full max-w-full rounded-3xl border border-border bg-card p-5 shadow-soft"},T={class:"flex items-center justify-between gap-3"},j={class:"shrink-0 rounded-full border border-border bg-muted/40 px-3 py-1 text-xs font-medium text-muted-foreground"},C={key:0,class:"mt-4 grid w-full max-w-full grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-3"},F={class:"flex h-10 w-10 items-center justify-center rounded-full border border-current/30 bg-card text-sm font-semibold"},R={class:"mt-3 break-words text-sm font-semibold"},D={class:"mt-1 break-words text-xs opacity-80"},z={key:1,class:"mt-4 text-sm text-muted-foreground"},H=_({__name:"ProfileAchievements",props:{items:{default:()=>[]}},setup(f){const o=f,x=m(()=>o.items.map(e=>({...e,id:e.id.trim(),title:e.title.trim(),description:e.description?.trim()||"",badge:e.badge?.trim()||"",tone:e.tone||"default"})).filter(e=>e.id&&e.title)),p={gold:"ring-1 ring-amber-300/70 text-amber-900 dark:text-amber-200",blue:"ring-1 ring-sky-300/70 text-sky-900 dark:text-sky-200",green:"ring-1 ring-emerald-300/70 text-emerald-900 dark:text-emerald-200",default:"text-foreground"},c=e=>p[e??"default"]??p.default;return(e,r)=>(n(),a("section",A,[t("div",T,[r[0]||(r[0]=t("h2",{class:"text-sm font-semibold uppercase tracking-[0.18em] text-foreground"},"Achievements",-1)),t("span",j,s(l(x).length)+" badges ",1)]),l(x).length?(n(),a("div",C,[(n(!0),a(k,null,$(l(x),i=>(n(),a("article",{key:i.id,class:M(["w-full max-w-full min-w-0 rounded-2xl border border-border bg-card p-4 shadow-soft",c(i.tone)])},[t("div",F,s(i.badge||"BA"),1),t("h3",R,s(i.title),1),t("p",D,s(i.description||"Achievement details will appear here."),1)],2))),128))])):(n(),a("p",z,"No achievements unlocked yet."))]))}}),Te=Object.assign(H,{__name:"ProfileAchievements"}),U={class:"rounded-3xl border border-border bg-card p-6 shadow-soft"},E={class:"flex flex-col gap-5 lg:flex-row lg:items-start lg:justify-between"},V={class:"flex min-w-0 items-center gap-4"},B={class:"h-20 w-20 shrink-0 overflow-hidden rounded-full border-4 border-border bg-primary/10 shadow-soft"},O=["src","alt"],W={key:1,class:"flex h-full w-full items-center justify-center text-2xl font-bold text-primary"},I={class:"min-w-0"},Y={class:"truncate text-2xl font-bold text-foreground"},q={class:"truncate text-sm text-muted-foreground"},G={key:0,class:"mt-1 text-xs text-muted-foreground"},J={class:"flex flex-wrap gap-2 lg:justify-end"},K={class:"mt-4 text-sm text-muted-foreground"},Q={class:"mt-3"},X=_({__name:"ProfileHeader",props:{avatarUrl:{default:null},displayName:{},username:{default:""},city:{default:""},bio:{default:""}},setup(f){const o=f,x=m(()=>o.displayName.trim().charAt(0).toUpperCase()||"U"),p=m(()=>o.username?.trim()||"user"),c=m(()=>o.bio?.trim()||""),e=m(()=>o.city?.trim()||"");return(r,i)=>(n(),a("section",U,[t("div",E,[t("div",V,[t("div",B,[f.avatarUrl?(n(),a("img",{key:0,src:f.avatarUrl,alt:f.displayName,class:"h-full w-full object-cover"},null,8,O)):(n(),a("div",W,s(l(x)),1))]),t("div",I,[t("h1",Y,s(f.displayName),1),t("p",q,"@"+s(l(p)),1),l(e)?(n(),a("p",G,s(l(e)),1)):v("",!0)])]),t("div",J,[w(r.$slots,"actions")])]),t("p",K,s(l(c)||"This profile has no bio yet."),1),t("div",Q,[w(r.$slots,"footer")])]))}}),je=Object.assign(X,{__name:"ProfileHeader"}),Z={class:"rounded-3xl border border-border bg-card p-5 shadow-soft"},ee={class:"text-sm font-semibold uppercase tracking-[0.18em] text-foreground"},te={key:0,class:"mt-4 space-y-3"},re={class:"flex items-start gap-3"},se={class:"min-w-0"},oe={class:"text-sm font-semibold text-foreground"},ae={key:0,class:"mt-1 text-xs text-muted-foreground"},ne={key:1,class:"mt-1 text-xs uppercase tracking-[0.16em] text-muted-foreground"},le={key:1,class:"mt-4 text-sm text-muted-foreground"},ie=_({__name:"ProfileRecentActivity",props:{title:{default:"Recent Activity"},items:{default:()=>[]}},setup(f){const o=f,x={level_up:"Reached a new level",profile_update:"Updated profile details",streak_milestone:"Hit streak milestone"},p=e=>{if(!e)return"Recently";const r=new Date(e);if(Number.isNaN(r.getTime()))return"Recently";const i=new Date,b=1440*60*1e3,g=new Date(r.getFullYear(),r.getMonth(),r.getDate()),y=new Date(i.getFullYear(),i.getMonth(),i.getDate()),h=Math.floor((y.getTime()-g.getTime())/b);return h<=0?"Today":h<=7?"This week":h<=31?"This month":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(r)},c=m(()=>o.items.map(e=>{const r=e.title?.trim()||x[e.type||""]||"Activity update",i=e.details?.trim()||e.description?.trim()||"",b=e.createdAt||e.created_at;return{id:String(e.id),title:r,details:i,timeLabel:e.timeLabel?.trim()||p(b)}}).filter(e=>!!e.title));return(e,r)=>(n(),a("section",Z,[t("h2",ee,s(f.title),1),l(c).length?(n(),a("ul",te,[(n(!0),a(k,null,$(l(c),i=>(n(),a("li",{key:i.id,class:"rounded-2xl border border-border bg-card px-4 py-3"},[t("div",re,[r[0]||(r[0]=t("span",{class:"mt-1 h-2.5 w-2.5 shrink-0 rounded-full bg-primary/80"},null,-1)),t("div",se,[t("p",oe,s(i.title),1),i.details?(n(),a("p",ae,s(i.details),1)):v("",!0),i.timeLabel?(n(),a("p",ne,s(i.timeLabel),1)):v("",!0)])])]))),128))])):(n(),a("p",le,"No recent activity yet."))]))}}),Ce=Object.assign(ie,{__name:"ProfileRecentActivity"}),de={class:"rounded-3xl border border-border bg-card p-5 shadow-soft"},ce={class:"text-sm font-semibold uppercase tracking-[0.18em] text-foreground"},ue={key:0,class:"mt-4 space-y-2"},me={class:"text-xs uppercase tracking-[0.16em] text-muted-foreground"},fe=["href"],pe={key:1,class:"mt-1 truncate font-medium text-foreground"},xe={key:1,class:"mt-4 text-sm text-muted-foreground"},be=_({__name:"ProfileSocials",props:{title:{default:"Social Links"},emptyText:{default:"No social links added yet."},items:{default:()=>[]}},setup(f){const o=f,x=c=>{const e=c.href?.trim();if(e)return e;const r=c.value.trim();return r&&(r.startsWith("http://")||r.startsWith("https://"))?r:""},p=m(()=>o.items.map(c=>({...c,label:c.label.trim(),value:c.value.trim(),href:x(c)})).filter(c=>c.label&&c.value));return(c,e)=>(n(),a("section",de,[t("h2",ce,s(f.title),1),l(p).length?(n(),a("ul",ue,[(n(!0),a(k,null,$(l(p),r=>(n(),a("li",{key:r.key||`${r.label}-${r.value}`,class:"rounded-2xl border border-border bg-card px-3 py-2 text-sm"},[t("p",me,s(r.label),1),r.href?(n(),a("a",{key:0,href:r.href,target:"_blank",rel:"noopener noreferrer",class:"mt-1 block truncate font-medium text-primary underline-offset-4 hover:underline"},s(r.value),9,fe)):(n(),a("p",pe,s(r.value),1))]))),128))])):(n(),a("p",xe,s(f.emptyText),1))]))}}),Fe=Object.assign(be,{__name:"ProfileSocials"}),he={class:"grid grid-cols-1 gap-3 md:grid-cols-3"},_e={class:"rounded-3xl border border-border bg-card p-5 shadow-soft"},ge={class:"mt-2 text-2xl font-bold text-foreground"},ye={class:"mt-1 text-xs text-muted-foreground"},ve={class:"rounded-3xl border border-border bg-card p-5 shadow-soft"},ke={class:"mt-2 text-2xl font-bold text-foreground"},$e={class:"mt-1 text-xs text-muted-foreground"},we={class:"mt-3 h-2 w-full rounded-full bg-muted/70"},Se={class:"rounded-3xl border border-border bg-card p-5 shadow-soft"},Le={class:"mt-2 text-2xl font-bold text-foreground"},Ne={class:"mt-1 text-xs text-muted-foreground"},Me={class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},Pe=_({__name:"ProfileStats",props:{level:{default:1},tierName:{default:"Core"},exp:{default:0},nextLevelExp:{default:1e3},role:{default:"participant"},status:{default:""},reputation:{default:null},extraStatLabel:{default:"Reputation"},extraStatValue:{default:null},extraStatHint:{default:"Will unlock in future updates"}},setup(f){const o=f,x=m(()=>{const d=Number(o.level);return!Number.isFinite(d)||d<1?1:Math.floor(d)}),p=m(()=>{const d=Number(o.exp);return!Number.isFinite(d)||d<0?0:Math.floor(d)}),c=m(()=>o.tierName?.trim()||"Core"),e=m(()=>{const d=Number(o.nextLevelExp);return Number.isFinite(d)&&d>0?Math.max(Math.floor(d),p.value||1,1e3):Math.max(1e3,p.value||1e3)}),r=m(()=>e.value?Math.min(100,Math.round(p.value/e.value*100)):0),i=m(()=>Math.max(0,e.value-p.value)),b={organizer:"Organizer",participant:"Participant",user:"Participant",admin:"Admin",moderator:"Moderator"},g=d=>d.split(/[\s_-]+/g).filter(u=>!!u).map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" "),y=m(()=>{const d=o.status?.trim();if(d)return d;const u=o.role?.trim().toLowerCase()||"participant";return b[u]||g(u)}),h=m(()=>o.extraStatLabel?.trim()||"Reputation"),S=m(()=>{const d=Number(o.reputation);if(Number.isFinite(d)&&d>=0)return Math.round(d);if(typeof o.extraStatValue=="number"&&Number.isFinite(o.extraStatValue))return Math.max(0,Math.round(o.extraStatValue));const u=Number(o.extraStatValue);return Number.isFinite(u)&&u>=0?Math.round(u):Math.max(0,Math.round(x.value*100+p.value/10))}),L=m(()=>S.value.toLocaleString()),N=m(()=>o.extraStatHint?.trim()||"Will unlock in future updates");return(d,u)=>(n(),a("section",he,[t("article",_e,[u[0]||(u[0]=t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"Level",-1)),t("p",ge,s(l(x)),1),t("p",ye,s(l(c))+" tier",1)]),t("article",ve,[u[1]||(u[1]=t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"Experience",-1)),t("p",ke,s(l(p).toLocaleString())+" / "+s(l(e).toLocaleString()),1),t("p",$e,s(l(i).toLocaleString())+" to next level",1),t("div",we,[t("div",{class:"h-2 rounded-full bg-primary transition-all duration-300",style:P({width:`${l(r)}%`})},null,4)])]),t("article",Se,[u[2]||(u[2]=t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"Status",-1)),t("p",Le,s(l(y)),1),t("p",Ne,s(l(h))+": "+s(l(L)),1),t("p",Me,s(l(N)),1)])]))}}),Re=Object.assign(Pe,{__name:"ProfileStats"});export{je as P,Re as a,Te as b,Ce as c,Fe as d};
