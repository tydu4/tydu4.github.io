import{d as J,o as r,c as o,D as re,h as e,F as x,A as $,u as a,t as i,g as m,n as ye,q as de,r as b,z as C,x as V,i as ee,G as we,e as _,W as te,f as S,b as H,w as j,j as P,_ as ke}from"./BO0_OeXi.js";import{E as Le}from"./ChWJ63gv.js";import{_ as $e}from"./DlAUqK2U.js";import{s as Ue}from"./BlLI6pzT.js";const Ie=J({__name:"SkeletonLoader",props:{roundedClass:{default:"rounded-2xl"}},setup(g){return(n,c)=>(r(),o("div",{class:re(["skeleton-loader",g.roundedClass]),"aria-hidden":"true"},null,2))}}),F=Object.assign($e(Ie,[["__scopeId","data-v-63bf1165"]]),{__name:"SkeletonLoader"}),Se={class:"overflow-hidden rounded-3xl border border-border bg-card shadow-soft"},Ae={key:0,class:"space-y-2 p-4 sm:p-5"},Te={key:1,class:"divide-y divide-border/60"},ze={class:"text-sm font-bold text-foreground"},Fe={class:"min-w-0"},Me={class:"flex items-center gap-3"},Ne={class:"h-10 w-10 overflow-hidden rounded-full border border-border bg-muted"},Pe=["src","alt"],Ce={key:1,class:"flex h-full w-full items-center justify-center bg-primary/10 text-sm font-semibold text-primary"},De={class:"min-w-0"},je={class:"truncate text-sm font-semibold text-foreground"},Re={class:"truncate text-xs text-muted-foreground"},Ee={class:"text-sm font-bold text-foreground"},Be={key:2,class:"px-4 py-7 text-sm text-muted-foreground sm:px-5"},qe=J({__name:"LeaderboardWidget",props:{items:{default:()=>[]},limit:{},currentUserId:{default:null},currentUsername:{default:null},loading:{type:Boolean,default:!1},emptyText:{default:"–ü–æ–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ –ª–∏–¥–µ—Ä–æ–≤ –Ω–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤."}},setup(g){const n=g,c=m(()=>Array.isArray(n.items)?n.items:[]),M=m(()=>c.value.slice(0,Math.max(1,Math.floor(n.limit||1)))),U=m(()=>n.currentUsername?.trim().toLowerCase()||""),v=u=>u.full_name?.trim()||u.username,A=u=>v(u).slice(0,1).toUpperCase()||"U",N=u=>new Intl.NumberFormat("ru-RU").format(Math.max(0,Math.floor(u||0))),T=(u,k)=>Number.isFinite(u.rank)&&u.rank>0?u.rank:k+1,h=u=>n.currentUserId&&u.user_id===n.currentUserId?!0:U.value?u.username.trim().toLowerCase()===U.value:!1;return(u,k)=>(r(),o("section",Se,[k[0]||(k[0]=e("header",{class:"grid grid-cols-[64px,minmax(0,1fr),auto] items-center gap-3 border-b border-border/70 px-4 py-3 text-[11px] font-semibold uppercase tracking-[0.16em] text-muted-foreground sm:px-5"},[e("span",null,"–†–∞–Ω–≥"),e("span",null,"–£—á–∞—Å—Ç–Ω–∏–∫"),e("span",null,"XP")],-1)),g.loading?(r(),o("div",Ae,[(r(!0),o(x,null,$(Math.max(3,Math.min(g.limit,6)),d=>(r(),o("div",{key:`leaderboard-widget-skeleton-${d}`,class:"h-[62px] animate-pulse rounded-2xl bg-muted"}))),128))])):a(M).length?(r(),o("ul",Te,[(r(!0),o(x,null,$(a(M),(d,z)=>(r(),o("li",{key:`${d.user_id}-${d.rank}-${z}`,class:re(["grid grid-cols-[64px,minmax(0,1fr),auto] items-center gap-3 px-4 py-3.5 transition sm:px-5",h(d)?"bg-primary/10 ring-1 ring-inset ring-primary/35":"hover:bg-muted/50"])},[e("p",ze,i(T(d,z)),1),e("div",Fe,[e("div",Me,[e("div",Ne,[d.avatar_url?(r(),o("img",{key:0,src:d.avatar_url,alt:v(d),class:"h-full w-full object-cover",loading:"lazy"},null,8,Pe)):(r(),o("div",Ce,i(A(d)),1))]),e("div",De,[e("p",je,i(v(d)),1),e("p",Re," @"+i(d.username)+" - lvl "+i(d.level),1)])])]),e("p",Ee,i(N(d.exp)),1)],2))),128))])):(r(),o("div",Be,i(g.emptyText),1))]))}}),Qe=Object.assign(qe,{__name:"SharedLeaderboardWidget"}),ue=20,Xe=g=>Number.isFinite(g)?Math.max(1,Math.floor(g)):ue,Ge=ye("gamification",()=>{const g=de(),n=b([]),c=b(0),M=b(null),U=b(ue),v=b("all-time"),A=b(!1),N=b(!1),T=b(""),h=b(null),u=b(!1),k=b(!1),d=b(""),z=m(()=>h.value?.user_id??null),R=m(()=>h.value?.username?.trim()||g.user?.username?.trim()||null),E=m(()=>h.value?Math.max(0,h.value.next_level_exp-h.value.exp):0),D=f=>{n.value=f?.items??[],c.value=f?.total_users??0,M.value=f?.my_rank??null},B=async(f={})=>{const L=Xe(f.limit??U.value),Q=f.period??v.value,X=n.value.length>=L||c.value>0&&n.value.length>=c.value,y=!f.force&&N.value&&!T.value&&v.value===Q&&U.value>=L&&X;if(U.value=L,v.value=Q,!y&&!A.value){A.value=!0,T.value="";try{const p=await g.apiFetch("/api/v1/leaderboard",{baseURL:C("/api/v1/leaderboard"),query:{limit:L}});D(p),N.value=!0}catch(p){if(T.value="–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ª–∏–¥–µ—Ä–±–æ—Ä–¥.",f.force)throw p}finally{A.value=!1}}},q=async(f={})=>{if(!g.isFullUser){h.value=null,k.value=!1,d.value="";return}if(!u.value){u.value=!0,d.value="";try{const L=await g.apiFetch("/api/v1/me/gamification",{baseURL:C("/api/v1/me/gamification")});h.value=L,k.value=!0}catch(L){if(d.value="–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å.",!f.silent)throw L}finally{u.value=!1}}};return{leaderboard:n,totalUsers:c,myRank:M,leaderboardLimit:U,leaderboardPeriod:v,leaderboardLoading:A,leaderboardLoaded:N,leaderboardError:T,profile:h,profileLoading:u,profileLoaded:k,profileError:d,currentUserId:z,currentUsername:R,xpToNextLevel:E,fetchLeaderboard:B,fetchProfile:q,fetchLeaderboardAndProfile:async(f={})=>{await Promise.all([B(f),q({silent:!0})])}}}),Oe={class:"-mx-4 min-h-screen bg-[radial-gradient(circle_at_12%_0%,rgba(251,191,36,0.24),transparent_36%),radial-gradient(circle_at_88%_0%,rgba(14,165,233,0.16),transparent_34%)]"},We={class:"mx-auto max-w-7xl space-y-9 px-4 pb-10 pt-2 sm:px-6 lg:px-8"},Ve={class:"relative overflow-hidden rounded-[2rem] border border-border/80 bg-card/90 p-6 shadow-soft backdrop-blur"},He={class:"relative space-y-5"},Je={class:"flex items-end justify-between gap-4"},Ke=["disabled"],Ye={key:0,class:"space-y-4"},Ze={class:"flex gap-3 overflow-x-auto pb-1"},et={key:0,class:"relative isolate overflow-hidden rounded-3xl border border-white/20 p-5 text-white shadow-soft sm:p-6"},tt=["src","alt"],st={class:"relative z-10 max-w-xl space-y-3"},rt={class:"flex flex-wrap items-center gap-2 text-xs"},ot={class:"rounded-full bg-white/20 px-2.5 py-1 font-semibold"},nt={class:"rounded-full bg-white/15 px-2.5 py-1"},at={class:"text-2xl font-bold leading-tight sm:text-[2rem]"},lt={class:"text-sm text-white/90"},it={class:"flex gap-3 overflow-x-auto pb-1"},dt=["onClick"],ut={class:"relative ml-1.5 flex h-11 w-11 shrink-0 items-center justify-center overflow-hidden rounded-full aspect-square"},ct=["src","alt"],mt={class:"relative z-10 text-xs font-bold text-white"},gt={class:"min-w-0"},ft={class:"block truncate text-xs font-semibold text-foreground"},pt={class:"block truncate text-[11px] text-muted-foreground"},bt={class:"space-y-4"},xt={key:0,class:"flex gap-4 overflow-x-auto pb-2"},ht={key:1,class:"rounded-3xl border border-dashed border-border bg-card/80 p-5 text-sm text-muted-foreground"},_t={key:2,class:"flex gap-4 overflow-x-auto pb-2"},vt={class:"mt-2 line-clamp-2 text-base font-semibold text-foreground"},yt={class:"mt-2 line-clamp-2 text-sm text-muted-foreground"},wt={class:"mt-4 flex items-center justify-between text-xs"},kt={class:"font-semibold text-foreground"},Lt={class:"rounded-full bg-emerald-500/15 px-2.5 py-1 font-semibold text-emerald-700"},$t={class:"mt-2 h-2 overflow-hidden rounded-full bg-muted"},Ut={class:"mt-3 text-[11px] text-muted-foreground"},It={key:0,class:"min-w-full rounded-3xl border border-border bg-card p-5 text-sm text-muted-foreground"},St={class:"space-y-4"},At={key:0,class:"grid gap-3 md:grid-cols-2"},Tt={key:1,class:"grid gap-3 md:grid-cols-2"},zt={class:"h-16 w-16 overflow-hidden rounded-2xl border border-border/70 bg-muted"},Ft=["src","alt"],Mt={key:1,class:"h-full w-full bg-[linear-gradient(130deg,rgba(251,146,60,0.45),rgba(245,158,11,0.3),rgba(253,224,71,0.3))]"},Nt={class:"min-w-0 flex-1 space-y-1"},Pt={class:"truncate text-sm font-semibold text-foreground"},Ct={class:"truncate text-xs text-muted-foreground"},Dt={class:"inline-flex rounded-full bg-orange-500/15 px-2.5 py-1 text-[11px] font-semibold text-orange-700"},jt={key:1,class:"flex items-center gap-4 rounded-2xl border border-border bg-card p-4 shadow-soft"},Rt={class:"min-w-0 flex-1 space-y-1"},Et={class:"truncate text-sm font-semibold text-foreground"},Bt={class:"truncate text-xs text-muted-foreground"},qt={class:"inline-flex rounded-full bg-orange-500/15 px-2.5 py-1 text-[11px] font-semibold text-orange-700"},Qt={key:0,class:"rounded-2xl border border-border bg-card p-5 text-sm text-muted-foreground md:col-span-2"},Xt={class:"space-y-4"},Gt={key:0,class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},Ot={class:"space-y-2 p-4"},Wt={key:1,class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},Vt={key:0,class:"rounded-2xl border border-border bg-card p-5 text-sm text-muted-foreground sm:col-span-2 lg:col-span-3 xl:col-span-4"},Ht={class:"space-y-4"},Jt={class:"flex items-start justify-between gap-3"},Kt={key:0,class:"rounded-2xl border border-destructive/25 bg-destructive/10 px-4 py-3 text-sm text-destructive"},Yt={key:1,class:"text-sm text-muted-foreground"},Zt={class:"font-semibold text-foreground"},es={class:"font-semibold text-foreground"},ts="–í–æ–π–¥–∏, —á—Ç–æ–±—ã —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å –ø—Ä–∏–∑—ã",se=5,ss=J({__name:"HomeMainBlock",setup(g){const n=de(),c=Ge(),M=t=>{if(Array.isArray(t))return t;if(t&&typeof t=="object"){if("items"in t&&Array.isArray(t.items))return t.items??[];if("data"in t&&Array.isArray(t.data))return t.data??[]}return[]},{data:U,pending:v}=V("home-smart-feed",()=>!n.isAuthInitialized||!n.token?[]:n.apiFetch("/api/v1/discovery/feed",{baseURL:C("/api/v1/discovery/feed"),query:{limit:24}}),{server:!1,default:()=>[],watch:[()=>n.token,()=>n.isAuthInitialized]}),{data:A,pending:N}=V("home-global-quests",()=>!n.isAuthInitialized||!n.isFullUser?null:n.apiFetch("/api/v1/quests/active",{baseURL:C("/api/v1/quests/active")}),{server:!1,default:()=>null,watch:[()=>n.token,()=>n.isAuthInitialized,()=>n.isFullUser]}),{data:T,pending:h}=V("home-trending-squads",()=>!n.isAuthInitialized||!n.token?[]:n.apiFetch("/api/v1/community/trending",{baseURL:C("/api/v1/community/trending")}),{server:!1,default:()=>[],watch:[()=>n.token,()=>n.isAuthInitialized]}),{data:u,pending:k}=V("home-organizer-stories",()=>$fetch("/api/v1/events/organizers",{baseURL:C("/api/v1/events/organizers"),query:{limit:8}}),{server:!1,default:()=>[]}),d=m(()=>U.value??[]),z=m(()=>d.value.slice(0,6)),R=m(()=>A.value?.items??[]),E=m(()=>M(T.value).slice(0,6)),D=m(()=>c.leaderboard.slice(0,se)),B=t=>{if(!t)return"–°–µ–≥–æ–¥–Ω—è";const s=new Date(t);return Number.isNaN(s.getTime())?"–°–µ–≥–æ–¥–Ω—è":new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}).format(s)},q=t=>{if(!t)return"–±–µ–∑ –¥–µ–¥–ª–∞–π–Ω–∞";const s=new Date(t);return Number.isNaN(s.getTime())?"–±–µ–∑ –¥–µ–¥–ª–∞–π–Ω–∞":new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"short"}).format(s)},oe=t=>new Intl.NumberFormat("ru-RU").format(Math.max(0,Math.floor(t||0))),f=t=>({id:`event-${t.id}`,title:t.title,subtitle:t.venue_name?`${t.venue_name}${t.city?`, ${t.city}`:""}`:t.city||"–õ–æ–∫–∞—Ü–∏—è —É—Ç–æ—á–Ω—è–µ—Ç—Å—è",badge:"–ì–æ—Ä—è—á–µ–µ —Å–µ–≥–æ–¥–Ω—è",caption:B(t.start_time),image:t.main_image,slug:t.slug?`/e/${t.slug}`:void 0,accent:"linear-gradient(115deg, rgba(251,146,60,0.95), rgba(244,63,94,0.75), rgba(217,119,6,0.8))"}),L=(t,s)=>({id:`organizer-${t.name}-${s}`,title:t.name,subtitle:"–°—Ç–æ—Ä–∏—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤",badge:"Stories",caption:t.rating>0?`–†–µ–π—Ç–∏–Ω–≥ ${t.rating.toFixed(1)}`:"–ù–æ–≤—ã–µ –∞–Ω–æ–Ω—Å—ã",accent:"linear-gradient(115deg, rgba(56,189,248,0.92), rgba(14,116,144,0.82), rgba(2,132,199,0.88))"}),Q=[{id:"mock-story-1",title:"Night Shift Crew",subtitle:"–°—Ç–æ—Ä–∏—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤",badge:"Stories",caption:"–ù–æ–≤—ã–µ –∞–Ω–æ–Ω—Å—ã —Å–µ–≥–æ–¥–Ω—è",accent:"linear-gradient(115deg, rgba(251,146,60,0.9), rgba(190,24,93,0.78), rgba(249,115,22,0.8))"},{id:"mock-story-2",title:"Museum Weekend",subtitle:"–°—Ç–æ—Ä–∏—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤",badge:"Stories",caption:"–ü–æ–¥–±–æ—Ä–∫–∏ –Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã–µ",accent:"linear-gradient(115deg, rgba(52,211,153,0.9), rgba(5,150,105,0.8), rgba(16,185,129,0.82))"},{id:"mock-story-3",title:"Open Air Talks",subtitle:"–°—Ç–æ—Ä–∏—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤",badge:"Stories",caption:"–ó–Ω–∞–∫–æ–º—Å—Ç–≤–∞ –∏ –Ω–µ—Ç–≤–æ—Ä–∫",accent:"linear-gradient(115deg, rgba(125,211,252,0.92), rgba(59,130,246,0.8), rgba(2,132,199,0.84))"}],X=m(()=>(u.value??[]).slice(0,6).map((t,s)=>L(t,s))),y=m(()=>z.value.length?z.value.map(f):X.value.length?X.value:Q),p=b(0),w=m(()=>y.value[p.value]??null),G=m(()=>v.value||!z.value.length&&k.value),ce=m(()=>!n.isAuthInitialized||n.isFullUser&&N.value),me=m(()=>!n.isAuthInitialized||!!n.token&&h.value),ge=m(()=>!n.isAuthInitialized||!!n.token&&v.value),fe=m(()=>n.isFullUser?"–ü–æ–∫–∞ –Ω–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π. –°–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è —Å–≤–µ–∂–∏–µ —Å–æ–±—ã—Ç–∏—è.":"–í–æ–π–¥–∏, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —É–º–Ω—É—é –ª–µ–Ω—Ç—É.");ee([()=>n.isAuthInitialized,()=>n.token],([t])=>{t&&c.fetchLeaderboardAndProfile({limit:se,period:"all-time"}).catch(()=>{})},{immediate:!0}),ee(()=>y.value.length,t=>{if(!t){p.value=0;return}p.value>=t&&(p.value=0)},{immediate:!0});let O=null;const ne=()=>{O&&(clearInterval(O),O=null)},K=()=>{ne(),!(G.value||y.value.length<2)&&(O=Ue(()=>{p.value=(p.value+1)%y.value.length},5200))};ee([()=>y.value.length,G],()=>{K()},{immediate:!0}),we(()=>{ne()});const pe=t=>{p.value=t,K()},be=()=>{y.value.length&&(p.value=(p.value+1)%y.value.length,K())},xe=t=>t.slice(0,1).toUpperCase(),he=t=>`${Math.min(t.current_value,t.target_value)}/${t.target_value}`,_e=t=>t.target_value?Math.min(100,Math.max(0,Math.round(t.current_value/t.target_value*100))):0,Y=t=>t.event_title||t.title||t.event?.title||"–°–æ–±—ã—Ç–∏–µ",Z=t=>t.event_slug||t.slug||t.event?.slug||"",ve=t=>{const s=t.active_buddy_requests??t.event?.active_buddy_requests??0;return Number.isFinite(s)?Math.max(0,Math.round(s)):0},ae=t=>{const s=t.venue_name||t.event?.venue_name,I=t.city||t.event?.city;return s&&I?`${s} √Ç¬∑ ${I}`:s||I||"–°–µ–π—á–∞—Å –≤ —Ç—Ä–µ–Ω–¥–µ"},le=t=>t.main_image||t.event?.main_image||null,ie=t=>`üî• ${Math.max(1,ve(t))} —á–µ–ª–æ–≤–µ–∫ –∏—â—É—Ç –∫–æ–º–ø–∞–Ω–∏—é`;return(t,s)=>{const I=ke;return r(),o("div",Oe,[e("div",We,[e("section",Ve,[s[3]||(s[3]=e("div",{class:"pointer-events-none absolute -right-16 -top-16 h-48 w-48 rounded-full bg-orange-300/20 blur-3xl"},null,-1)),s[4]||(s[4]=e("div",{class:"pointer-events-none absolute -left-10 bottom-0 h-44 w-44 rounded-full bg-sky-300/20 blur-3xl"},null,-1)),e("div",He,[e("div",Je,[s[0]||(s[0]=e("div",null,[e("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"Hero Block"),e("h1",{class:"mt-1 text-2xl font-bold text-foreground sm:text-3xl"},"Stories"),e("p",{class:"mt-2 text-sm text-muted-foreground"},"–ì–æ—Ä—è—á–µ–µ —Å–µ–≥–æ–¥–Ω—è –∏ —Å—Ç–æ—Ä–∏—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤.")],-1)),e("button",{type:"button",class:"rounded-full border border-border bg-card px-4 py-2 text-xs font-semibold text-foreground transition hover:bg-muted disabled:cursor-not-allowed disabled:opacity-50",disabled:a(G)||a(y).length<2,onClick:be}," –°–ª–µ–¥—É—é—â–∞—è ",8,Ke)]),a(G)?(r(),o("div",Ye,[_(F,{class:"h-56 w-full rounded-3xl"}),e("div",Ze,[(r(),o(x,null,$(5,l=>_(F,{key:`hero-chip-skeleton-${l}`,class:"h-12 min-w-[160px] rounded-full"})),64))])])):(r(),o(x,{key:1},[a(w)?(r(),o("article",et,[e("div",{class:"absolute inset-0",style:te({background:a(w).accent})},null,4),a(w).image?(r(),o("img",{key:0,src:a(w).image,alt:a(w).title,class:"absolute inset-0 h-full w-full object-cover opacity-45",loading:"lazy"},null,8,tt)):S("",!0),s[2]||(s[2]=e("div",{class:"absolute inset-0 bg-[linear-gradient(115deg,rgba(15,23,42,0.62),rgba(15,23,42,0.15))]"},null,-1)),e("div",st,[e("div",rt,[e("span",ot,i(a(w).badge),1),e("span",nt,i(a(w).caption),1)]),e("h2",at,i(a(w).title),1),e("p",lt,i(a(w).subtitle),1),a(w).slug?(r(),H(I,{key:0,to:a(w).slug,class:"inline-flex rounded-full bg-white px-4 py-2 text-xs font-semibold text-slate-900 transition hover:bg-white/90"},{default:j(()=>[...s[1]||(s[1]=[P(" –û—Ç–∫—Ä—ã—Ç—å —Å–æ–±—ã—Ç–∏–µ ",-1)])]),_:1},8,["to"])):S("",!0)])])):S("",!0),e("div",it,[(r(!0),o(x,null,$(a(y),(l,W)=>(r(),o("button",{key:l.id,type:"button",class:re(["flex min-w-[170px] items-center gap-3 rounded-full border pr-3 text-left transition",W===a(p)?"border-primary/60 bg-primary/5 shadow-soft":"border-border/70 bg-card/80 hover:bg-muted/60"]),onClick:os=>pe(W)},[e("span",ut,[l.image?(r(),o("img",{key:0,src:l.image,alt:l.title,class:"h-full w-full shrink-0 aspect-square object-cover",loading:"lazy"},null,8,ct)):(r(),o(x,{key:1},[e("span",{class:"absolute inset-0",style:te({background:l.accent})},null,4),e("span",mt,i(xe(l.title)),1)],64))]),e("span",gt,[e("span",ft,i(l.title),1),e("span",pt,i(l.caption),1)])],10,dt))),128))])],64))])]),e("section",bt,[s[7]||(s[7]=e("div",{class:"flex items-center justify-between gap-3"},[e("h2",{class:"text-xl font-bold text-foreground"},"Global Quests"),e("span",{class:"rounded-full bg-primary/10 px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.16em] text-primary"}," –ù–æ–≤–æ–µ ")],-1)),a(ce)?(r(),o("div",xt,[(r(),o(x,null,$(3,l=>_(F,{key:`quest-skeleton-${l}`,class:"h-44 min-w-[270px] rounded-3xl"})),64))])):a(n).isFullUser?(r(),o("div",_t,[(r(!0),o(x,null,$(a(R),l=>(r(),o("article",{key:l.id,class:"min-w-[270px] rounded-3xl border border-border bg-card p-5 shadow-soft"},[s[6]||(s[6]=e("p",{class:"text-xs font-semibold uppercase tracking-[0.16em] text-muted-foreground"},"Global Quest",-1)),e("h3",vt,i(l.title),1),e("p",yt,i(l.description||"–í—ã–ø–æ–ª–Ω—è–π –∫–≤–µ—Å—Ç –∏ –ø–æ–ª—É—á–∞–π XP."),1),e("div",wt,[e("span",kt,i(he(l)),1),e("span",Lt,"+"+i(l.xp_reward)+" XP",1)]),e("div",$t,[e("div",{class:"h-full rounded-full bg-gradient-to-r from-emerald-500 to-teal-400",style:te({width:`${_e(l)}%`})},null,4)]),e("p",Ut,"–¥–æ "+i(q(l.end_date)),1)]))),128)),a(R).length?S("",!0):(r(),o("div",It," –°–µ–π—á–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö Global Quests. "))])):(r(),o("div",ht,[e("p",null,i(ts)),_(I,{to:"/login",class:"mt-3 inline-flex rounded-full bg-primary px-4 py-2 text-xs font-semibold text-white transition hover:bg-primary/90"},{default:j(()=>[...s[5]||(s[5]=[P(" –í–æ–π—Ç–∏ ",-1)])]),_:1})]))]),e("section",St,[s[9]||(s[9]=e("div",{class:"flex items-center justify-between gap-3"},[e("h2",{class:"text-xl font-bold text-foreground"},"Trending Squads"),e("span",{class:"text-xs font-semibold uppercase tracking-[0.16em] text-muted-foreground"},"–ì–¥–µ –∏—â—É—Ç –∫–æ–º–ø–∞–Ω–∏—é")],-1)),a(me)?(r(),o("div",At,[(r(),o(x,null,$(4,l=>_(F,{key:`trending-skeleton-${l}`,class:"h-28 rounded-2xl"})),64))])):(r(),o("div",Tt,[(r(!0),o(x,null,$(a(E),(l,W)=>(r(),o(x,{key:`${Z(l)}-${W}`},[Z(l)?(r(),H(I,{key:0,to:`/e/${Z(l)}`,class:"flex items-center gap-4 rounded-2xl border border-border bg-card p-4 shadow-soft transition hover:-translate-y-0.5 hover:shadow-elevated"},{default:j(()=>[e("div",zt,[le(l)?(r(),o("img",{key:0,src:le(l)||"",alt:Y(l),class:"h-full w-full object-cover",loading:"lazy"},null,8,Ft)):(r(),o("div",Mt))]),e("div",Nt,[e("p",Pt,i(Y(l)),1),e("p",Ct,i(ae(l)),1),e("p",Dt,i(ie(l)),1)])]),_:2},1032,["to"])):(r(),o("article",jt,[s[8]||(s[8]=e("div",{class:"h-16 w-16 rounded-2xl bg-[linear-gradient(130deg,rgba(251,146,60,0.45),rgba(245,158,11,0.3),rgba(253,224,71,0.3))]"},null,-1)),e("div",Rt,[e("p",Et,i(Y(l)),1),e("p",Bt,i(ae(l)),1),e("p",qt,i(ie(l)),1)])]))],64))),128)),a(E).length?S("",!0):(r(),o("div",Qt," –ü–æ–∫–∞ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö Buddy-–∑–∞–ø—Ä–æ—Å–æ–≤. "))]))]),e("section",Xt,[s[11]||(s[11]=e("div",{class:"flex items-center justify-between gap-3"},[e("h2",{class:"text-xl font-bold text-foreground"},"–£–º–Ω–∞—è –õ–µ–Ω—Ç–∞"),e("span",{class:"text-xs font-semibold uppercase tracking-[0.16em] text-muted-foreground"},"For you")],-1)),a(ge)?(r(),o("div",Gt,[(r(),o(x,null,$(8,l=>e("div",{key:`feed-skeleton-${l}`,class:"overflow-hidden rounded-2xl border border-border bg-card"},[_(F,{class:"aspect-[16/9] w-full rounded-none"}),e("div",Ot,[_(F,{class:"h-4 w-4/5 rounded-full"}),_(F,{class:"h-3 w-3/5 rounded-full"}),_(F,{class:"h-3 w-2/5 rounded-full"})])])),64))])):(r(),o("div",Wt,[(r(!0),o(x,null,$(a(d),l=>(r(),H(Le,{key:l.id,event:l,"show-tags":!0,class:"h-full"},null,8,["event"]))),128)),a(d).length?S("",!0):(r(),o("div",Vt,[e("p",null,i(a(fe)),1),a(n).isFullUser?S("",!0):(r(),H(I,{key:0,to:"/login",class:"mt-3 inline-flex rounded-full bg-primary px-4 py-2 text-xs font-semibold text-white transition hover:bg-primary/90"},{default:j(()=>[...s[10]||(s[10]=[P(" –í–æ–π—Ç–∏ ",-1)])]),_:1}))]))]))]),e("section",Ht,[e("div",Jt,[s[13]||(s[13]=e("div",null,[e("h2",{class:"text-xl font-bold text-foreground"},"–¢–æ–ø-5 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤"),e("p",{class:"mt-1 text-sm text-muted-foreground"}," –ü–æ–¥–Ω–∏–º–∞–π —É—Ä–æ–≤–µ–Ω—å –∏ –ø–æ–¥–Ω–∏–º–∞–π—Å—è –≤ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–µ. ")],-1)),_(I,{to:"/community/leaderboard",class:"inline-flex rounded-full border border-border bg-card px-4 py-2 text-xs font-semibold text-foreground transition hover:bg-muted"},{default:j(()=>[...s[12]||(s[12]=[P(" –í–µ—Å—å —Ä–µ–π—Ç–∏–Ω–≥ ",-1)])]),_:1})]),a(c).leaderboardError&&!a(D).length?(r(),o("div",Kt,i(a(c).leaderboardError),1)):S("",!0),_(Qe,{items:a(D),limit:se,loading:a(c).leaderboardLoading&&!a(D).length,"current-user-id":a(c).currentUserId,"current-username":a(c).currentUsername,"empty-text":"–†–µ–π—Ç–∏–Ω–≥ –ø–æ–∫–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è."},null,8,["items","loading","current-user-id","current-username"]),a(n).isFullUser&&a(c).profile?(r(),o("p",Yt,[s[14]||(s[14]=P(" –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å: ",-1)),e("span",Zt,"Level "+i(a(c).profile.level),1),s[15]||(s[15]=P(" | –î–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è ",-1)),e("span",es,i(oe(a(c).xpToNextLevel))+" XP",1)])):S("",!0)])])])}}}),rs={class:"page-wrapper"},ds=J({__name:"index",setup(g){return(n,c)=>(r(),o("div",rs,[_(ss)]))}});export{ds as default};
