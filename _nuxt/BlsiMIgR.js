import{d as v,I as B,o as u,k as h,w as c,a as e,c as g,F as C,E as M,u as s,G as $,t as n,U as N,b as _,B as k,f as x,r as m,j as y,C as A}from"./D4tOOpea.js";import w from"./aAO3yGtp.js";const L={class:"mt-4 space-y-2.5"},I=["onClick"],T={class:"flex items-center justify-between gap-2"},V={class:"text-sm font-medium text-foreground"},j={class:"text-xs text-muted-foreground"},D={class:"mt-2 h-1.5 overflow-hidden rounded-full bg-muted"},F={class:"mt-3 text-xs text-muted-foreground"},H=v({__name:"PollWidget",setup(b){const f=B(),a=m([{id:"song-1",label:"The Weeknd - Blinding Lights",votes:24},{id:"song-2",label:"Dua Lipa - Houdini",votes:17},{id:"song-3",label:"Daft Punk - One More Time",votes:31}]),r=m(null),l=y(()=>a.value.reduce((o,t)=>o+t.votes,0)),i=o=>l.value?Math.round(o/l.value*100):0,p=o=>{r.value||(r.value=o,a.value=a.value.map(t=>t.id===o?{...t,votes:t.votes+1+Math.floor(Math.random()*2)}:t),f.push({level:"success",title:"Опрос",message:"Голос принят"}))};return(o,t)=>(u(),h(s(w),{class:"rounded-2xl border border-border bg-card p-4 shadow-sm"},{default:c(()=>[t[0]||(t[0]=e("p",{class:"text-xs font-semibold uppercase tracking-[0.18em] text-muted-foreground"},"Poll",-1)),t[1]||(t[1]=e("h4",{class:"mt-1 text-lg font-semibold text-foreground"},"Какую песню следующей?",-1)),e("div",L,[(u(!0),g(C,null,M(s(a),d=>(u(),g("button",{key:d.id,type:"button",class:$(["w-full rounded-xl border border-border bg-background p-3 text-left transition active:scale-95",s(r)===d.id?"border-primary/40 bg-primary/5":""]),onClick:U=>p(d.id)},[e("div",T,[e("span",V,n(d.label),1),e("span",j,n(i(d.votes))+"%",1)]),e("div",D,[e("div",{class:"h-full rounded-full bg-primary transition-all duration-500",style:N({width:`${i(d.votes)}%`})},null,4)])],10,I))),128))]),e("p",F,"Проголосовало: "+n(s(l)),1),_(s(k),{variant:"outline",class:"mt-3 w-full border-border bg-background text-foreground",disabled:!s(r)},{default:c(()=>[x(n(s(r)?"Голос учтен":"Выбери вариант"),1)]),_:1},8,["disabled"])]),_:1}))}}),P={class:"border-t border-border px-4 pb-4 pt-3"},S={class:"mb-4 flex flex-col gap-1"},z={class:"flex items-baseline gap-2"},E={class:"text-3xl font-bold tracking-tight text-foreground"},O={class:"text-xs font-medium text-muted-foreground"},R=v({__name:"AuctionCard",props:{pulse:{}},setup(b){const f=b,a=["Alex","Maria","Ivan","Nika","Oleg"],r=m(5e3),l=m("Alex");A(()=>f.pulse,()=>{const o=100+Math.floor(Math.random()*400);r.value+=o,l.value=a[Math.floor(Math.random()*a.length)]||"Alex"});const i=()=>{r.value+=500,l.value="Вы"},p=y(()=>`${new Intl.NumberFormat("ru-RU").format(r.value)} ₽`);return(o,t)=>(u(),h(s(w),{class:"overflow-hidden rounded-2xl border border-border bg-card p-0 shadow-sm"},{default:c(()=>[t[2]||(t[2]=e("div",{class:"px-4 pb-3 pt-4"},[e("div",{class:"flex items-center justify-between gap-2"},[e("p",{class:"text-[11px] font-semibold uppercase tracking-[0.16em] text-muted-foreground"},"Live Auction"),e("div",{class:"flex items-center gap-1.5 rounded-full bg-emerald-500/15 px-2 py-0.5 text-[10px] font-semibold text-emerald-600 dark:text-emerald-300"},[e("span",{class:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),x(" В эфире ")])]),e("h4",{class:"mt-2 line-clamp-1 text-xl font-semibold tracking-tight text-foreground"},"Гитара с автографом")],-1)),e("div",P,[e("div",S,[t[0]||(t[0]=e("p",{class:"text-[10px] font-semibold uppercase tracking-[0.16em] text-muted-foreground"},"Текущая ставка",-1)),e("div",z,[e("span",E,n(s(p)),1),e("span",O,"от "+n(s(l)),1)])]),_(s(k),{class:"h-11 w-full rounded-xl bg-primary text-sm font-semibold text-primary-foreground transition hover:opacity-90 active:scale-[0.98]",onClick:i},{default:c(()=>[...t[1]||(t[1]=[x(" Поднять на 500 ₽ ",-1)])]),_:1})])]),_:1}))}});export{R as _,H as a};
