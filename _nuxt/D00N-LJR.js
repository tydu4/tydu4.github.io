import{d as h,c as n,a as t,t as s,u as l,F as k,D as w,o as a,E as M,j as m,k as P,e as v,M as $,Y as A}from"./vvrMSRdc.js";import{_ as T}from"./K80UCnzw.js";const j={class:"w-full max-w-full rounded-3xl border border-border bg-card p-5 shadow-soft"},C={class:"flex items-center justify-between gap-3"},F={class:"shrink-0 rounded-full border border-border bg-muted/40 px-3 py-1 text-xs font-medium text-muted-foreground"},R={key:0,class:"mt-4 grid w-full max-w-full grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-3"},z={class:"flex h-10 w-10 items-center justify-center rounded-full border border-current/30 bg-card text-sm font-semibold"},D={class:"mt-3 break-words text-sm font-semibold"},H={class:"mt-1 break-words text-xs opacity-80"},U={key:1,class:"mt-4 text-sm text-muted-foreground"},B=h({__name:"ProfileAchievements",props:{items:{default:()=>[]}},setup(f){const o=f,x=m(()=>o.items.map(e=>({...e,id:e.id.trim(),title:e.title.trim(),description:e.description?.trim()||"",badge:e.badge?.trim()||"",tone:e.tone||"default"})).filter(e=>e.id&&e.title)),p={gold:"ring-1 ring-amber-300/70 text-amber-900 dark:text-amber-200",blue:"ring-1 ring-sky-300/70 text-sky-900 dark:text-sky-200",green:"ring-1 ring-emerald-300/70 text-emerald-900 dark:text-emerald-200",default:"text-foreground"},c=e=>p[e??"default"]??p.default;return(e,r)=>(a(),n("section",j,[t("div",C,[r[0]||(r[0]=t("h2",{class:"text-sm font-semibold uppercase tracking-[0.18em] text-foreground"},"Achievements",-1)),t("span",F,s(l(x).length)+" badges ",1)]),l(x).length?(a(),n("div",R,[(a(!0),n(k,null,w(l(x),i=>(a(),n("article",{key:i.id,class:M(["w-full max-w-full min-w-0 rounded-2xl border border-border bg-card p-4 shadow-soft",c(i.tone)])},[t("div",z,s(i.badge||"BA"),1),t("h3",D,s(i.title),1),t("p",H,s(i.description||"Achievement details will appear here."),1)],2))),128))])):(a(),n("p",U,"No achievements unlocked yet."))]))}}),Ce=Object.assign(B,{__name:"ProfileAchievements"}),E={class:"rounded-3xl border border-border bg-card p-6 shadow-soft"},V={class:"flex flex-col gap-5 lg:flex-row lg:items-start lg:justify-between"},O={class:"flex min-w-0 items-center gap-4"},I={class:"h-20 w-20 shrink-0 overflow-hidden rounded-full border-4 border-border bg-primary/10 shadow-soft"},W={key:1,class:"flex h-full w-full items-center justify-center text-2xl font-bold text-primary"},Y={class:"min-w-0"},q={class:"truncate text-2xl font-bold text-foreground"},G={class:"truncate text-sm text-muted-foreground"},J={key:0,class:"mt-1 text-xs text-muted-foreground"},K={class:"flex flex-wrap gap-2 lg:justify-end"},Q={class:"mt-4 text-sm text-muted-foreground"},X={class:"mt-3"},Z=h({__name:"ProfileHeader",props:{avatarUrl:{default:null},displayName:{},username:{default:""},city:{default:""},bio:{default:""}},setup(f){const o=f,x=m(()=>o.displayName.trim().charAt(0).toUpperCase()||"U"),p=m(()=>o.username?.trim()||"user"),c=m(()=>o.bio?.trim()||""),e=m(()=>o.city?.trim()||"");return(r,i)=>{const b=T;return a(),n("section",E,[t("div",V,[t("div",O,[t("div",I,[f.avatarUrl?(a(),P(b,{key:0,src:f.avatarUrl,alt:f.displayName,class:"h-full w-full object-cover",width:"80",height:"80",sizes:"80px"},null,8,["src","alt"])):(a(),n("div",W,s(l(x)),1))]),t("div",Y,[t("h1",q,s(f.displayName),1),t("p",G,"@"+s(l(p)),1),l(e)?(a(),n("p",J,s(l(e)),1)):v("",!0)])]),t("div",K,[$(r.$slots,"actions")])]),t("p",Q,s(l(c)||"This profile has no bio yet."),1),t("div",X,[$(r.$slots,"footer")])])}}}),Fe=Object.assign(Z,{__name:"ProfileHeader"}),ee={class:"rounded-3xl border border-border bg-card p-5 shadow-soft"},te={class:"text-sm font-semibold uppercase tracking-[0.18em] text-foreground"},re={key:0,class:"mt-4 space-y-3"},se={class:"flex items-start gap-3"},oe={class:"min-w-0"},ae={class:"text-sm font-semibold text-foreground"},ne={key:0,class:"mt-1 text-xs text-muted-foreground"},le={key:1,class:"mt-1 text-xs uppercase tracking-[0.16em] text-muted-foreground"},ie={key:1,class:"mt-4 text-sm text-muted-foreground"},de=h({__name:"ProfileRecentActivity",props:{title:{default:"Recent Activity"},items:{default:()=>[]}},setup(f){const o=f,x={level_up:"Reached a new level",profile_update:"Updated profile details",streak_milestone:"Hit streak milestone"},p=e=>{if(!e)return"Recently";const r=new Date(e);if(Number.isNaN(r.getTime()))return"Recently";const i=new Date,b=1440*60*1e3,g=new Date(r.getFullYear(),r.getMonth(),r.getDate()),y=new Date(i.getFullYear(),i.getMonth(),i.getDate()),_=Math.floor((y.getTime()-g.getTime())/b);return _<=0?"Today":_<=7?"This week":_<=31?"This month":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(r)},c=m(()=>o.items.map(e=>{const r=e.title?.trim()||x[e.type||""]||"Activity update",i=e.details?.trim()||e.description?.trim()||"",b=e.createdAt||e.created_at;return{id:String(e.id),title:r,details:i,timeLabel:e.timeLabel?.trim()||p(b)}}).filter(e=>!!e.title));return(e,r)=>(a(),n("section",ee,[t("h2",te,s(f.title),1),l(c).length?(a(),n("ul",re,[(a(!0),n(k,null,w(l(c),i=>(a(),n("li",{key:i.id,class:"rounded-2xl border border-border bg-card px-4 py-3"},[t("div",se,[r[0]||(r[0]=t("span",{class:"mt-1 h-2.5 w-2.5 shrink-0 rounded-full bg-primary/80"},null,-1)),t("div",oe,[t("p",ae,s(i.title),1),i.details?(a(),n("p",ne,s(i.details),1)):v("",!0),i.timeLabel?(a(),n("p",le,s(i.timeLabel),1)):v("",!0)])])]))),128))])):(a(),n("p",ie,"No recent activity yet."))]))}}),Re=Object.assign(de,{__name:"ProfileRecentActivity"}),ce={class:"rounded-3xl border border-border bg-card p-5 shadow-soft"},ue={class:"text-sm font-semibold uppercase tracking-[0.18em] text-foreground"},me={key:0,class:"mt-4 space-y-2"},fe={class:"text-xs uppercase tracking-[0.16em] text-muted-foreground"},pe=["href"],xe={key:1,class:"mt-1 truncate font-medium text-foreground"},be={key:1,class:"mt-4 text-sm text-muted-foreground"},_e=h({__name:"ProfileSocials",props:{title:{default:"Social Links"},emptyText:{default:"No social links added yet."},items:{default:()=>[]}},setup(f){const o=f,x=c=>{const e=c.href?.trim();if(e)return e;const r=c.value.trim();return r&&(r.startsWith("http://")||r.startsWith("https://"))?r:""},p=m(()=>o.items.map(c=>({...c,label:c.label.trim(),value:c.value.trim(),href:x(c)})).filter(c=>c.label&&c.value));return(c,e)=>(a(),n("section",ce,[t("h2",ue,s(f.title),1),l(p).length?(a(),n("ul",me,[(a(!0),n(k,null,w(l(p),r=>(a(),n("li",{key:r.key||`${r.label}-${r.value}`,class:"rounded-2xl border border-border bg-card px-3 py-2 text-sm"},[t("p",fe,s(r.label),1),r.href?(a(),n("a",{key:0,href:r.href,target:"_blank",rel:"noopener noreferrer",class:"mt-1 block truncate font-medium text-primary underline-offset-4 hover:underline"},s(r.value),9,pe)):(a(),n("p",xe,s(r.value),1))]))),128))])):(a(),n("p",be,s(f.emptyText),1))]))}}),ze=Object.assign(_e,{__name:"ProfileSocials"}),he={class:"grid grid-cols-1 gap-3 md:grid-cols-3"},ge={class:"rounded-3xl border border-border bg-card p-5 shadow-soft"},ye={class:"mt-2 text-2xl font-bold text-foreground"},ve={class:"mt-1 text-xs text-muted-foreground"},ke={class:"rounded-3xl border border-border bg-card p-5 shadow-soft"},we={class:"mt-2 text-2xl font-bold text-foreground"},$e={class:"mt-1 text-xs text-muted-foreground"},Se={class:"mt-3 h-2 w-full rounded-full bg-muted/70"},Ne={class:"rounded-3xl border border-border bg-card p-5 shadow-soft"},Le={class:"mt-2 text-2xl font-bold text-foreground"},Me={class:"mt-1 text-xs text-muted-foreground"},Pe={class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},Ae=h({__name:"ProfileStats",props:{level:{default:1},tierName:{default:"Core"},exp:{default:0},nextLevelExp:{default:1e3},role:{default:"participant"},status:{default:""},reputation:{default:null},extraStatLabel:{default:"Reputation"},extraStatValue:{default:null},extraStatHint:{default:"Will unlock in future updates"}},setup(f){const o=f,x=m(()=>{const d=Number(o.level);return!Number.isFinite(d)||d<1?1:Math.floor(d)}),p=m(()=>{const d=Number(o.exp);return!Number.isFinite(d)||d<0?0:Math.floor(d)}),c=m(()=>o.tierName?.trim()||"Core"),e=m(()=>{const d=Number(o.nextLevelExp);return Number.isFinite(d)&&d>0?Math.max(Math.floor(d),p.value||1,1e3):Math.max(1e3,p.value||1e3)}),r=m(()=>e.value?Math.min(100,Math.round(p.value/e.value*100)):0),i=m(()=>Math.max(0,e.value-p.value)),b={organizer:"Organizer",participant:"Participant",user:"Participant",admin:"Admin",moderator:"Moderator"},g=d=>d.split(/[\s_-]+/g).filter(u=>!!u).map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" "),y=m(()=>{const d=o.status?.trim();if(d)return d;const u=o.role?.trim().toLowerCase()||"participant";return b[u]||g(u)}),_=m(()=>o.extraStatLabel?.trim()||"Reputation"),S=m(()=>{const d=Number(o.reputation);if(Number.isFinite(d)&&d>=0)return Math.round(d);if(typeof o.extraStatValue=="number"&&Number.isFinite(o.extraStatValue))return Math.max(0,Math.round(o.extraStatValue));const u=Number(o.extraStatValue);return Number.isFinite(u)&&u>=0?Math.round(u):Math.max(0,Math.round(x.value*100+p.value/10))}),N=m(()=>S.value.toLocaleString()),L=m(()=>o.extraStatHint?.trim()||"Will unlock in future updates");return(d,u)=>(a(),n("section",he,[t("article",ge,[u[0]||(u[0]=t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"Level",-1)),t("p",ye,s(l(x)),1),t("p",ve,s(l(c))+" tier",1)]),t("article",ke,[u[1]||(u[1]=t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"Experience",-1)),t("p",we,s(l(p).toLocaleString())+" / "+s(l(e).toLocaleString()),1),t("p",$e,s(l(i).toLocaleString())+" to next level",1),t("div",Se,[t("div",{class:"h-2 rounded-full bg-primary transition-all duration-300",style:A({width:`${l(r)}%`})},null,4)])]),t("article",Ne,[u[2]||(u[2]=t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"Status",-1)),t("p",Le,s(l(y)),1),t("p",Me,s(l(_))+": "+s(l(N)),1),t("p",Pe,s(l(L)),1)])]))}}),De=Object.assign(Ae,{__name:"ProfileStats"});export{Fe as P,De as a,Ce as b,Re as c,ze as d};
