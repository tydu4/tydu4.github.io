import{d as D,n as F,c as g,a as e,e as M,F as A,D as B,u as r,C as P,U,Z as V,q as L,r as m,o as p,E as W,b as c,w as z,f as R,t as v,k as E,g as O,aa as H,z as K,T as q,j as Q}from"./vvrMSRdc.js";import Y from"./DbTknefw.js";import Z from"./B5qZsGES.js";import G from"./Dz9JPfu0.js";import{c as j}from"./Idgo-c1n.js";import{C as J}from"./D61F2Ddq.js";import{_ as X}from"./DlAUqK2U.js";import{S as ee,L as te}from"./BR4wVGh-.js";import{U as oe}from"./04tntqWT.js";import{S as re}from"./IDud-d-E.js";import{_ as ne}from"./BhYMaYeU.js";const se=j("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const ae=j("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const le=j("image-plus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);const ie=j("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const de=j("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),ce={class:"relative h-full min-h-0"},ue={class:"h-full space-y-3 overflow-y-auto pb-2 pr-1"},pe={key:0,class:"rounded-2xl border border-border bg-card p-6 text-center text-sm text-muted-foreground"},be={class:"mb-2 flex items-start justify-between gap-2"},me={class:"flex min-w-0 items-center gap-2"},fe={class:"min-w-0"},ge={class:"truncate text-sm font-semibold text-foreground"},xe={class:"text-[11px] text-muted-foreground"},ve={class:"relative"},he=["onClick"],ye={key:0,class:"absolute right-0 top-8 z-20 min-w-[9rem] rounded-lg border border-border bg-card p-1 shadow-lg"},ke=["onClick"],we=["onClick"],_e={class:"whitespace-pre-line text-sm leading-relaxed text-foreground"},Ce={class:"mt-3 flex items-center gap-2"},$e=["aria-label","onClick"],Me={class:"font-semibold tabular-nums"},Se={class:"w-full max-w-md rounded-2xl border border-border bg-card p-4"},Te={class:"mt-3 flex justify-end gap-2"},Ne=D({__name:"CommunityWall",props:{messages:{}},emits:["react","report"],setup(k,{emit:w}){const h=k,y=w,x=m(null),n=m(null),u=m(""),l=m(null),_=m(new Set),f=m(new Set),S=d=>new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(d),T=d=>d.split(/\s+/).filter(Boolean).slice(0,2).map(a=>a[0]?.toUpperCase()||"").join("")||"U",N=[{key:"fire",icon:"ðŸ”¥",label:"Fire"},{key:"love",icon:"â¤ï¸",label:"Love"},{key:"clap",icon:"ðŸ‘",label:"Clap"}];F(()=>h.messages.map(d=>d.id),d=>{const a=new Set(_.value),s=new Set(f.value);d.forEach(b=>{a.has(b)||(s.add(b),setTimeout(()=>{const I=new Set(f.value);I.delete(b),f.value=I},900)),a.add(b)}),_.value=a,f.value=s},{immediate:!0});const C=d=>f.value.has(d),$=()=>{x.value=null},o=d=>{n.value=d,u.value="",$()},t=()=>{n.value&&(y("report",{id:n.value.id,reason:u.value.trim()||"Inappropriate message"}),n.value=null,u.value="")},i=async d=>{try{await navigator.clipboard.writeText(d.text),l.value=d.id,setTimeout(()=>{l.value===d.id&&(l.value=null)},1e3)}catch{l.value=null}finally{$()}};return(d,a)=>(p(),g("section",ce,[e("div",ue,[k.messages.length?M("",!0):(p(),g("article",pe," No messages yet, be the first! ")),(p(!0),g(A,null,B(k.messages,s=>(p(),g("article",{key:s.id,class:W(["relative rounded-2xl border border-border bg-card p-3",C(s.id)?"animate-in fade-in slide-in-from-bottom":""])},[e("div",be,[e("div",me,[c(r(Y),{class:"h-8 w-8 border border-border"},{default:z(()=>[c(r(Z),{src:s.userAvatar||"",alt:s.userName},null,8,["src","alt"]),c(r(G),{class:"bg-muted text-[10px] font-semibold text-foreground"},{default:z(()=>[R(v(T(s.userName)),1)]),_:2},1024)]),_:2},1024),e("div",fe,[e("p",ge,v(s.userName),1),e("p",xe,v(S(s.createdAt)),1)])]),e("div",ve,[e("button",{type:"button",class:"inline-flex h-7 w-7 items-center justify-center rounded-full border border-border bg-background text-muted-foreground transition hover:bg-accent hover:text-foreground","aria-label":"Message actions",onClick:b=>x.value=r(x)===s.id?null:s.id},[c(r(ae),{class:"h-4 w-4"})],8,he),r(x)===s.id?(p(),g("div",ye,[e("button",{type:"button",class:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm text-foreground transition hover:bg-accent",onClick:b=>o(s)},[c(r(ie),{class:"h-4 w-4"}),a[3]||(a[3]=R(" Report ",-1))],8,ke),e("button",{type:"button",class:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm text-foreground transition hover:bg-accent",onClick:b=>i(s)},[r(l)===s.id?(p(),E(r(se),{key:0,class:"h-4 w-4"})):(p(),E(r(J),{key:1,class:"h-4 w-4"})),a[4]||(a[4]=R(" Copy Text ",-1))],8,we)])):M("",!0)])]),e("p",_e,v(s.text),1),e("div",Ce,[(p(),g(A,null,B(N,b=>e("button",{key:`${s.id}-${b.key}`,type:"button",class:"inline-flex items-center gap-1 rounded-full border border-border bg-background px-2 py-1 text-xs text-muted-foreground transition hover:bg-accent hover:text-foreground","aria-label":b.label,onClick:I=>y("react",{id:s.id,reaction:b.key})},[e("span",null,v(b.icon),1),e("span",Me,v(s.reactions[b.key]),1)],8,$e)),64))])],2))),128))]),r(n)?(p(),g("div",{key:0,class:"absolute inset-0 z-30 flex items-center justify-center bg-background/70 p-4 backdrop-blur-sm",onClick:a[2]||(a[2]=P(s=>n.value=null,["self"]))},[e("div",Se,[a[5]||(a[5]=e("h3",{class:"text-sm font-semibold text-foreground"},"Report Message",-1)),a[6]||(a[6]=e("p",{class:"mt-1 text-xs text-muted-foreground"},"Tell us what is wrong with this post.",-1)),U(e("textarea",{"onUpdate:modelValue":a[0]||(a[0]=s=>L(u)?u.value=s:null),rows:"3",placeholder:"Reason...",class:"mt-3 w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground outline-none ring-0 transition focus:border-primary/50"},null,512),[[V,r(u)]]),e("div",Te,[e("button",{type:"button",class:"rounded-lg border border-border bg-background px-3 py-1.5 text-sm text-foreground transition hover:bg-accent",onClick:a[1]||(a[1]=s=>n.value=null)}," Cancel "),e("button",{type:"button",class:"rounded-lg border border-border bg-primary/10 px-3 py-1.5 text-sm font-medium text-primary transition hover:bg-primary/20",onClick:t}," Send Report ")])])])):M("",!0)]))}}),Re=Object.assign(X(Ne,[["__scopeId","data-v-c6183b39"]]),{__name:"Event[slug]BlocksState3CommunityWall"}),je={class:"space-y-2"},Ie={class:"grid grid-cols-2 gap-2"},Ae={key:0,class:"mb-2 grid grid-cols-10 gap-1 rounded-xl border border-border bg-background p-2"},Be=["onClick"],ze={class:"flex items-end gap-1.5"},De=["disabled"],Ee=D({__name:"WallPostComposer",emits:["submit","photo-selected","open-buddy-radar","open-networking-deck"],setup(k,{emit:w}){const h=w,y=m(null),x=m(null),n=m(""),u=m(!1),l=m(!1),_=["ðŸ”¥","â¤ï¸","ðŸ‘","ðŸŽ‰","ðŸ’¯","ðŸ˜„","ðŸ™Œ","ðŸš€","ðŸŽ¶","ðŸ¤"],f=()=>{const o=y.value;o&&(o.style.height="0px",o.style.height=`${Math.min(o.scrollHeight,120)}px`)};F(n,()=>{f()}),O(()=>{f()});const S=o=>{n.value=`${n.value}${o}`,l.value=!1},T=()=>{x.value?.click()},N=o=>{const t=o.target,i=t.files?.[0];i&&(h("photo-selected",{name:i.name}),t.value="")},C=()=>{const o=n.value.trim();o&&(h("submit",{text:o}),n.value="",l.value=!1,f())},$=o=>{o.key==="Enter"&&(o.shiftKey||(o.preventDefault(),C()))};return(o,t)=>(p(),g("section",je,[e("div",Ie,[e("button",{type:"button",class:"inline-flex items-center justify-center gap-2 rounded-xl border border-border bg-card px-3 py-2 text-xs font-semibold text-foreground transition hover:bg-accent",onClick:t[0]||(t[0]=i=>h("open-buddy-radar"))},[c(r(de),{class:"h-4 w-4"}),t[6]||(t[6]=R(" Buddy Radar ",-1))]),e("button",{type:"button",class:"inline-flex items-center justify-center gap-2 rounded-xl border border-border bg-card px-3 py-2 text-xs font-semibold text-foreground transition hover:bg-accent",onClick:t[1]||(t[1]=i=>h("open-networking-deck"))},[c(r(oe),{class:"h-4 w-4"}),t[7]||(t[7]=R(" Networking Deck ",-1))])]),e("div",{class:W(["rounded-2xl border border-border bg-card p-2 transition-all",r(u)?"shadow-md":"shadow-sm"])},[r(l)?(p(),g("div",Ae,[(p(),g(A,null,B(_,i=>e("button",{key:i,type:"button",class:"inline-flex h-7 w-7 items-center justify-center rounded-md text-base transition hover:bg-accent",onClick:d=>S(i)},v(i),9,Be)),64))])):M("",!0),e("div",ze,[e("button",{type:"button",class:"inline-flex h-9 w-9 shrink-0 items-center justify-center rounded-lg border border-border bg-background text-muted-foreground transition hover:bg-accent hover:text-foreground","aria-label":"Toggle emoji picker",onClick:t[2]||(t[2]=i=>l.value=!r(l))},[c(r(re),{class:"h-4 w-4"})]),e("button",{type:"button",class:"inline-flex h-9 w-9 shrink-0 items-center justify-center rounded-lg border border-border bg-background text-muted-foreground transition hover:bg-accent hover:text-foreground","aria-label":"Upload photo",onClick:T},[c(r(le),{class:"h-4 w-4"})]),U(e("textarea",{ref_key:"textareaRef",ref:y,"onUpdate:modelValue":t[3]||(t[3]=i=>L(n)?n.value=i:null),rows:"1",placeholder:"Write a message...",class:"max-h-[7.5rem] min-h-[2.25rem] flex-1 resize-none rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground outline-none transition focus:border-primary/40",onFocus:t[4]||(t[4]=i=>u.value=!0),onBlur:t[5]||(t[5]=i=>u.value=!1),onKeydown:$},null,544),[[V,r(n)]]),e("button",{type:"button",class:"inline-flex h-9 w-9 shrink-0 items-center justify-center rounded-lg border border-border bg-primary/10 text-primary transition hover:bg-primary/20 disabled:cursor-not-allowed disabled:opacity-50",disabled:!r(n).trim().length,"aria-label":"Send post",onClick:C},[c(r(ee),{class:"h-4 w-4"})],8,De)]),e("input",{ref_key:"fileInputRef",ref:x,type:"file",accept:"image/*",class:"hidden",onChange:N},null,544)],2)]))}}),Fe=Object.assign(Ee,{__name:"Event[slug]BlocksState3WallPostComposer"}),Pe={key:0,class:"fixed inset-0 z-50 overflow-hidden bg-background text-foreground"},Ue={class:"mx-auto flex h-[100dvh] w-full max-w-5xl flex-col gap-3 px-3 pb-3 pt-safe sm:px-4"},Ve={class:"shrink-0 pt-2"},Le={class:"shrink-0"},We={class:"min-h-0 flex-1 overflow-hidden"},Oe={class:"shrink-0 border-t border-border bg-background/85 pt-2 backdrop-blur-md"},He={class:"text-sm font-semibold text-foreground"},Ke={class:"mt-1 text-sm text-muted-foreground"},nt=D({__name:"LiveAfkView",props:{event:{}},setup(k){const w=k,h=H(),y=K(),x=Q(()=>w.event?.title?.trim()||"Event"),n=m(null),u=Date.now(),l=m([{id:"afk-1",userName:"Aria Nova",createdAt:u-1e3*60*4,text:`Anyone at the left lounge?
Looking to join a chill group.`,reactions:{fire:3,love:5,clap:1}},{id:"afk-2",userName:"Theo Byte",createdAt:u-1e3*60*8,text:"Stage visuals are insane tonight.",reactions:{fire:8,love:2,clap:4}},{id:"afk-3",userName:"Mira Flux",createdAt:u-1e3*60*11,text:"If you lost a black hoodie near bar B, security has it.",reactions:{fire:1,love:6,clap:7}}]),_=()=>{h.back()},f=o=>{const t={id:`afk-${Date.now()}`,userName:"You",createdAt:Date.now(),text:o.text,reactions:{fire:0,love:0,clap:0}};l.value=[t,...l.value]},S=o=>{l.value=l.value.map(t=>t.id!==o.id?t:{...t,reactions:{...t.reactions,[o.reaction]:t.reactions[o.reaction]+1}})},T=o=>{y.push({level:"warning",title:"Report submitted",message:`Message ${o.id} reported: ${o.reason}`})},N=o=>{f({text:`Shared a photo: ${o.name}`})},C=()=>{n.value="buddy"},$=()=>{n.value="networking"};return(o,t)=>w.event?(p(),g("div",Pe,[e("div",Ue,[e("div",Ve,[c(ne,{title:r(x),onClose:_},null,8,["title"])]),e("div",Le,[c(te)]),e("div",We,[c(Re,{messages:r(l),onReact:S,onReport:T},null,8,["messages"])]),e("div",Oe,[c(Fe,{onSubmit:f,onPhotoSelected:N,onOpenBuddyRadar:C,onOpenNetworkingDeck:$})])]),c(q,{"enter-active-class":"transition duration-200","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-2 opacity-0"},{default:z(()=>[r(n)?(p(),g("div",{key:0,class:"fixed inset-0 z-sticky bg-background/70 backdrop-blur-sm",onClick:t[2]||(t[2]=i=>n.value=null)},[e("div",{class:"absolute bottom-[6.5rem] left-3 right-3 rounded-2xl border border-border bg-card p-4 shadow-lg",onClick:t[1]||(t[1]=P(()=>{},["stop"]))},[e("h3",He,v(r(n)==="buddy"?"Buddy Radar":"Networking Deck"),1),e("p",Ke,v(r(n)==="buddy"?"Nearby attendees with matching interests will appear here.":"Quick networking actions and invite cards will appear here."),1),e("button",{type:"button",class:"mt-3 inline-flex rounded-lg border border-border bg-background px-3 py-1.5 text-sm text-foreground transition hover:bg-accent",onClick:t[0]||(t[0]=i=>n.value=null)}," Close ")])])):M("",!0)]),_:1})])):M("",!0)}});export{se as C,ae as E,le as I,ie as T,nt as _};
