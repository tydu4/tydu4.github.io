import{d as I,o as d,c as l,a as e,F as C,p as A,b as u,w,m as s,f as D,t as m,e as $,$ as M,k as S,l as K,T as j,W as z,a0 as q,C as V,r as y,j as O,q as B,a6 as Y,n as G}from"./DIpL79ME.js";import U from"./DzV9VZSr.js";import P from"./D-ntXkt-.js";import T from"./DR2O4vHs.js";import{M as H}from"./BTA2ybKl.js";import{X as J}from"./BvuqPo7h.js";import{S as X,L as Z}from"./CRHb7muC.js";import{c as E}from"./Ck3zTzEc.js";import{U as ee}from"./DSoaomjP.js";import{_ as te}from"./DlAUqK2U.js";import{_ as oe}from"./BXM_d79t.js";const se=E("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const ne=E("radar",[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]]),re={class:"space-y-3"},ae={class:"mb-3 flex items-center gap-2"},ie={class:"min-w-0"},de={class:"text-[11px] text-muted-foreground"},le={class:"text-sm font-semibold text-foreground"},ce={class:"mt-1 whitespace-pre-line text-sm text-foreground"},ue={key:0,class:"mt-3 overflow-hidden rounded-xl border border-border bg-background"},me={class:"flex h-36 items-center justify-center text-sm text-muted-foreground"},pe={key:1,class:"mt-3 space-y-2 rounded-xl border border-border bg-background p-3"},be=["onClick"],fe={class:"mb-1 flex items-center justify-between gap-2 text-xs"},xe={class:"truncate font-medium text-foreground"},ge={class:"shrink-0 text-muted-foreground"},ve={class:"h-1.5 overflow-hidden rounded-full bg-muted"},he={class:"mt-3 flex items-center justify-between"},ye=["onClick"],_e=I({__name:"ActiveBroadcast",props:{posts:{}},emits:["open-comments","vote-poll"],setup(v,{emit:h}){const p=h,f=c=>new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(c),t=c=>(c.pollOptions||[]).reduce((i,n)=>i+n.votes,0),b=(c,i)=>{const n=t(c);return n?Math.round(i/n*100):0};return(c,i)=>(d(),l("section",re,[i[2]||(i[2]=e("header",{class:"rounded-xl border border-border bg-card px-3 py-2"},[e("p",{class:"text-xs font-semibold uppercase tracking-[0.14em] text-muted-foreground"},"Organizer Channel"),e("p",{class:"text-sm text-foreground"},"Only organizer broadcasts appear in this feed.")],-1)),(d(!0),l(C,null,A(v.posts,n=>(d(),l("article",{key:n.id,class:"rounded-2xl border border-border bg-card p-3"},[e("div",ae,[u(s(U),{class:"h-8 w-8 border border-border"},{default:w(()=>[u(s(P),{src:"",alt:"Organizer"}),u(s(T),{class:"bg-muted text-[10px] font-semibold text-foreground"},{default:w(()=>[...i[0]||(i[0]=[D(" OR ",-1)])]),_:1})]),_:1}),e("div",ie,[i[1]||(i[1]=e("p",{class:"truncate text-sm font-semibold text-foreground"},"Organizer",-1)),e("p",de,m(f(n.createdAt)),1)])]),e("h3",le,m(n.title),1),e("p",ce,m(n.body),1),n.type==="photo"?(d(),l("div",ue,[e("div",me,m(n.imageLabel||"Photo post"),1)])):$("",!0),n.type==="poll"&&n.pollOptions?.length?(d(),l("div",pe,[(d(!0),l(C,null,A(n.pollOptions,r=>(d(),l("button",{key:r.id,type:"button",class:"w-full rounded-lg border border-border px-2 py-2 text-left transition hover:bg-accent",onClick:o=>p("vote-poll",{postId:n.id,optionId:r.id})},[e("div",fe,[e("span",xe,m(r.label),1),e("span",ge,m(b(n,r.votes))+"% ("+m(r.votes)+") ",1)]),e("div",ve,[e("div",{class:"h-full rounded-full bg-primary/70 transition-[width] duration-300",style:M({width:`${b(n,r.votes)}%`})},null,4)])],8,be))),128))])):$("",!0),e("div",he,[e("button",{type:"button",class:"inline-flex items-center gap-1.5 rounded-full border border-border bg-background px-2.5 py-1 text-xs font-medium text-foreground transition hover:bg-accent",onClick:r=>p("open-comments",{postId:n.id})},[u(s(H),{class:"h-3.5 w-3.5"}),D(" "+m(n.commentsCount)+" comments ",1)],8,ye)])]))),128))]))}}),ke=Object.assign(_e,{__name:"Event[slug]BlocksState3ActiveBroadcast"}),we={key:0,class:"fixed inset-x-0 bottom-0 z-[80] h-[78dvh] rounded-t-2xl border border-border bg-card md:inset-y-0 md:right-0 md:left-auto md:h-[100dvh] md:w-[26rem] md:rounded-none md:border-l"},$e={class:"flex h-full flex-col"},Ce={class:"flex items-center justify-between gap-2 border-b border-border px-4 py-3"},Ae={class:"min-w-0"},De={class:"truncate text-sm font-semibold text-foreground"},Ie={class:"min-h-0 flex-1 space-y-2 overflow-y-auto px-3 py-3"},Ne={key:0,class:"rounded-xl border border-border bg-background p-4 text-center text-sm text-muted-foreground"},Oe={class:"mb-1 flex items-center gap-2"},je={class:"min-w-0"},Be={class:"truncate text-xs font-semibold text-foreground"},Me={class:"text-[10px] text-muted-foreground"},Se={class:"whitespace-pre-line text-sm text-foreground"},ze={class:"border-t border-border p-3"},qe={class:"flex items-end gap-2 rounded-xl border border-border bg-background p-2"},Ve=["disabled"],Ue=I({__name:"ActiveCommentsPanel",props:{isOpen:{type:Boolean},post:{},comments:{}},emits:["update:isOpen","submit-comment"],setup(v,{emit:h}){const p=v,f=h,t=y(""),b=()=>{f("update:isOpen",!1)},c=o=>new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(o),i=o=>o.split(/\s+/).filter(Boolean).slice(0,2).map(a=>a[0]?.toUpperCase()||"").join("")||"U",n=()=>{const o=p.post?.id,a=t.value.trim();!o||!a||(f("submit-comment",{postId:o,text:a}),t.value="")},r=o=>{o.key==="Enter"&&(o.shiftKey||(o.preventDefault(),n()))};return(o,a)=>(d(),S(K,{to:"body"},[u(j,{"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:w(()=>[v.isOpen?(d(),l("div",{key:0,class:"fixed inset-0 z-[70] bg-background/70 backdrop-blur-sm",onClick:b})):$("",!0)]),_:1}),u(j,{"enter-active-class":"transition-all duration-220 ease-out","enter-from-class":"translate-y-4 opacity-0 md:translate-x-4 md:translate-y-0","enter-to-class":"translate-y-0 opacity-100 md:translate-x-0","leave-active-class":"transition-all duration-160 ease-in","leave-from-class":"translate-y-0 opacity-100 md:translate-x-0","leave-to-class":"translate-y-4 opacity-0 md:translate-x-4 md:translate-y-0"},{default:w(()=>[v.isOpen?(d(),l("aside",we,[e("div",$e,[e("header",Ce,[e("div",Ae,[e("p",De,m(v.post?.title||"Discussion"),1),a[1]||(a[1]=e("p",{class:"text-xs text-muted-foreground"},"Post discussion",-1))]),e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-border bg-background text-foreground transition hover:bg-accent",onClick:b},[u(s(J),{class:"h-4 w-4"})])]),e("div",Ie,[v.comments.length?$("",!0):(d(),l("article",Ne," No comments yet. ")),(d(!0),l(C,null,A(v.comments,_=>(d(),l("article",{key:_.id,class:"rounded-xl border border-border bg-background p-2.5"},[e("div",Oe,[u(s(U),{class:"h-7 w-7 border border-border"},{default:w(()=>[u(s(P),{src:"",alt:_.userName},null,8,["alt"]),u(s(T),{class:"bg-muted text-[10px] font-semibold text-foreground"},{default:w(()=>[D(m(i(_.userName)),1)]),_:2},1024)]),_:2},1024),e("div",je,[e("p",Be,m(_.userName),1),e("p",Me,m(c(_.createdAt)),1)])]),e("p",Se,m(_.text),1)]))),128))]),e("footer",ze,[e("div",qe,[z(e("textarea",{"onUpdate:modelValue":a[0]||(a[0]=_=>V(t)?t.value=_:null),rows:"1",placeholder:"Write a comment...",class:"max-h-28 min-h-8 flex-1 resize-none bg-transparent text-sm text-foreground outline-none",onKeydown:r},null,544),[[q,s(t)]]),e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-border bg-primary/10 text-primary transition hover:bg-primary/20 disabled:cursor-not-allowed disabled:opacity-50",disabled:!s(t).trim().length||!v.post,onClick:n},[u(s(X),{class:"h-4 w-4"})],8,Ve)])])])])):$("",!0)]),_:1})]))}}),Pe=Object.assign(Ue,{__name:"Event[slug]BlocksState3ActiveCommentsPanel"}),Te={class:"fixed bottom-4 right-3 z-[65] flex flex-col gap-2 sm:right-4"},Ee=I({__name:"FloatingUtilitiesDock",emits:["open-buddy-radar","open-networking-deck"],setup(v,{emit:h}){const p=h;return(f,t)=>(d(),l("div",Te,[e("button",{type:"button",class:"inline-flex items-center gap-2 rounded-full border border-border bg-card/95 px-3 py-2 text-xs font-semibold text-foreground shadow-sm backdrop-blur transition hover:bg-accent",onClick:t[0]||(t[0]=b=>p("open-buddy-radar"))},[u(s(ne),{class:"h-4 w-4"}),t[2]||(t[2]=D(" Buddy Radar ",-1))]),e("button",{type:"button",class:"inline-flex items-center gap-2 rounded-full border border-border bg-card/95 px-3 py-2 text-xs font-semibold text-foreground shadow-sm backdrop-blur transition hover:bg-accent",onClick:t[1]||(t[1]=b=>p("open-networking-deck"))},[u(s(ee),{class:"h-4 w-4"}),t[3]||(t[3]=D(" Networking Deck ",-1))])]))}}),Fe=Object.assign(Ee,{__name:"Event[slug]BlocksState3ActiveFloatingUtilitiesDock"}),Le={class:"rounded-2xl border border-border bg-card p-3"},Qe={class:"mb-3 flex items-center justify-between gap-2"},Re={class:"inline-flex rounded-lg border border-border bg-background p-0.5"},We={class:"mb-3 flex items-end gap-2 rounded-xl border border-border bg-background p-2"},Ke=["disabled"],Ye={class:"max-h-72 space-y-2 overflow-y-auto pr-1"},Ge={key:0,class:"rounded-xl border border-border bg-background p-4 text-center text-sm text-muted-foreground"},He={class:"flex items-start justify-between gap-2"},Je={class:"min-w-0"},Xe={class:"truncate text-xs font-semibold text-foreground"},Ze={class:"whitespace-pre-line text-sm text-foreground"},et={class:"mt-1 text-[11px] text-muted-foreground"},tt=["onClick"],ot=I({__name:"QASessionModule",props:{initialItems:{}},setup(v){const h=v,p=y(h.initialItems?[...h.initialItems]:[]),f=y("voted"),t=y(""),b=O(()=>{const r=[...p.value];return f.value==="voted"?r.sort((o,a)=>a.votes-o.votes||a.createdAt-o.createdAt):r.sort((o,a)=>a.createdAt-o.createdAt)}),c=r=>new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(r),i=()=>{const r=t.value.trim();r&&(p.value=[{id:`q-${Date.now()}`,userName:"You",question:r,votes:0,createdAt:Date.now()},...p.value],t.value="",f.value="recent")},n=r=>{p.value=p.value.map(o=>o.id===r?{...o,votes:o.votes+1}:o)};return(r,o)=>(d(),l("section",Le,[e("div",Qe,[o[3]||(o[3]=e("div",null,[e("p",{class:"text-xs font-semibold uppercase tracking-[0.14em] text-muted-foreground"},"Q&A Session"),e("p",{class:"text-sm text-foreground"},"Ask the speaker and upvote important questions.")],-1)),e("div",Re,[e("button",{type:"button",class:B(["rounded-md px-2 py-1 text-xs font-medium transition-colors",s(f)==="voted"?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent"]),onClick:o[0]||(o[0]=a=>f.value="voted")}," Most Voted ",2),e("button",{type:"button",class:B(["rounded-md px-2 py-1 text-xs font-medium transition-colors",s(f)==="recent"?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent"]),onClick:o[1]||(o[1]=a=>f.value="recent")}," Newest ",2)])]),e("div",We,[z(e("textarea",{"onUpdate:modelValue":o[2]||(o[2]=a=>V(t)?t.value=a:null),rows:"1",placeholder:"Ask a question...",class:"max-h-24 min-h-8 flex-1 resize-none bg-transparent text-sm text-foreground outline-none"},null,512),[[q,s(t)]]),e("button",{type:"button",class:"rounded-lg border border-border bg-primary/10 px-2.5 py-1.5 text-xs font-semibold text-primary transition hover:bg-primary/20 disabled:cursor-not-allowed disabled:opacity-50",disabled:!s(t).trim().length,onClick:i}," Submit ",8,Ke)]),e("div",Ye,[s(b).length?$("",!0):(d(),l("article",Ge," No questions yet. ")),(d(!0),l(C,null,A(s(b),a=>(d(),l("article",{key:a.id,class:"rounded-xl border border-border bg-background p-2.5"},[e("div",He,[e("div",Je,[e("p",Xe,m(a.userName),1),e("p",Ze,m(a.question),1),e("p",et,m(c(a.createdAt)),1)]),e("button",{type:"button",class:"inline-flex h-7 shrink-0 items-center gap-1 rounded-full border border-border bg-card px-2 text-xs text-foreground transition hover:bg-accent",onClick:_=>n(a.id)},[u(s(se),{class:"h-3.5 w-3.5"}),D(" "+m(a.votes),1)],8,tt)])]))),128))])]))}}),st=Object.assign(ot,{__name:"Event[slug]BlocksState3ActiveQASessionModule"}),nt={class:"rounded-xl border border-border bg-card/90 p-2 shadow-sm backdrop-blur-sm"},rt={class:"flex items-center justify-between gap-2"},at={class:"flex flex-wrap items-center gap-1.5"},it=["onClick"],dt={class:"tabular-nums text-muted-foreground"},lt={class:"pointer-events-none fixed inset-0 z-[85] overflow-hidden"},ct=I({__name:"VibeCheckBar",setup(v){const h=y([{emoji:"ðŸ”¥",count:112},{emoji:"â¤ï¸",count:78},{emoji:"ðŸ‘",count:54},{emoji:"ðŸŽ‰",count:39}]),p=y([]),f=t=>{h.value=h.value.map(i=>i.emoji===t?{...i,count:i.count+1}:i);const b=`${t}-${Date.now()}-${Math.random()}`,c=12+Math.floor(Math.random()*76);p.value=[...p.value,{id:b,emoji:t,left:c}],setTimeout(()=>{p.value=p.value.filter(i=>i.id!==b)},1200)};return(t,b)=>(d(),l("section",nt,[e("div",rt,[b[0]||(b[0]=e("p",{class:"text-xs font-semibold uppercase tracking-[0.12em] text-muted-foreground"},"Vibe Check",-1)),e("div",at,[(d(!0),l(C,null,A(s(h),c=>(d(),l("button",{key:c.emoji,type:"button",class:"inline-flex items-center gap-1 rounded-full border border-border bg-background px-2 py-1 text-xs text-foreground transition hover:bg-accent",onClick:i=>f(c.emoji)},[e("span",null,m(c.emoji),1),e("span",dt,m(c.count),1)],8,it))),128))])]),e("div",lt,[(d(!0),l(C,null,A(s(p),c=>(d(),l("span",{key:c.id,class:"reaction-fly absolute bottom-[6.5rem] text-2xl",style:M({left:`${c.left}%`})},m(c.emoji),5))),128))])]))}}),ut=Object.assign(te(ct,[["__scopeId","data-v-1321074d"]]),{__name:"Event[slug]BlocksState3ActiveVibeCheckBar"}),mt={key:0,class:"fixed inset-0 z-50 overflow-hidden bg-background text-foreground"},pt={class:"mx-auto flex h-[100dvh] w-full max-w-5xl flex-col gap-3 px-3 pb-16 pt-safe sm:px-4"},bt={class:"shrink-0 pt-2"},ft={class:"shrink-0"},xt={class:"shrink-0"},gt={class:"min-h-0 flex-1 overflow-y-auto pb-3"},vt={class:"space-y-3"},ht={class:"text-sm font-semibold text-foreground"},yt={class:"mt-1 text-sm text-muted-foreground"},Bt=I({__name:"LiveActiveView",props:{event:{}},setup(v){const h=v,p=Y(),f=O(()=>h.event?.title?.trim()||"Event"),t=y([{id:"post-1",title:"Main stage opening",type:"text",body:"Welcome everyone. The first segment starts now. Keep your questions in Q&A and jump into comments under each channel post.",createdAt:Date.now()-1e3*60*14,commentsCount:12},{id:"post-2",title:"Behind the scenes snapshot",type:"photo",body:"Quick backstage moment before guest speaker joins.",createdAt:Date.now()-1e3*60*8,commentsCount:7,imageLabel:"Organizer photo update"},{id:"post-3",title:"Audience poll",type:"poll",body:"Which session should we run right after this block?",createdAt:Date.now()-1e3*60*3,commentsCount:19,pollOptions:[{id:"p3-o1",label:"Deep dive Q&A",votes:42},{id:"p3-o2",label:"Live breakdown demo",votes:58},{id:"p3-o3",label:"Networking sprint",votes:33}]}]),b=y({"post-1":[{id:"c-101",postId:"post-1",userName:"Ava Prime",text:"Audio quality is excellent tonight.",createdAt:Date.now()-1e3*60*10},{id:"c-102",postId:"post-1",userName:"Liam Drift",text:"Pinned updates are super clear.",createdAt:Date.now()-1e3*60*9}],"post-2":[{id:"c-201",postId:"post-2",userName:"Mia Flux",text:"Great backstage shot.",createdAt:Date.now()-1e3*60*6}],"post-3":[{id:"c-301",postId:"post-3",userName:"Noah Core",text:"Voting for the live demo.",createdAt:Date.now()-1e3*60*2},{id:"c-302",postId:"post-3",userName:"Ella Spark",text:"Q&A would be useful before networking.",createdAt:Date.now()-1e3*60}]}),c=y([{id:"qa-1",userName:"Sofia Echo",question:"Can you break down the rollout checklist for teams under 5 engineers?",votes:17,createdAt:Date.now()-1e3*60*11},{id:"qa-2",userName:"James Orbit",question:"What metrics matter most in the first 30 minutes after launch?",votes:23,createdAt:Date.now()-1e3*60*7},{id:"qa-3",userName:"Zoe Volt",question:"Any practical approach for handling rollback communication?",votes:9,createdAt:Date.now()-1e3*60*4}]),i=y(!1),n=y(null),r=y(null),o=O(()=>t.value.find(x=>x.id===n.value)||null),a=O(()=>{const x=n.value;return x?b.value[x]||[]:[]}),_=()=>{p.back()},F=x=>{n.value=x.postId,i.value=!0},L=x=>{const g={id:`c-${Date.now()}`,postId:x.postId,userName:"You",text:x.text,createdAt:Date.now()},k=b.value[x.postId]||[];b.value={...b.value,[x.postId]:[...k,g]},t.value=t.value.map(N=>N.id===x.postId?{...N,commentsCount:N.commentsCount+1}:N)},Q=x=>{t.value=t.value.map(g=>g.id!==x.postId||!g.pollOptions?.length?g:{...g,pollOptions:g.pollOptions.map(k=>k.id===x.optionId?{...k,votes:k.votes+1}:k)})},R=()=>{r.value="buddy"},W=()=>{r.value="networking"};return(x,g)=>(d(),S(j,{appear:"","enter-active-class":"transition duration-250 ease-out","enter-from-class":"opacity-0 translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition duration-180 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-1"},{default:w(()=>[h.event?(d(),l("div",mt,[e("div",pt,[e("div",bt,[u(oe,{title:s(f),onClose:_},null,8,["title"])]),e("div",ft,[u(Z)]),e("div",xt,[u(ut)]),e("div",gt,[e("div",vt,[u(ke,{posts:s(t),onOpenComments:F,onVotePoll:Q},null,8,["posts"]),u(st,{"initial-items":s(c)},null,8,["initial-items"])])])]),u(Pe,{"is-open":s(i),post:s(o),comments:s(a),"onUpdate:isOpen":g[0]||(g[0]=k=>i.value=k),onSubmitComment:L},null,8,["is-open","post","comments"]),u(Fe,{onOpenBuddyRadar:R,onOpenNetworkingDeck:W}),u(j,{"enter-active-class":"transition duration-200","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-2 opacity-0"},{default:w(()=>[s(r)?(d(),l("div",{key:0,class:"fixed inset-0 z-[70] bg-background/70 backdrop-blur-sm",onClick:g[3]||(g[3]=k=>r.value=null)},[e("div",{class:"absolute bottom-[6.5rem] left-3 right-3 rounded-2xl border border-border bg-card p-4 shadow-lg",onClick:g[2]||(g[2]=G(()=>{},["stop"]))},[e("h3",ht,m(s(r)==="buddy"?"Buddy Radar":"Networking Deck"),1),e("p",yt,m(s(r)==="buddy"?"Nearby attendees and matching profiles will appear here.":"Networking shortcuts and smart invites will appear here."),1),e("button",{type:"button",class:"mt-3 inline-flex rounded-lg border border-border bg-background px-3 py-1.5 text-sm text-foreground transition hover:bg-accent",onClick:g[1]||(g[1]=k=>r.value=null)}," Close ")])])):$("",!0)]),_:1})])):$("",!0)]),_:1}))}});export{Bt as _};
