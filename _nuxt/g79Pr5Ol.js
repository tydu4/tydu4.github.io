import{d as V,af as F,j as r,o as v,k as R,b as n,T as D,w as d,c as S,e as B,m as e,n as re,a as t,t as x,f as I,C as Y,F as H,p as se,B as z,l as me,r as j,s as pe,q as X,z as ne,g as fe,G as ve,_ as he,N as ye,u as ge,$ as we,O as ke,a6 as $e,R as Me,K as ie,ag as ue}from"./DIpL79ME.js";import ae from"./ktI8lQth.js";import Q from"./BnfmgMFc.js";import J from"./DzV9VZSr.js";import Z from"./D-ntXkt-.js";import ee from"./DR2O4vHs.js";import Ce from"./CgaNsBb1.js";import{_ as be}from"./DlAUqK2U.js";import{I as Ne}from"./Dr6T78HV.js";import{u as Se}from"./gF2ZLa4d.js";import{c as oe}from"./Ck3zTzEc.js";import{C as Le}from"./oMUAEtVJ.js";import xe from"./BFJbChZv.js";import{Q as ce}from"./DFcLQhsV.js";import{S as Pe}from"./B0Whmy7M.js";import{M as Ie}from"./ByXHckbg.js";import{X as Ue}from"./BvuqPo7h.js";import{_ as Ae}from"./CK8lNEQy.js";import de from"./C94ZD2ww.js";import{s as Ee}from"./D_8MfZy3.js";import{M as je}from"./BTA2ybKl.js";import{C as Te}from"./BOkAGTVX.js";const Re=oe("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Ve=oe("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Be=oe("scan-line",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]),ze={class:"flex items-center justify-between gap-2"},Fe={class:"text-lg font-semibold text-foreground"},De={class:"mt-4"},Oe={class:"mt-4 max-h-[60vh] space-y-2 overflow-y-auto pr-1"},Qe={class:"flex items-center gap-3"},qe=["onClick"],He={class:"text-xs text-muted-foreground"},Ge=V({__name:"ParticipantsSheet",props:{modelValue:{type:Boolean},count:{}},emits:["update:modelValue"],setup(M,{emit:y}){const k=F("state2_2_event",r(()=>null)),w=y,g=j(""),l=()=>w("update:modelValue",!1),p=a=>typeof a=="string"?a.trim():"",i=r(()=>["Alex","Oleg","Mila","Roma","Nika","Pavel","Dasha","Ilya","Nastya","Artem","Lena","Igor","Sasha","Masha","Timur","Kirill","Vera","Max","Polina","Andrey"].map((s,u)=>({id:`${u+1}`,uuid:`user-${u+1}`,name:s,status:"Checked In"}))),h=r(()=>{const a=k.value?.participants_preview;return Array.isArray(a)?a.map((s,u)=>{const C=s,E=Number.isFinite(Number(s.id))?String(s.id):String(u+1),c=p(s.username)||`User ${E}`,o=p(C.uuid)||`user-${E}`;return{id:E,uuid:o,name:c,status:"Checked In"}}):[]}),f=r(()=>h.value.length?h.value:i.value),$=r(()=>{const a=g.value.trim().toLowerCase();return a?f.value.filter(s=>s.name.toLowerCase().includes(a)):f.value}),A=a=>{const s=p(a);s&&pe(`/u/${encodeURIComponent(s)}`)};return(a,s)=>(v(),R(me,{to:"body"},[n(D,{"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:d(()=>[M.modelValue?(v(),S("div",{key:0,class:"fixed inset-0 z-[70] bg-black/60",onClick:l})):B("",!0)]),_:1}),n(D,{"enter-active-class":"transition-transform duration-250 ease-out","enter-from-class":"translate-y-8 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition-transform duration-200 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-8 opacity-0"},{default:d(()=>[M.modelValue?(v(),S("div",{key:0,class:"fixed inset-0 z-[80] flex items-end justify-center px-4 pb-4",onClick:l},[n(e(Q),{class:"w-full max-w-xl rounded-3xl border border-border bg-card p-5 shadow-2xl",onClick:s[1]||(s[1]=re(()=>{},["stop"]))},{default:d(()=>[t("div",ze,[t("h3",Fe," Ð¡ÐµÐ¹Ñ‡Ð°Ñ Ð½Ð° Ð¿Ð»Ð¾Ñ‰Ð°Ð´ÐºÐµ ("+x(M.count??e($).length)+") ",1),n(e(ae),{variant:"secondary"},{default:d(()=>[...s[2]||(s[2]=[I("Status: Checked In",-1)])]),_:1})]),t("div",De,[n(e(Ce),{modelValue:e(g),"onUpdate:modelValue":s[0]||(s[0]=u=>Y(g)?g.value=u:null),placeholder:"ÐŸÐ¾Ð¸ÑÐº"},null,8,["modelValue"])]),t("div",Oe,[(v(!0),S(H,null,se(e($),u=>(v(),S("div",{key:u.id,class:"flex items-center justify-between gap-3 rounded-2xl border border-border p-3"},[t("div",Qe,[n(e(J),{class:"h-10 w-10 border border-border"},{default:d(()=>[n(e(Z),{src:"",alt:u.name},null,8,["alt"]),n(e(ee),{class:"bg-primary/10 text-xs font-semibold text-primary"},{default:d(()=>[I(x(u.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1024),t("div",null,[t("button",{type:"button",class:"text-sm font-semibold text-foreground hover:underline",onClick:C=>A(u.uuid)},x(u.name),9,qe),t("p",He,x(u.status),1)])]),n(e(z),{variant:"outline",size:"sm"},{default:d(()=>[...s[3]||(s[3]=[I("ðŸ‘‹",-1)])]),_:1})]))),128))]),n(e(z),{variant:"ghost",class:"mt-4 w-full",onClick:l},{default:d(()=>[...s[4]||(s[4]=[I("Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",-1)])]),_:1})]),_:1})])):B("",!0)]),_:1})]))}}),Ke={class:"flex items-center justify-between"},We={class:"mt-4 overflow-hidden"},Xe={class:"ticker flex gap-2"},Ye=["onClick"],Je=V({__name:"CrowdStats",emits:["open-profile"],setup(M,{emit:y}){const k=F("state2_2_event",r(()=>null)),w=F("state2_2_payload",r(()=>null)),g=[{id:"1",uuid:"user-1",name:"Vera",title:"Marketing Lead",avatar:"",badges:["Ð Ð°Ð·Ð²ÐµÐ´Ñ‡Ð¸Ðº"],bio:"Ð˜Ñ‰Ñƒ Ð»ÑŽÐ´ÐµÐ¹, ÐºÑ‚Ð¾ Ð»ÑŽÐ±Ð¸Ñ‚ ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð°Ð¼Ð¸ Ð¸Ð²ÐµÐ½Ñ‚Ð¾Ð².",contacts:{telegram:"@vera",phone:"+7 900 111-22-33",email:"vera@demo.com"}},{id:"2",uuid:"user-2",name:"Max",title:"Founder",avatar:"",badges:["Ð¡Ð¿Ð¸ÐºÐµÑ€"],bio:"Ð¡Ñ‚Ñ€Ð¾ÑŽ ÐºÐ¾Ð¼ÑŒÑŽÐ½Ð¸Ñ‚Ð¸ Ð´Ð»Ñ founders. ÐžÐ±ÑÑƒÐ´Ð¸Ð¼ Ð¸Ð´ÐµÐ¸?",contacts:{telegram:"@max",phone:"+7 900 222-33-44",email:"max@demo.com"}},{id:"3",uuid:"user-3",name:"Sasha",title:"Product Manager",avatar:"",badges:["Ð Ð°Ð·Ð²ÐµÐ´Ñ‡Ð¸Ðº"],bio:"Ð¥Ð¾Ñ‡Ñƒ Ð½Ð°Ð¹Ñ‚Ð¸ Ð´Ð¸Ð·Ð°Ð¹Ð½ÐµÑ€Ð¾Ð² Ð¸ Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ¾Ð² Ð² ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ.",contacts:{telegram:"@sasha",phone:"+7 900 333-44-55",email:"sasha@demo.com"}},{id:"4",uuid:"user-4",name:"Lena",title:"Engineer",avatar:"",badges:["Ð¡Ð¿Ð¸ÐºÐµÑ€"],bio:"ÐžÐ±Ð¾Ð¶Ð°ÑŽ ML Ð¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸ÑŽ.",contacts:{telegram:"@lena",phone:"+7 900 444-55-66",email:"lena@demo.com"}},{id:"5",uuid:"user-5",name:"Ilya",title:"Designer",avatar:"",badges:["Ð Ð°Ð·Ð²ÐµÐ´Ñ‡Ð¸Ðº"],bio:"Ð“Ð¾Ñ‚Ð¾Ð² Ð¾Ð±ÑÑƒÐ´Ð¸Ñ‚ÑŒ Ð±Ñ€ÐµÐ½Ð´Ð¸Ð½Ð³ Ð¸ product design.",contacts:{telegram:"@ilya",phone:"+7 900 555-66-77",email:"ilya@demo.com"}}],l=c=>typeof c=="string"?c.trim():"",p=r(()=>{const c=k.value?.participants_preview;return Array.isArray(c)?c:[]}),i=(c,o)=>{const b=c,_=Number.isFinite(Number(c.id))?String(c.id):String(o+1),L=l(b.uuid)||`user-${_}`,T=l(c.username)||`User ${_}`;return{id:_,uuid:L,name:T,title:"Participant",avatar:l(c.avatar_url),badges:["Inside"],bio:"ÐÐ° Ð¿Ð»Ð¾Ñ‰Ð°Ð´ÐºÐµ Ð¿Ñ€ÑÐ¼Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ.",contacts:{telegram:`@${T.toLowerCase().replace(/\s+/g,"_")}`,phone:"hidden",email:`${T.toLowerCase().replace(/\s+/g,"_")}@smart.events`}}},h=r(()=>{const c=w.value?.smart_match?.target_user;return!c||typeof c!="object"?null:c}),f=r(()=>{const c=h.value;if(!c)return null;const o=Number.isFinite(Number(c.id))?String(c.id):"smart-match",b=l(c.uuid)||`user-${o}`,_=l(c.username)||`User ${o}`,L=Number.isFinite(Number(c.level))?Math.max(1,Math.floor(Number(c.level))):1;return{id:o,uuid:b,name:_,title:`Level ${L}`,avatar:l(c.avatar_url),badges:[`Lvl ${L}`],bio:"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ Smart Match.",contacts:{telegram:"@hidden",phone:"hidden",email:"hidden@smart.events"}}}),$=r(()=>{const c=p.value.map(i),o=f.value;return o&&!c.some(b=>b.uuid===o.uuid)&&c.unshift(o),c.length?c:g}),A=r(()=>{const c=Number(k.value?.stats?.going_count);return Number.isFinite(c)&&c>0?Math.floor(c):p.value.length>0?p.value.length:$.value.length}),a=r(()=>$.value.length?[...$.value,...$.value]:g),s=j(!1),u=y,C=()=>{s.value=!0},E=c=>{u("open-profile",c)};return(c,o)=>(v(),S(H,null,[n(e(Q),{class:"rounded-3xl border border-border p-5 transition hover:border-primary/30 hover:bg-primary/5",role:"button",tabindex:"0",onClick:C},{default:d(()=>[t("div",Ke,[o[1]||(o[1]=t("h3",{class:"text-lg font-semibold text-foreground"},"Ð’Ð½ÑƒÑ‚Ñ€Ð¸",-1)),n(e(ae),{variant:"secondary"},{default:d(()=>[I(x(e(A))+" Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº",1)]),_:1})]),t("div",We,[t("div",Xe,[(v(!0),S(H,null,se(e(a),b=>(v(),S("button",{key:`${b.id}-${b.name}`,type:"button",class:"rounded-full",onClick:re(_=>E(b),["stop"])},[n(e(J),{class:"h-10 w-10 border-2 border-background"},{default:d(()=>[n(e(Z),{src:b.avatar,alt:b.name},null,8,["src","alt"]),n(e(ee),{class:"bg-primary/10 text-xs font-semibold text-primary"},{default:d(()=>[I(x(b.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1024)],8,Ye))),128))])])]),_:1}),n(Ge,{modelValue:e(s),"onUpdate:modelValue":o[0]||(o[0]=b=>Y(s)?s.value=b:null),count:e(A)},null,8,["modelValue","count"])],64))}}),Ze=be(Je,[["__scopeId","data-v-0d40d5be"]]),et={class:"flex items-start gap-3"},tt={class:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-primary"},st={class:"mt-1 text-sm text-foreground"},at=V({__name:"EventBulletin",setup(M){const y=F("state2_2_event",r(()=>null)),k=F("state2_2_payload",r(()=>null)),w=r(()=>{if(k.value)return k.value;const i=y.value?.state_payload;return!i||typeof i!="object"?null:i}),g=r(()=>{const i=w.value?.event_info;return!i||typeof i!="object"?null:i}),l=i=>typeof i=="string"?i.trim():"",p=r(()=>{const i=l(g.value?.wifi_ssid),h=l(g.value?.wifi_password),f=l(g.value?.venue_notes),$=[];return i&&$.push(`Wi-Fi: ${i}${h?` (pass: ${h})`:""}.`),f&&$.push(f),$.length?$.join(" "):"Wi-Fi: Hotel_Guest (pass: 1234). Ð‘Ð°Ñ€ Ð½Ð° 2 ÑÑ‚Ð°Ð¶Ðµ."});return(i,h)=>(v(),R(e(Q),{class:"rounded-3xl border border-border p-5"},{default:d(()=>[t("div",et,[t("div",tt,[n(e(Ne),{class:"h-5 w-5"})]),t("div",null,[h[0]||(h[0]=t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"Info",-1)),t("p",st,x(e(p)),1)])])]),_:1}))}}),nt={class:"flex items-center justify-between"},rt={key:0,class:"mt-2 text-3xl font-black text-foreground"},ot={key:1,class:"mt-2 text-2xl font-black text-foreground"},lt={class:"flex h-12 w-12 items-center justify-center rounded-2xl bg-primary/10 text-primary"},it=V({__name:"EventTimer",props:{event:{}},setup(M){const y=M,k=Se(),w=r(()=>y.event.occurrences?.[0]?.start_time??null),g=r(()=>{if(!w.value)return 0;const i=new Date(w.value);if(Number.isNaN(i.getTime()))return 0;const h=i.getTime()-k.value.getTime();return Math.max(0,Math.floor(h/1e3))}),l=r(()=>g.value<=0),p=r(()=>{const i=g.value,h=Math.floor(i/60),f=i%60,$=String(h).padStart(2,"0"),A=String(f).padStart(2,"0");return`${$}:${A}`});return(i,h)=>(v(),R(e(Q),{class:"rounded-3xl border border-border p-5"},{default:d(()=>[t("div",nt,[t("div",null,[h[0]||(h[0]=t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"Ð”Ð¾ Ð½Ð°Ñ‡Ð°Ð»Ð° ÑˆÐ¾Ñƒ",-1)),e(l)?(v(),S("h2",ot,"Ð¨Ð¾Ñƒ Ð½Ð°Ñ‡Ð°Ð»Ð¾ÑÑŒ! ðŸš€")):(v(),S("h2",rt,x(e(p)),1))]),t("div",lt,[n(e(Ve),{class:"h-6 w-6"})])])]),_:1}))}}),ut={class:"mt-3 text-3xl font-black uppercase tracking-tight"},ct={class:"mt-2 text-lg font-semibold uppercase text-white/90"},dt={class:"mt-5 rounded-2xl bg-white/15 p-4 backdrop-blur-sm"},mt={class:"mt-1 text-lg font-semibold"},pt=V({__name:"GameIdentity",props:{palette:{}},setup(M){const y=[{label:"Ð¡Ð˜ÐÐ˜Ð•",role:"Ð ÐÐ—Ð’Ð•Ð”Ð§Ð˜Ðš",target:"ÐšÐ ÐÐ¡ÐÐ«Ðœ ÑÐºÑ€Ð°Ð½Ð¾Ð¼",gradient:"from-cyan-400 via-blue-500 to-indigo-600",glow:"shadow-[0_0_40px_rgba(56,189,248,0.6)]"},{label:"ÐšÐ ÐÐ¡ÐÐ«Ð•",role:"Ð ÐÐ—Ð’Ð•Ð”Ð§Ð˜Ðš",target:"Ð¡Ð˜ÐÐ˜Ðœ ÑÐºÑ€Ð°Ð½Ð¾Ð¼",gradient:"from-rose-500 via-fuchsia-500 to-red-500",glow:"shadow-[0_0_40px_rgba(244,63,94,0.55)]"},{label:"Ð—Ð•Ð›Ð•ÐÐ«Ð•",role:"Ð ÐÐ—Ð’Ð•Ð”Ð§Ð˜Ðš",target:"ÐšÐ ÐÐ¡ÐÐ«Ðœ ÑÐºÑ€Ð°Ð½Ð¾Ð¼",gradient:"from-lime-400 via-emerald-500 to-teal-500",glow:"shadow-[0_0_40px_rgba(16,185,129,0.55)]"}],k=M,w=y[Math.floor(Math.random()*y.length)]??y[0],g=r(()=>k.palette??w);return(l,p)=>(v(),R(e(Q),{class:"relative overflow-hidden rounded-3xl border-0 p-0"},{default:d(()=>[t("div",{class:X(["bg-gradient-to-br p-6 text-white",[e(g).gradient,e(g).glow]])},[p[1]||(p[1]=t("p",{class:"text-xs font-semibold uppercase tracking-[0.3em] text-white/70"},"Game Identity",-1)),t("h2",ut," Ð¢Ð²Ð¾Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°: "+x(e(g).label),1),t("p",ct,"Ð¢Ð²Ð¾Ñ Ñ€Ð¾Ð»ÑŒ: "+x(e(g).role),1),t("div",dt,[p[0]||(p[0]=t("p",{class:"text-xs uppercase tracking-[0.2em] text-white/70"},"Ð—Ð°Ð´Ð°Ð½Ð¸Ðµ",-1)),t("p",mt," ÐÐ°Ð¹Ð´Ð¸ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐºÐ° Ñ "+x(e(g).target)+". ",1)])],2)]),_:1}))}}),ft={class:"mx-auto w-fit max-w-[90%]"},vt={class:"text-lg"},gt={class:"text-sm font-medium"},bt=V({__name:"LivePulseBar",setup(M){const y=F("state2_2_event",r(()=>null)),k=F("state2_2_payload",r(()=>null)),w={id:"enter",icon:"ðŸ”¥",parts:[{text:"Alex",accent:!0},{text:" Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‡Ñ‚Ð¾ Ð·Ð°ÑˆÐµÐ»"}]},g=[w,{id:"friends",icon:"ðŸ¤",parts:[{text:"Maria",accent:!0},{text:" Ð¸ "},{text:"Ivan",accent:!0},{text:" Ð¿Ð¾Ð´Ñ€ÑƒÐ¶Ð¸Ð»Ð¸ÑÑŒ"}]},{id:"top",icon:"ðŸ†",parts:[{text:"Max",accent:!0},{text:" Ð²Ñ‹ÑˆÐµÐ» Ð² Ñ‚Ð¾Ð¿-3"}]}],l=s=>typeof s=="string"?s.trim():"",p=r(()=>{const s=y.value?.participants_preview;return Array.isArray(s)?s.map(u=>l(u.username)).filter(Boolean):[]}),i=r(()=>{const s=p.value,u=s[0]||"",C=s[1]||"",E=s[2]||"",c=Number(k.value?.quest_status?.scanned_count),o=[];return u&&o.push({id:"enter",icon:"ðŸ”¥",parts:[{text:u,accent:!0},{text:" Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‡Ñ‚Ð¾ Ð·Ð°ÑˆÐµÐ»"}]}),C&&o.push({id:"friends",icon:"ðŸ¤",parts:[{text:u||C,accent:!0},{text:" Ð¸ "},{text:C,accent:!0},{text:" Ð½Ð°ÑˆÐ»Ð¸ Ð´Ñ€ÑƒÐ³ Ð´Ñ€ÑƒÐ³Ð°"}]}),Number.isFinite(c)&&o.push({id:"top",icon:"ðŸ†",parts:[{text:E||u||"Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸Ðº",accent:!0},{text:` ÑƒÐ¶Ðµ ÑÐ¾Ð±Ñ€Ð°Ð» ${Math.max(0,Math.floor(c))} QR`}]}),o.length?o:g}),h=j(0),f=r(()=>{const s=i.value;return s.length?s[h.value]??s[0]??w:w});let $=null;const A=()=>{$&&(clearTimeout($),$=null)},a=()=>{A();const s=i.value;if(!s.length)return;const u=3e3+Math.floor(Math.random()*2e3);$=setTimeout(()=>{h.value=(h.value+1)%s.length,a()},u)};return ne(i,s=>{if(!s.length){h.value=0,A();return}h.value>=s.length&&(h.value=0),a()},{immediate:!0}),fe(()=>{a()}),ve(()=>{A()}),(s,u)=>(v(),S("div",ft,[n(D,{name:"pulse",mode:"out-in"},{default:d(()=>[(v(),S("div",{key:e(f).id,class:"mx-auto flex w-fit max-w-[90%] items-center gap-3 rounded-full border border-white/10 bg-black/60 px-4 py-2 text-white shadow-lg backdrop-blur-md"},[t("span",vt,x(e(f).icon),1),t("p",gt,[(v(!0),S(H,null,se(e(f).parts,(C,E)=>(v(),S("span",{key:E,class:X(C.accent?"text-yellow-400":"")},x(C.text),3))),128))])]))]),_:1})]))}}),xt=be(bt,[["__scopeId","data-v-76aa4783"]]),_t={class:"flex items-center justify-between gap-2"},ht={class:"text-lg font-semibold text-foreground"},yt={class:"mt-4 space-y-2"},wt={key:0,class:"text-center text-xs text-muted-foreground"},kt={class:"flex items-center gap-3"},$t={class:"text-sm font-semibold text-foreground"},Mt={class:"text-xs text-muted-foreground"},Ct=V({__name:"LocalLeaderboard",setup(M){const y=F("state2_2_event",r(()=>null)),k=F("state2_2_payload",r(()=>null)),w=j(!1),g=["Masha","Ivan","Polina","Oleg","Nika","Artem","Lena","Max","Sasha","Dasha","Roma","Ilya","Vera","Nastya","Timur","Kirill","Egor","Mila","Vlad","Yana","Olga","Andrey","Denis","Katya","Lev"],l=o=>typeof o=="string"?o.trim():"",p=(o,b,_)=>{const L=o,T=Number.isFinite(Number(o.id))?String(o.id):`u${b+1}`,N=l(L.uuid)||`user-${T}`,U=l(o.username)||`User ${T}`;return{id:T,uuid:N,name:U,scans:Math.max(1,_-b)}},i=r(()=>{const o=Array.isArray(y.value?.participants_preview)?y.value?.participants_preview??[]:[];return o.length?o.map((b,_)=>p(b,_,o.length)):[]}),h=r(()=>g.map((o,b)=>({id:`u${b+1}`,uuid:`user-${b+1}`,name:o,scans:Math.max(2,26-b)}))),f=r(()=>{const o=Number(k.value?.quest_status?.scanned_count);return Number.isFinite(o)?Math.max(0,Math.floor(o)):2}),$=r(()=>({id:"me",uuid:"me",name:"Ð¢Ñ‹",scans:f.value})),A=r(()=>i.value.length?i.value:h.value),a=r(()=>[...[...A.value,$.value]].sort((_,L)=>L.scans-_.scans).map((_,L)=>({..._,rank:L+1}))),s=r(()=>a.value.find(o=>o.id==="me")),u=r(()=>s.value?`Ð¢Ñ‹ Ð½Ð° ${s.value.rank} Ð¼ÐµÑÑ‚Ðµ (${s.value.scans} ÑÐºÐ°Ð½Ð°)`:"Ð¢Ñ‹ Ð½Ð° 12 Ð¼ÐµÑÑ‚Ðµ (2 ÑÐºÐ°Ð½Ð°)"),C=r(()=>({id:"last",uuid:"user-142",name:"User #142",scans:2,rank:Math.max(142,a.value.length+100)})),E=r(()=>{const o=a.value.slice(0,3),b=a.value.slice(0,10);if(!w.value){const L=o.map(T=>({type:"user",user:T}));return s.value&&s.value.rank>3&&(L.push({type:"separator"}),L.push({type:"user",user:s.value})),L}const _=b.map(L=>({type:"user",user:L}));return s.value&&s.value.rank>10&&(_.push({type:"separator"}),_.push({type:"user",user:s.value})),_.push({type:"separator"}),_.push({type:"user",user:C.value}),_}),c=o=>o===1?"border-amber-400/70":o===2?"border-slate-300/70":o===3?"border-orange-400/70":"border-border";return(o,b)=>(v(),R(e(Q),{class:"rounded-3xl border border-border p-5"},{default:d(()=>[t("div",_t,[t("div",null,[b[1]||(b[1]=t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³",-1)),t("h3",ht,x(e(u)),1)]),n(e(z),{variant:"ghost",size:"sm",class:"gap-2",onClick:b[0]||(b[0]=_=>w.value=!e(w))},{default:d(()=>[I(x(e(w)?"Ð¡Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ":"Ð Ð°ÑÐºÑ€Ñ‹Ñ‚ÑŒ")+" ",1),e(w)?(v(),R(e(Re),{key:0,class:"h-4 w-4"})):(v(),R(e(Le),{key:1,class:"h-4 w-4"}))]),_:1})]),t("div",yt,[(v(!0),S(H,null,se(e(E),(_,L)=>(v(),S("div",{key:_.type==="separator"?`sep-${L}`:_.user.id},[_.type==="separator"?(v(),S("div",wt,"...")):(v(),S("div",{key:1,class:X(["flex items-center justify-between rounded-2xl border px-3 py-2",c(_.user.rank)])},[t("div",kt,[n(e(J),{class:"h-8 w-8 border border-border"},{default:d(()=>[n(e(Z),{src:"",alt:_.user.name},null,8,["alt"]),n(e(ee),{class:"bg-primary/10 text-xs font-semibold text-primary"},{default:d(()=>[I(x(_.user.name.charAt(0).toUpperCase()),1)]),_:2},1024)]),_:2},1024),t("div",null,[t("p",$t,[I(x(_.user.name)+" ",1),t("span",Mt,"#"+x(_.user.rank),1)])])]),n(e(ae),{variant:"secondary"},{default:d(()=>[I(x(_.user.scans*10)+" XP",1)]),_:2},1024)],2))]))),128))])]),_:1}))}}),Nt={class:"space-y-3"},St={key:0,class:"flex flex-wrap items-center justify-between gap-2 rounded-2xl border border-primary/25 bg-primary/10 px-3 py-2 text-xs text-foreground"},Lt={class:"flex items-center gap-2"},Pt={class:"flex items-center gap-2"},It={class:"flex items-start justify-between gap-3"},Ut={class:"text-xs uppercase tracking-[0.3em] text-white/70"},At={class:"mt-2 text-lg font-semibold"},Et={class:"mt-1 text-sm text-white/70"},jt={class:"mt-5 flex justify-center"},Tt={class:"rounded-2xl bg-white p-4 shadow-lg"},Rt={class:"mt-5 flex items-center justify-between text-xs text-white/70"},Vt={class:"rounded-full border border-white/20 px-2 py-1"},Bt={class:"relative flex h-full flex-col items-center justify-center gap-6 bg-white px-6"},zt={class:"absolute right-4 top-4"},Ft={class:"text-center"},Dt={class:"mt-2 text-lg font-semibold text-foreground"},Ot={class:"rounded-3xl bg-white p-4 shadow-lg ring-1 ring-black/10"},Qt=V({__name:"TicketWallet",props:{event:{},mode:{default:"ticket"},showExpand:{type:Boolean,default:!0}},setup(M){const y=M,k=r(()=>({code:`SE-${y.event.id??"0001"}-VIP`,category:y.mode==="id"?"My ID":"VIP Access",holder:"Alexey Bond"})),w=r(()=>y.mode==="id"?`ID:${k.value.holder}`:`${y.event.slug??"event"}:${k.value.code}`),g=r(()=>y.mode==="id"?"ÐœÐ¾Ð¹ QR":"Ð¦Ð¸Ñ„Ñ€Ð¾Ð²Ð¾Ð¹ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐº"),l=j(!1),p=j(!0),i=ye(),h=r(()=>i.public.enableAppPromotions!==!1),f=()=>{l.value=!0},$=()=>{p.value=!1};return(A,a)=>{const s=he;return v(),S(H,null,[t("div",Nt,[e(h)&&e(p)?(v(),S("div",St,[t("p",Lt,[n(e(Pe),{class:"h-4 w-4 text-primary"}),a[2]||(a[2]=t("span",null,"Internet can be unstable at venues. Save this ticket offline in the App.",-1))]),t("div",Pt,[n(s,{to:"/app",class:"inline-flex items-center rounded-md bg-primary px-2.5 py-1 text-xs font-semibold text-primary-foreground transition hover:opacity-90"},{default:d(()=>[...a[3]||(a[3]=[I(" Open App ",-1)])]),_:1}),t("button",{type:"button",class:"rounded-md px-2 py-1 text-xs text-muted-foreground transition hover:bg-background hover:text-foreground",onClick:$}," Dismiss ")])])):B("",!0),n(e(Q),{class:"relative overflow-hidden rounded-3xl border border-border bg-gradient-to-br from-slate-950 via-slate-900 to-slate-800 p-5 text-white shadow-2xl"},{default:d(()=>[t("div",It,[t("div",null,[t("p",Ut,x(e(g)),1),t("h2",At,x(M.event.title||"Event Pass"),1),t("p",Et,x(e(k).category),1)]),M.showExpand?(v(),R(e(z),{key:0,variant:"outline",size:"sm",class:"border-white/30 bg-white/10 text-white hover:bg-white/20",onClick:f},{default:d(()=>[n(e(Ie),{class:"h-4 w-4"})]),_:1})):B("",!0)]),t("div",jt,[t("div",Tt,[n(ce,{value:e(w),size:220,level:"H"},null,8,["value"])])]),t("div",Rt,[t("span",null,x(e(k).holder),1),t("span",Vt,x(e(k).code),1)])]),_:1})]),n(e(xe),{modelValue:e(l),"onUpdate:modelValue":a[1]||(a[1]=u=>Y(l)?l.value=u:null),class:"max-w-none w-full h-[100dvh] rounded-none border-0 p-0 bg-white"},{default:d(()=>[t("div",Bt,[t("div",zt,[n(e(z),{variant:"ghost",size:"icon",class:"rounded-full",onClick:a[0]||(a[0]=u=>l.value=!1)},{default:d(()=>[n(e(Ue),{class:"h-4 w-4"})]),_:1})]),t("div",Ft,[a[4]||(a[4]=t("p",{class:"text-xs uppercase tracking-[0.3em] text-muted-foreground"},"Ð’Ð°Ñˆ QR",-1)),t("p",Dt,x(e(k).category),1)]),t("div",Ot,[n(ce,{value:e(w),size:300,level:"H"},null,8,["value"])]),a[5]||(a[5]=t("p",{class:"text-sm text-muted-foreground"},"ÐŸÐ¾ÐºÐ°Ð¶Ð¸Ñ‚Ðµ QR Ð½Ð° Ð²Ñ…Ð¾Ð´Ðµ",-1))])]),_:1},8,["modelValue"])],64)}}}),qt={class:"flex items-center justify-between"},Ht={class:"text-xs font-semibold text-muted-foreground"},Gt={class:"mt-3"},Kt={class:"h-2 w-full overflow-hidden rounded-full bg-muted"},Wt={class:"mt-2 text-xs text-muted-foreground"},Xt={class:"mt-4 grid gap-2 sm:grid-cols-2"},Yt={class:"space-y-4"},Jt=V({__name:"NetworkingHunter",props:{event:{}},setup(M){const y=M,k=F("state2_2_payload",r(()=>null)),w=(a,s)=>{const u=typeof a=="number"?a:typeof a=="string"?Number(a):NaN;return Number.isFinite(u)?Math.max(0,Math.floor(u)):s},g=r(()=>{if(k.value)return k.value;const a=y.event?.state_payload;return!a||typeof a!="object"?null:a}),l=ge(),p=j(2),i=j(5);ne(()=>g.value?.quest_status?.scanned_count,a=>{p.value=w(a,2)},{immediate:!0}),ne(()=>g.value?.quest_status?.target_count,a=>{i.value=Math.max(1,w(a,5))},{immediate:!0});const h=r(()=>{const a=Math.max(1,i.value);return Math.min(100,Math.round(p.value/a*100))}),f=j(!1),$=()=>{l.push({level:"info",title:"QR Hunt",message:"ÐžÑ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ÑÑ ÐºÐ°Ð¼ÐµÑ€Ð°..."})},A=()=>{f.value=!0};return(a,s)=>(v(),R(e(Q),{class:"rounded-3xl border border-border p-5"},{default:d(()=>[t("div",qt,[s[2]||(s[2]=t("div",null,[t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"QR Quest"),t("h3",{class:"text-lg font-semibold text-foreground"},"ÐžÑ…Ð¾Ñ‚Ð° Ð·Ð° ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°Ð¼Ð¸")],-1)),t("span",Ht,x(e(p))+"/"+x(e(i)),1)]),t("div",Gt,[t("div",Kt,[t("div",{class:"h-full rounded-full bg-primary",style:we({width:`${e(h)}%`})},null,4)]),t("p",Wt,"ÐžÑ‚ÑÐºÐ°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾: "+x(e(p))+"/"+x(e(i)),1)]),s[6]||(s[6]=t("p",{class:"mt-3 text-sm text-muted-foreground"}," ÐŸÐ¾Ð´Ð¾Ð¹Ð´Ð¸ Ðº Ð»ÑŽÐ±Ð¾Ð¼Ñƒ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÑƒ Ð¸ ÑÐºÐ°Ð½Ð¸Ñ€ÑƒÐ¹ ÐµÐ³Ð¾ Ð±ÐµÐ¹Ð´Ð¶, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð·Ð½Ð°ÐºÐ¾Ð¼Ð¸Ñ‚ÑŒÑÑ (+10 XP). ",-1)),t("div",Xt,[n(e(z),{class:"gap-2",onClick:$},{default:d(()=>[n(e(Be),{class:"h-4 w-4"}),s[3]||(s[3]=I(" ðŸ“· Ð¡ÐºÐ°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ QR ",-1))]),_:1}),n(e(z),{variant:"outline",onClick:A},{default:d(()=>[...s[4]||(s[4]=[I("ÐœÐ¾Ð¹ QR",-1)])]),_:1})]),n(e(xe),{modelValue:e(f),"onUpdate:modelValue":s[1]||(s[1]=u=>Y(f)?f.value=u:null),class:"max-w-xl border-border bg-card text-foreground"},{default:d(()=>[t("div",Yt,[n(Qt,{event:M.event,mode:"id","show-expand":!1},null,8,["event"]),n(e(z),{variant:"outline",class:"w-full",onClick:s[0]||(s[0]=u=>f.value=!1)},{default:d(()=>[...s[5]||(s[5]=[I("Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",-1)])]),_:1})])]),_:1},8,["modelValue"])]),_:1}))}}),Zt={class:"fixed inset-0 z-[90] flex items-center justify-center bg-black/90 px-4"},es={class:"w-full max-w-sm rounded-3xl border border-white/10 bg-white/5 p-6 text-center text-white backdrop-blur"},ts={class:"mt-4 flex flex-col items-center gap-3"},ss=V({__name:"ScanReward",props:{user:{}},emits:["close"],setup(M,{emit:y}){const k=y,w=()=>{de({particleCount:120,spread:70,origin:{y:.6}}),setTimeout(()=>{de({particleCount:80,spread:60,origin:{y:.5}})},300)};return fe(()=>{w()}),(g,l)=>(v(),R(me,{to:"body"},[t("div",Zt,[t("div",es,[l[3]||(l[3]=t("p",{class:"text-xs uppercase tracking-[0.3em] text-white/70"},"Reward",-1)),l[4]||(l[4]=t("h2",{class:"mt-4 text-4xl font-black"},"+50 XP",-1)),t("div",ts,[n(e(J),{class:"h-16 w-16 border border-white/20"},{default:d(()=>[n(e(Z),{src:M.user?.avatar||"",alt:M.user?.name||"User"},null,8,["src","alt"]),n(e(ee),{class:"bg-white/10 text-lg font-semibold text-white"},{default:d(()=>[I(x(M.user?.name?.charAt(0).toUpperCase()||"U"),1)]),_:1})]),_:1}),l[1]||(l[1]=t("p",{class:"text-sm text-white/80"},"Ð’Ñ‹ Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð´Ñ€ÑƒÐ·ÑŒÑ!",-1))]),n(e(z),{class:"mt-6 w-full",onClick:l[0]||(l[0]=p=>k("close"))},{default:d(()=>[...l[2]||(l[2]=[I("ÐšÑ€ÑƒÑ‚Ð¾! Ð”Ð°Ð»ÑŒÑˆÐµ",-1)])]),_:1})])])]))}}),as={class:"flex items-center justify-between"},ns={class:"mt-4 flex items-center gap-3"},rs={class:"relative"},os={key:0,class:"absolute inset-0 -z-10 rounded-full border border-primary/40 animate-ping"},ls={key:1,class:"absolute inset-0 -z-10 rounded-full border border-primary/20 animate-ping [animation-delay:200ms]"},is={class:"text-sm text-muted-foreground"},us={class:"mt-4 rounded-2xl border border-border bg-muted/20 p-4"},cs={class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},ds={class:"mt-2 text-sm text-foreground"},ms=V({__name:"SmartMatch",props:{targetLabel:{}},emits:["open-profile"],setup(M,{emit:y}){const k=M,w=y,g=F("state2_2_payload",r(()=>null)),l=ge(),p=N=>typeof N=="string"?N.trim():"",i=r(()=>({id:"match-1",uuid:"polina-k",name:"ÐŸÐ¾Ð»Ð¸Ð½Ð° Ðš.",title:"Product Designer",avatar:"",badges:["Ð Ð°Ð·Ð²ÐµÐ´Ñ‡Ð¸Ðº"],bio:"Ð›ÑŽÐ±Ð»ÑŽ Ð±Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ Ð·Ð½Ð°ÐºÐ¾Ð¼ÑÑ‚Ð²Ð° Ð¸ ÑÑ‚Ð¾Ñ€Ð¸Ñ‚ÐµÐ»Ð»Ð¸Ð½Ð³.",contacts:{telegram:"@polina",phone:"+7 900 111-00-11",email:"polina@demo.com"}})),h=r(()=>{const N=g.value?.smart_match?.target_user;return!N||typeof N!="object"?null:N}),f=r(()=>{const N=h.value;if(!N)return i.value;const U=Number.isFinite(Number(N.id))?String(N.id):i.value.id,O=p(N.uuid)||i.value.uuid,G=p(N.username),K=Number.isFinite(Number(N.level))?Math.max(1,Math.floor(Number(N.level))):1;return{id:U,uuid:O,name:G||i.value.name,title:`Level ${K}`,avatar:p(N.avatar_url)||"",badges:[`Lvl ${K}`],bio:"Ð¡Ð¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¿Ð¾ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ°Ð¼ Ð¸ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¹ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸.",contacts:{telegram:"@hidden",phone:"hidden",email:"hidden@smart.events"}}}),$=["âš›ï¸ React","ðŸ‚ Ð¡Ð½Ð¾ÑƒÐ±Ð¾Ñ€Ð´","â˜•ï¸ Ð¡Ð¿ÐµÑˆÐµÐ»Ñ‚Ð¸ ÐºÐ¾Ñ„Ðµ"],A=r(()=>{const U=(Array.isArray(g.value?.smart_match?.ice_breakers)?g.value?.smart_match?.ice_breakers??[]:[]).map(O=>p(O)).filter(Boolean);return U.length?U.slice(0,3):$}),a=j(0),s=j(!1);let u=null,C=null;const E=r(()=>p(k.targetLabel)||"ÐºÑ€Ð°ÑÐ½Ñ‹Ð¼"),c=()=>{u&&clearInterval(u),C&&clearTimeout(C),u=null,C=null},o=()=>{u&&clearInterval(u),a.value=30,u=Ee(()=>{a.value-=1,a.value<=0&&(a.value=0,u&&(clearInterval(u),u=null))},1e3)},b=()=>{a.value>0||(s.value=!0,C&&clearTimeout(C),C=setTimeout(()=>{s.value=!1,C=null},1800),l.push({level:"success",title:"Smart Match",message:`Ð¡Ð¸Ð³Ð½Ð°Ð» Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½! ${f.value.name} Ð¸Ñ‰ÐµÑ‚ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐºÐ° Ñ ${E.value} ÑÐºÑ€Ð°Ð½Ð¾Ð¼. Ð£Ð»Ñ‹Ð±Ð½Ð¸ÑÑŒ!`}),o())},_=()=>{w("open-profile",f.value)},L=()=>{const N=p(f.value.uuid);N&&pe(`/u/${encodeURIComponent(N)}`)};ve(()=>{c()});const T=r(()=>a.value>0?`ÐŸÐ¾Ð´Ð¾Ð¶Ð´Ð¸Ñ‚Ðµ ${a.value}Ñ`:"ðŸ‘‹ ÐœÐ°Ñ…Ð½ÑƒÑ‚ÑŒ Ñ€ÑƒÐºÐ¾Ð¹");return(N,U)=>(v(),R(e(Q),{class:"rounded-3xl border border-border p-5"},{default:d(()=>[t("div",as,[U[1]||(U[1]=t("div",null,[t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ Ð˜Ð˜"),t("h3",{class:"text-lg font-semibold text-foreground"},"Smart Match")],-1)),n(e(ae),{class:"bg-primary/10 text-primary"},{default:d(()=>[...U[0]||(U[0]=[I("95%",-1)])]),_:1})]),t("div",ns,[t("div",rs,[e(s)?(v(),S("span",os)):B("",!0),e(s)?(v(),S("span",ls)):B("",!0),t("button",{type:"button",class:"rounded-full",onClick:re(_,["stop"])},[n(e(J),{class:"h-12 w-12 border border-border"},{default:d(()=>[n(e(Z),{src:e(f).avatar,alt:e(f).name},null,8,["src","alt"]),n(e(ee),{class:"bg-primary/10 text-sm font-semibold text-primary"},{default:d(()=>[I(x(e(f).name.charAt(0).toUpperCase()),1)]),_:1})]),_:1})])]),t("div",null,[t("button",{type:"button",class:"text-base font-semibold text-foreground hover:underline",onClick:L},x(e(f).name),1),t("p",is,x(e(f).title),1)])]),t("div",us,[t("div",cs,[n(e(je),{class:"h-4 w-4"}),U[2]||(U[2]=I(" Ice Breakers ",-1))]),t("p",ds," ÐžÐ±ÑÑƒÐ´Ð¸Ñ‚Ðµ: "+x(e(A).join(", ")),1)]),U[3]||(U[3]=t("p",{class:"mt-3 text-xs text-muted-foreground"}," Ð­Ñ‚Ð¾Ñ‚ ÑÐ¸Ð³Ð½Ð°Ð» Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð½Ð°Ð¹Ñ‚Ð¸ÑÑŒ Ð² Ñ‚Ð¾Ð»Ð¿Ðµ. Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸ Ð½Ð° ÑÐºÑ€Ð°Ð½ Ð½ÑƒÐ¶Ð½Ð¾Ð³Ð¾ Ñ†Ð²ÐµÑ‚Ð°. ",-1)),n(e(z),{class:"mt-4 w-full",disabled:e(a)>0,onClick:b},{default:d(()=>[I(x(e(T)),1)]),_:1},8,["disabled"])]),_:1}))}}),ps={key:0,class:"space-y-6 px-4 pb-24 pt-4 md:px-0"},fs={class:"flex flex-wrap items-center justify-between gap-3"},vs={class:"text-xl font-semibold text-foreground"},gs={class:"flex items-center gap-3"},bs={class:"text-right text-xs font-semibold"},xs={key:0},_s={key:1},hs=["aria-pressed"],ys={key:0,class:"rounded-3xl border border-border bg-card p-5 text-sm text-muted-foreground"},Qs=V({__name:"CheckInDoneView",props:{event:{}},setup(M){const y=M,k=ke(),w=$e(),g=r(()=>{const m=String(k.params.slug??"").trim();return m||y.event?.slug?.trim()||""}),l=m=>Array.isArray(m)?m:[],p=m=>m?{...m,tags:l(m.tags),occurrences:l(m.occurrences),tickets:l(m.tickets),images:l(m.images),sponsors:l(m.sponsors),participants_preview:l(m.participants_preview),stats:m.stats??{going_count:0,likes_count:0},current_mode:m.current_mode||"check_in_done"}:null,i=r(()=>p(y.event)),{data:h}=Me(()=>`state2-2-event-${g.value}`,async()=>{if(!g.value)return i.value;const m=encodeURIComponent(g.value);try{const P=await $fetch(`/api/v1/events/${m}`,{baseURL:ie("/api/v1/events")});return p(P)}catch{try{const P=await $fetch(`/api/v1/events/slug/${m}`,{baseURL:ie("/api/v1/events/slug")});return p(P)}catch{return i.value}}},{server:!0,lazy:!1,default:()=>i.value,watch:[g,()=>y.event?.id]}),f=r(()=>h.value??i.value),$=r(()=>{const m=f.value?.state_payload;return!m||typeof m!="object"?null:m});ue("state2_2_event",f),ue("state2_2_payload",$);const A=()=>{w.back()},a=j(!0),s=()=>{a.value=!a.value},u={label:"Ð¡Ð˜ÐÐ˜Ð•",role:"Ð ÐÐ—Ð’Ð•Ð”Ð§Ð˜Ðš",target:"ÐºÑ€Ð°ÑÐ½Ñ‹Ð¼",gradient:"from-cyan-400 via-blue-500 to-indigo-600",glow:"shadow-[0_0_40px_rgba(56,189,248,0.6)]"},C=[u,{label:"ÐšÐ ÐÐ¡ÐÐ«Ð•",role:"Ð ÐÐ—Ð’Ð•Ð”Ð§Ð˜Ðš",target:"ÑÐ¸Ð½Ð¸Ð¼",gradient:"from-rose-500 via-fuchsia-500 to-red-500",glow:"shadow-[0_0_40px_rgba(244,63,94,0.55)]"},{label:"Ð—Ð•Ð›Ð•ÐÐ«Ð•",role:"Ð ÐÐ—Ð’Ð•Ð”Ð§Ð˜Ðš",target:"ÐºÑ€Ð°ÑÐ½Ñ‹Ð¼",gradient:"from-lime-400 via-emerald-500 to-teal-500",glow:"shadow-[0_0_40px_rgba(16,185,129,0.55)]"}],E={BLUE:"Ð¡Ð˜ÐÐ˜Ð•",RED:"ÐšÐ ÐÐ¡ÐÐ«Ð•",GREEN:"Ð—Ð•Ð›Ð•ÐÐ«Ð•",YELLOW:"Ð–Ð•Ð›Ð¢Ð«Ð•",PURPLE:"Ð¤Ð˜ÐžÐ›Ð•Ð¢ÐžÐ’Ð«Ð•",Ð¡Ð˜ÐÐ˜Ð•:"Ð¡Ð˜ÐÐ˜Ð•",ÐšÐ ÐÐ¡ÐÐ«Ð•:"ÐšÐ ÐÐ¡ÐÐ«Ð•",Ð—Ð•Ð›Ð•ÐÐ«Ð•:"Ð—Ð•Ð›Ð•ÐÐ«Ð•",Ð–Ð•Ð›Ð¢Ð«Ð•:"Ð–Ð•Ð›Ð¢Ð«Ð•",Ð¤Ð˜ÐžÐ›Ð•Ð¢ÐžÐ’Ð«Ð•:"Ð¤Ð˜ÐžÐ›Ð•Ð¢ÐžÐ’Ð«Ð•"},c={BLUE:0,Ð¡Ð˜ÐÐ˜Ð•:0,RED:1,ÐšÐ ÐÐ¡ÐÐ«Ð•:1,GREEN:2,Ð—Ð•Ð›Ð•ÐÐ«Ð•:2,YELLOW:2,Ð–Ð•Ð›Ð¢Ð«Ð•:2,PURPLE:1,Ð¤Ð˜ÐžÐ›Ð•Ð¢ÐžÐ’Ð«Ð•:1},o=m=>m.trim().toUpperCase().replace(/Ð/g,"Ð•"),b=m=>typeof m=="string"?m.trim():"",_=m=>{const P=m.replace(/[.!?]+$/g,"").trim();if(!P)return"";const q=P.match(/Ñ\s+(.+)$/i);if(q?.[1])return q[1].trim();const W=P.match(/with\s+(.+)$/i);return W?.[1]?W[1].trim():P},L=r(()=>{const m=$.value?.game_identity;return!m||typeof m!="object"?null:m}),T=r(()=>{if(!C.length)return u;const m=Number(f.value?.id??0),P=Number.isFinite(m)?Math.abs(m)%C.length:0;return C[P]??u}),N=r(()=>{const m=b(L.value?.team),P=b(L.value?.role),q=b(L.value?.assignment),W=o(m),le=c[W],te=typeof le=="number"?C[le]??T.value:T.value;return{...te,label:E[W]||m||te.label,role:P||te.role,target:_(q)||te.target}}),U=j(null),O=j(!1),G=j(!1),K=m=>{U.value=m,O.value=!0},_e=m=>{U.value=m,G.value=!0,O.value=!1};return(m,P)=>(v(),S(H,null,[e(f)?(v(),S("div",ps,[t("header",fs,[t("div",null,[P[2]||(P[2]=t("p",{class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},"Inside",-1)),t("h1",vs,x(e(f).title||"Event"),1)]),t("div",gs,[t("div",bs,[e(a)?(v(),S("span",xs,"ðŸŸ¢ Networking: ON")):(v(),S("span",_s,"ðŸ”´ Incognito"))]),t("button",{type:"button",class:X(["relative inline-flex h-6 w-11 items-center rounded-full transition",e(a)?"bg-emerald-500":"bg-muted"]),"aria-pressed":e(a),onClick:s},[t("span",{class:X(["inline-block h-4 w-4 transform rounded-full bg-white transition",e(a)?"translate-x-6":"translate-x-1"])},null,2)],10,hs),n(e(z),{variant:"ghost",size:"sm",class:"gap-2",onClick:A},{default:d(()=>[n(e(Te),{class:"h-4 w-4"}),P[3]||(P[3]=I(" ÐÐ°Ð·Ð°Ð´ ",-1))]),_:1})])]),n(xt),n(D,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100"},{default:d(()=>[n(it,{event:e(f)},null,8,["event"])]),_:1}),n(D,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100"},{default:d(()=>[e(a)?(v(),R(pt,{key:0,palette:e(N)},null,8,["palette"])):B("",!0)]),_:1}),n(D,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100"},{default:d(()=>[e(a)?B("",!0):(v(),S("div",ys," Ð’ÐºÐ»ÑŽÑ‡Ð¸ Ð½ÐµÑ‚Ð²Ð¾Ñ€ÐºÐ¸Ð½Ð³, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¸Ð³Ñ€Ð°Ñ‚ÑŒ. "))]),_:1}),n(D,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100"},{default:d(()=>[n(Jt,{event:e(f)},null,8,["event"])]),_:1}),n(D,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100"},{default:d(()=>[n(Ct)]),_:1}),n(D,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100"},{default:d(()=>[e(a)?(v(),R(ms,{key:0,"target-label":e(N).target,onOpenProfile:K},null,8,["target-label"])):B("",!0)]),_:1}),n(D,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100"},{default:d(()=>[n(Ze,{onOpenProfile:K})]),_:1}),n(at)])):B("",!0),n(Ae,{isOpen:e(O),"onUpdate:isOpen":P[0]||(P[0]=q=>Y(O)?O.value=q:null),user:e(U),onScan:_e},null,8,["isOpen","user"]),e(G)?(v(),R(ss,{key:1,user:e(U),onClose:P[1]||(P[1]=q=>G.value=!1)},null,8,["user"])):B("",!0)],64))}});export{Qs as _};
