import{q as F,n as v,r as b,u as g,v as O,x as T,g as S,p as j,l as x,m as C}from"./vvrMSRdc.js";function p(e){return O()?(T(e),!0):!1}function f(e){return typeof e=="function"?e():g(e)}const m=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const W=Object.prototype.toString,G=e=>W.call(e)==="[object Object]",d=()=>{};function h(e,t){function i(...n){return new Promise((o,r)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(o).catch(r)})}return i}const y=e=>e();function A(e,t={}){let i,n,o=d;const r=s=>{clearTimeout(s),o(),o=d};return s=>{const l=f(e),u=f(t.maxWait);return i&&r(i),l<=0||u!==void 0&&u<=0?(n&&(r(n),n=null),Promise.resolve(s())):new Promise((c,w)=>{o=t.rejectOnCancel?w:c,u&&!n&&(n=setTimeout(()=>{i&&r(i),n=null,c(s())},u)),i=setTimeout(()=>{n&&r(n),n=null,c(s())},l)})}}function P(e=y){const t=b(!0);function i(){t.value=!1}function n(){t.value=!0}const o=(...r)=>{t.value&&e(...r)};return{isActive:x(t),pause:i,resume:n,eventFilter:o}}function D(e){return C()}function M(e,t=200,i={}){return h(A(t,i),e)}function I(e,t,i={}){const{eventFilter:n=y,...o}=i;return v(e,h(n,t),o)}function R(e,t,i={}){const{eventFilter:n,...o}=i,{eventFilter:r,pause:a,resume:s,isActive:l}=P(n);return{stop:I(e,t,{...o,eventFilter:r}),pause:a,resume:s,isActive:l}}function V(e,t=!0,i){D()?S(e,i):t?e():j(e)}function q(e,t=1e3,i={}){const{immediate:n=!0,immediateCallback:o=!1}=i;let r=null;const a=b(!1);function s(){r&&(clearInterval(r),r=null)}function l(){a.value=!1,s()}function u(){const c=f(t);c<=0||(a.value=!0,o&&e(),s(),a.value&&(r=setInterval(e,c)))}if(n&&m&&u(),F(t)||typeof t=="function"){const c=v(t,()=>{a.value&&m&&u()});p(c)}return p(l),{isActive:a,pause:l,resume:u}}export{p as a,V as b,G as c,M as d,m as i,d as n,f as t,q as u,R as w};
