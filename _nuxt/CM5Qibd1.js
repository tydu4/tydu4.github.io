import{d as x,o as a,k as p,_ as w,w as y,a as l,c as o,e as i,t as s,u as d,E as m,f as k,F as _,D as B,j as c,X as N}from"./DXztqjCQ.js";import{_ as C}from"./DlAUqK2U.js";const E={class:"relative aspect-[16/9] w-full overflow-hidden bg-gradient-to-br from-primary/10 via-card to-primary/5"},L=["src","alt"],z={class:"absolute left-3 top-3 rounded-full bg-card/90 px-2 py-1 text-[10px] font-semibold text-foreground backdrop-blur-sm"},O={key:1,class:"absolute right-3 top-3 rounded-full bg-card/90 px-2 py-1 text-[10px] font-semibold text-primary backdrop-blur-sm"},S={class:"line-clamp-2 text-[15px] font-semibold leading-tight text-foreground"},T={class:"mt-1 truncate text-xs text-muted-foreground"},$={key:0,class:"font-semibold text-foreground"},j={key:1,class:"ml-auto text-muted-foreground"},F={class:"font-semibold text-foreground"},R={key:1,class:"mt-auto flex flex-wrap gap-1 pt-3"},D=x({__name:"EventCard",props:{event:{},showTags:{type:Boolean,default:!1},showGoingBadge:{type:Boolean,default:!1},showPrice:{type:Boolean,default:!1},showOrganizerRating:{type:Boolean,default:!1},compact:{type:Boolean,default:!1}},setup(e){const t=e,f=c(()=>{if(!t.event.start_time)return"–°–∫–æ—Ä–æ";const n=new Date(t.event.start_time);return Number.isNaN(n.getTime())?"–°–∫–æ—Ä–æ":new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"short"}).format(n).replace(".","").toUpperCase()}),g=c(()=>{const n=t.event.venue_name?.trim(),r=t.event.city?.trim();return n&&r?`${n} ‚Ä¢ ${r}`:n||r||"–ì–æ—Ä–æ–¥ –Ω–µ —É–∫–∞–∑–∞–Ω"}),v=c(()=>t.event.price===null||t.event.price===void 0?"–¶–µ–Ω–∞ —É—Ç–æ—á–Ω—è–µ—Ç—Å—è":t.event.price<=0?"–ë–µ—Å–ø–ª–∞—Ç–Ω–æ":`${Math.round(t.event.price).toLocaleString("ru-RU")} ‚ÇΩ`),h=c(()=>{const n=Number(t.event.rating??0);return!Number.isFinite(n)||n<=0?"N/A":n.toFixed(1)});return(n,r)=>{const b=w;return a(),p(b,{to:`/e/${e.event.slug}`,class:"group block h-full w-full select-none overflow-hidden rounded-2xl border border-border bg-card shadow-soft transition-all duration-200 hover:-translate-y-0.5 hover:shadow-elevated"},{default:y(()=>[l("div",E,[e.event.main_image?(a(),o("img",{key:0,src:e.event.main_image,alt:e.event.title,class:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy",draggable:"false"},null,8,L)):i("",!0),l("div",z,s(d(f)),1),e.showGoingBadge&&e.event.going_count>50?(a(),o("div",O," üî• "+s(e.event.going_count)+" –∏–¥—É—Ç ",1)):i("",!0)]),l("div",{class:m([e.compact?"p-3":"p-4","flex h-full flex-col"])},[l("h3",S,s(e.event.title),1),l("p",T,s(d(g)),1),e.showPrice||e.showOrganizerRating?(a(),o("div",{key:0,class:m([e.showTags&&e.event.tags?.length?"mt-3":"mt-auto pt-3","flex items-center justify-between gap-2 text-xs"])},[e.showPrice?(a(),o("span",$,s(d(v)),1)):i("",!0),e.showOrganizerRating?(a(),o("span",j,[r[0]||(r[0]=k(" Organizer ‚òÖ ",-1)),l("span",F,s(d(h)),1)])):i("",!0)],2)):i("",!0),e.showTags&&e.event.tags?.length?(a(),o("div",R,[(a(!0),o(_,null,B(e.event.tags,u=>(a(),o("span",{key:u,class:"rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium text-muted-foreground"},s(u),1))),128))])):i("",!0)],2)]),_:1},8,["to"])}}}),I=Object.assign(D,{__name:"EventsEventCard"}),V={},P={class:"overflow-hidden rounded-2xl border border-border bg-card shadow-sm"};function U(e,t){return a(),o("div",P,[...t[0]||(t[0]=[N('<div class="aspect-[16/9] w-full animate-pulse bg-muted"></div><div class="space-y-2 p-4"><div class="h-4 w-3/4 rounded-full bg-muted animate-pulse"></div><div class="h-3 w-1/2 rounded-full bg-muted animate-pulse"></div><div class="mt-2 flex gap-1"><div class="h-4 w-12 rounded-full bg-muted animate-pulse"></div><div class="h-4 w-16 rounded-full bg-muted animate-pulse"></div></div></div>',2)])])}const M=Object.assign(C(V,[["render",U]]),{__name:"EventsSkeletonEventCard"});export{I as E,M as S};
