import{f as b,c as V,s as C,a1 as k,T as _,L as r,O as e,F as c,K as a,M as f,H as o,W as x,G as B,J as w,S as T,v as u,y as E,n as N}from"./Bdjb0SXm.js";import A from"./B4TyZ_bU.js";import v from"./cRrWWQur.js";import"./Da0WQd-O.js";import"./BEYAt5ls.js";import"./DS_fG_uV.js";import"./DeHUBOuf.js";import"./MI7OGpUw.js";import"./BKfwxZk3.js";import"./C60XlcZO.js";import"./CKmkznge.js";import"./B0YsM2uZ.js";import"./Bh3fyw7B.js";import M from"./BsWIP-yW.js";import R from"./BNLw-KlI.js";import S from"./B4yhBorQ.js";import"./BcuCH1ZM.js";import U from"./Bkl1Gi2Q.js";import"./B3ikXpdR.js";import"./CkYB-R1u.js";import"./c5FhCeC0.js";const D={class:"space-y-2"},H={class:"space-y-2"},q={key:0,class:"text-sm text-red-400"},le=b({__name:"index",setup(F){const d=V(),{errorMessage:l}=C(d),h=k(),i=u(""),n=u(""),s=u(!1),p=E(()=>l.value?l.value:h.query.reason==="denied"?"Access Denied":""),y=async()=>{if(!s.value){s.value=!0,d.clearError();try{await d.login(i.value,n.value),await N("/")}catch{l.value||(l.value="Ошибка авторизации")}finally{s.value=!1}}};return(g,t)=>(c(),_(e(M),{class:"w-full max-w-md border border-white/10 bg-white/5 text-white shadow-2xl"},{default:r(()=>[a(e(R),{class:"space-y-1"},{default:r(()=>[a(e(S),{class:"text-xl"},{default:r(()=>[...t[2]||(t[2]=[f("Админ доступ",-1)])]),_:1}),t[3]||(t[3]=o("p",{class:"text-sm text-white/60"},"Вход только для администраторов системы.",-1))]),_:1}),a(e(U),{class:"space-y-4"},{default:r(()=>[o("div",D,[t[4]||(t[4]=o("label",{class:"text-xs uppercase tracking-[0.2em] text-white/50"},"Email / Username",-1)),a(e(v),{modelValue:e(i),"onUpdate:modelValue":t[0]||(t[0]=m=>x(i)?i.value=m:null),class:"h-11 bg-slate-900 text-white placeholder:text-white/40",placeholder:"admin@domain"},null,8,["modelValue"])]),o("div",H,[t[5]||(t[5]=o("label",{class:"text-xs uppercase tracking-[0.2em] text-white/50"},"Password",-1)),a(e(v),{modelValue:e(n),"onUpdate:modelValue":t[1]||(t[1]=m=>x(n)?n.value=m:null),type:"password",class:"h-11 bg-slate-900 text-white placeholder:text-white/40",placeholder:"••••••••"},null,8,["modelValue"])]),e(p)?(c(),B("p",q,w(e(p)),1)):T("",!0),a(e(A),{class:"w-full",disabled:e(s),onClick:y},{default:r(()=>[f(w(e(s)?"Входим...":"Войти"),1)]),_:1},8,["disabled"])]),_:1})]),_:1}))}});export{le as default};
