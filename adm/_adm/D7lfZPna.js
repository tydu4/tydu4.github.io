import{a4 as k,X as C,f as R,c as U,a5 as V,G as b,H as i,O as t,S as w,K as e,L as s,F as g,M as r,J as u,y as $}from"./Bdjb0SXm.js";import{u as S}from"./DI7PMaLP.js";import"./B4TyZ_bU.js";import"./cRrWWQur.js";import"./Da0WQd-O.js";import"./BEYAt5ls.js";import"./DS_fG_uV.js";import"./DeHUBOuf.js";import"./MI7OGpUw.js";import"./BKfwxZk3.js";import"./C60XlcZO.js";import"./CKmkznge.js";import"./B0YsM2uZ.js";import"./Bh3fyw7B.js";import m from"./BsWIP-yW.js";import p from"./BNLw-KlI.js";import c from"./B4yhBorQ.js";import"./BcuCH1ZM.js";import x from"./Bkl1Gi2Q.js";import"./B3ikXpdR.js";import"./CL3jLyeF.js";import"./CkYB-R1u.js";import"./c5FhCeC0.js";const H=()=>({async get(o,l={}){const n=k(o);return S(o,{baseURL:C(String(n)),...l},"$Rm7IY4mrBO")},async post(o,l,n={}){const _=k(o);return S(o,{method:"POST",body:l,baseURL:C(String(_)),...n},"$Rhd9_5gbHE")}}),L={class:"space-y-6"},O={key:0,class:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700"},T={class:"grid gap-3 md:grid-cols-2 xl:grid-cols-3"},h={key:1,class:"text-xs text-slate-500"},nt=R({__name:"index",async setup(o){let l,n;const _=H(),A=U(),{data:B,pending:F,error:N}=([l,n]=V(()=>_.get("/api/v1/admin/dashboard/stats",{$fetch:A.apiFetch})),l=await l,n(),l),d=$(()=>B.value||{users_total:0,users_new_today:0,events_active:0,tickets_sold:0,revenue_total:0,revenue_today:0}),f=new Intl.NumberFormat("ru-RU"),v=y=>`${f.format(y)} ₽`;return(y,a)=>(g(),b("div",L,[a[6]||(a[6]=i("div",{class:"flex items-center justify-between"},[i("div",null,[i("p",{class:"text-xs uppercase tracking-[0.3em] text-slate-500"},"Сводка"),i("h2",{class:"text-xl font-semibold"},"Системный дашборд")]),i("p",{class:"text-xs text-slate-500"},"Обновлено сегодня")],-1)),t(N)?(g(),b("div",O," Не удалось загрузить статистику. ")):w("",!0),i("div",T,[e(t(m),null,{default:s(()=>[e(t(p),{class:"pb-2"},{default:s(()=>[e(t(c),{class:"text-xs uppercase tracking-[0.2em] text-slate-500"},{default:s(()=>[...a[0]||(a[0]=[r("Всего пользователей",-1)])]),_:1})]),_:1}),e(t(x),{class:"text-3xl font-semibold"},{default:s(()=>[r(u(t(f).format(t(d).users_total)),1)]),_:1})]),_:1}),e(t(m),null,{default:s(()=>[e(t(p),{class:"pb-2"},{default:s(()=>[e(t(c),{class:"text-xs uppercase tracking-[0.2em] text-slate-500"},{default:s(()=>[...a[1]||(a[1]=[r("Новых сегодня",-1)])]),_:1})]),_:1}),e(t(x),{class:"text-3xl font-semibold"},{default:s(()=>[r(u(t(f).format(t(d).users_new_today)),1)]),_:1})]),_:1}),e(t(m),null,{default:s(()=>[e(t(p),{class:"pb-2"},{default:s(()=>[e(t(c),{class:"text-xs uppercase tracking-[0.2em] text-slate-500"},{default:s(()=>[...a[2]||(a[2]=[r("Активных событий",-1)])]),_:1})]),_:1}),e(t(x),{class:"text-3xl font-semibold"},{default:s(()=>[r(u(t(f).format(t(d).events_active)),1)]),_:1})]),_:1}),e(t(m),null,{default:s(()=>[e(t(p),{class:"pb-2"},{default:s(()=>[e(t(c),{class:"text-xs uppercase tracking-[0.2em] text-slate-500"},{default:s(()=>[...a[3]||(a[3]=[r("Продано билетов",-1)])]),_:1})]),_:1}),e(t(x),{class:"text-3xl font-semibold"},{default:s(()=>[r(u(t(f).format(t(d).tickets_sold)),1)]),_:1})]),_:1}),e(t(m),null,{default:s(()=>[e(t(p),{class:"pb-2"},{default:s(()=>[e(t(c),{class:"text-xs uppercase tracking-[0.2em] text-slate-500"},{default:s(()=>[...a[4]||(a[4]=[r("Выручка общая",-1)])]),_:1})]),_:1}),e(t(x),{class:"text-3xl font-semibold"},{default:s(()=>[r(u(v(t(d).revenue_total)),1)]),_:1})]),_:1}),e(t(m),null,{default:s(()=>[e(t(p),{class:"pb-2"},{default:s(()=>[e(t(c),{class:"text-xs uppercase tracking-[0.2em] text-slate-500"},{default:s(()=>[...a[5]||(a[5]=[r("Выручка сегодня",-1)])]),_:1})]),_:1}),e(t(x),{class:"text-3xl font-semibold"},{default:s(()=>[r(u(v(t(d).revenue_today)),1)]),_:1})]),_:1})]),t(F)?(g(),b("p",h,"Обновляем данные...")):w("",!0)]))}});export{nt as default};
